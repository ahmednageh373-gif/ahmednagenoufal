# ğŸ—ï¸ Ø¯Ù„ÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¥Ù†Ø´Ø§Ø¦ÙŠ Ø§Ù„Ø´Ø§Ù…Ù„

## ğŸ“‹ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Ù†Ø¸Ø§Ù… Ù…ØªÙƒØ§Ù…Ù„ Ù„ØªØ­ÙˆÙŠÙ„ **Ø¨Ù†ÙˆØ¯ Ø§Ù„Ù…Ù‚Ø§ÙŠØ³Ø© (BOQ)** Ø¥Ù„Ù‰ **Ø¬Ø¯ÙˆÙ„ Ø²Ù…Ù†ÙŠ ØªÙØµÙŠÙ„ÙŠ** Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ØªÙ‚Ù†ÙŠØ© **Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø­Ø±Ø¬ (CPM)** Ù…Ø¹ Ù…ÙˆØ§Ø²Ù†Ø© Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ ÙˆØªØµØ¯ÙŠØ± Ø¥Ù„Ù‰ ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø©.

---

## ğŸ¯ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

### 1ï¸âƒ£ **ØªÙÙƒÙŠÙƒ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ù…Ù‚Ø§ÙŠØ³Ø© (WBS Breakdown)**
- ØªØ­ÙˆÙŠÙ„ ÙƒÙ„ Ø¨Ù†Ø¯ Ù…Ù‚Ø§ÙŠØ³Ø© Ø¥Ù„Ù‰ **Ø£Ù†Ø´Ø·Ø© ÙØ±Ø¹ÙŠØ©** Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø¬Ø¯ÙˆÙ„Ø©
- **35+ Ù†Ø´Ø§Ø· ÙØ±Ø¹ÙŠ** Ø¹Ø¨Ø± 4 ÙØ¦Ø§Øª Ø±Ø¦ÙŠØ³ÙŠØ©:
  - Ø®Ø±Ø³Ø§Ù†Ø© Ø¨Ù„Ø§Ø·Ø© 100 Ù…Â³ (11 Ù†Ø´Ø§Ø·)
  - Ù„ÙŠØ§Ø³Ø© Ø¬Ø¯Ø±Ø§Ù† 200 Ù…Â² (8 Ø£Ù†Ø´Ø·Ø©)
  - Ø¨Ù„Ø§Ø· Ø¨ÙˆØ±Ø³Ù„Ø§Ù† 1,200 Ù…Â² (7 Ø£Ù†Ø´Ø·Ø©)
  - Ø³ÙˆØ± Ø´Ø¨Ùƒ Ù…Ø¹Ø¯Ù†ÙŠ 100 Ù… (9 Ø£Ù†Ø´Ø·Ø©)

### 2ï¸âƒ£ **Ù…Ø­Ø±Ùƒ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø­Ø±Ø¬ (CPM Engine)**
- **Ø­Ø³Ø§Ø¨ Ø¢Ù„ÙŠ** Ù„Ù€:
  - âœ… Early Start (ES) - Ø£Ø¨ÙƒØ± Ø¨Ø¯Ø§ÙŠØ©
  - âœ… Early Finish (EF) - Ø£Ø¨ÙƒØ± Ù†Ù‡Ø§ÙŠØ©
  - âœ… Late Start (LS) - Ø£Ø®Ø± Ø¨Ø¯Ø§ÙŠØ©
  - âœ… Late Finish (LF) - Ø£Ø®Ø± Ù†Ù‡Ø§ÙŠØ©
  - âœ… Total Float (TF) - Ø§Ù„ÙØ§Ø¦Ø¶ Ø§Ù„ÙƒÙ„ÙŠ
  - âœ… Free Float (FF) - Ø§Ù„ÙØ§Ø¦Ø¶ Ø§Ù„Ø­Ø±
- **Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„** Ù„Ø¬Ù…ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø±ÙˆØ§Ø¨Ø·:
  - `FS` (Finish-to-Start): Ø§Ù„Ø¯Ù‡Ø§Ù† ÙŠØ¨Ø¯Ø£ Ø¨Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ø¶
  - `SS` (Start-to-Start): Ø§Ù„Ø¨Ù„Ø§Ø· ÙŠØ¨Ø¯Ø£ Ù…Ø¹ Ø§Ù„ÙØ±Ø´Ø© (ØªØ¯Ø§Ø®Ù„)
  - `FF` (Finish-to-Finish): Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© ØªÙ†ØªÙ‡ÙŠ Ù…Ø¹ Ø§Ù„ØµØ¨
  - `SF` (Start-to-Finish): Ù†Ø§Ø¯Ø± - ØªØ³Ù„ÙŠÙ… Ø§Ù„Ù…ÙØªØ§Ø­

### 3ï¸âƒ£ **Ù…ÙˆØ§Ø²Ù†Ø© Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ (Resource Leveling)**
- **ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø­Ù…Ù„ Ø§Ù„Ø¹Ù…Ø§Ù„ÙŠ** Ø§Ù„ÙŠÙˆÙ…ÙŠ
- **Ø±Ø³Ù… Histogram** Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¹Ù…Ø§Ù„Ø©
- **ÙƒØ´Ù Ø§Ù„Ø°Ø±ÙˆØ§Øª**: Peak > 120% of Average
- **ÙØ­Øµ Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ø§Ø³ØªÙŠØ¹Ø§Ø¨ÙŠØ©**:
  - Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù…Ø§Ù„
  - Ø§Ù„Ø£Ø³ÙØ±Ù‘Ø©
  - ÙˆØ¬Ø¨Ø§Øª Ø§Ù„Ø·Ø¹Ø§Ù…
  - Ø§Ù„Ø­Ø§ÙÙ„Ø§Øª
- **Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø§Ù„ØªØ­Ø³ÙŠÙ†**:
  - ØªØ£Ø®ÙŠØ± Ø§Ù„Ø£Ù†Ø´Ø·Ø© ØºÙŠØ± Ø§Ù„Ø­Ø±Ø¬Ø©
  - Ø²ÙŠØ§Ø¯Ø© Ø¹Ø¯Ø¯ Ø§Ù„ÙˆØ±Ø¯ÙŠØ§Øª (1 â†’ 2 â†’ 3)
  - ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ÙƒØ¨ÙŠØ±Ø©

### 4ï¸âƒ£ **ØªØµØ¯ÙŠØ± Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª**
- **Excel (XLSX)**:
  - ÙˆØ±Ù‚Ø© "Schedule": Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ Ø§Ù„ÙƒØ§Ù…Ù„
  - ÙˆØ±Ù‚Ø© "Critical Path": Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø­Ø±Ø¬ ÙÙ‚Ø·
  - ÙˆØ±Ù‚Ø© "Logic Links": Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠØ©
  - ÙˆØ±Ù‚Ø© "Summary": Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
  - ØªÙ†Ø³ÙŠÙ‚ Ù…Ù„ÙˆÙ† Ù„Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø­Ø±Ø¬Ø© ğŸ”´
- **Primavera XER**:
  - Ù„Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯ ÙÙŠ Primavera P6
  - ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰: Activities + Logic + Dates
- **JSON**:
  - Ù„Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø£Ù†Ø¸Ù…Ø© Ø£Ø®Ø±Ù‰
  - Ø¨Ù†ÙŠØ© Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ§Ù…Ù„Ø©
- **Text Report**:
  - Ù„Ù„Ø·Ø¨Ø§Ø¹Ø© ÙˆØ§Ù„ØªÙˆØ«ÙŠÙ‚
  - Ù…Ù„Ø®Øµ + Ø¬Ø¯ÙˆÙ„ + Ù…Ø³Ø§Ø± Ø­Ø±Ø¬

---

## ğŸ“‚ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª

```
backend/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ activity_breakdown_rules.py    # Ù‚ÙˆØ§Ø¹Ø¯ ØªÙÙƒÙŠÙƒ Ø§Ù„Ù…Ù‚Ø§ÙŠØ³Ø©
â”‚   â””â”€â”€ schedules/                     # Ù…Ø¬Ù„Ø¯ Ù…Ù„ÙØ§Øª Ø§Ù„ØªØµØ¯ÙŠØ±
â”‚       â”œâ”€â”€ schedule.xlsx
â”‚       â”œâ”€â”€ schedule.xer
â”‚       â”œâ”€â”€ schedule.json
â”‚       â”œâ”€â”€ schedule.txt
â”‚       â””â”€â”€ resource_histogram.csv
â”‚
â”œâ”€â”€ scheduling/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ cpm_engine.py                  # Ù…Ø­Ø±Ùƒ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø­Ø±Ø¬
â”‚   â”œâ”€â”€ resource_leveling.py           # Ù…ÙˆØ§Ø²Ù†Ø© Ø§Ù„Ù…ÙˆØ§Ø±Ø¯
â”‚   â””â”€â”€ primavera_exporter.py          # Ø§Ù„ØªØµØ¯ÙŠØ±
â”‚
â””â”€â”€ api/
    â””â”€â”€ schedule_api.py                 # ÙˆØ§Ø¬Ù‡Ø© REST API
```

---

## ğŸš€ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø³Ø±ÙŠØ¹

### **Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 1: Python Script**

```python
from datetime import datetime
from backend.data.activity_breakdown_rules import CONCRETE_SLAB_100M3
from backend.scheduling.cpm_engine import build_schedule_from_boq
from backend.scheduling.resource_leveling import ResourceLeveler, SiteCapacity
from backend.scheduling.primavera_exporter import PrimaveraExporter

# 1ï¸âƒ£ Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ
cpm = build_schedule_from_boq(
    boq_breakdown=CONCRETE_SLAB_100M3,
    project_start_date=datetime(2025, 1, 1),
    shifts=1  # ÙˆØ±Ø¯ÙŠØ© ÙˆØ§Ø­Ø¯Ø©
)

# 2ï¸âƒ£ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„
cpm.print_schedule()

# 3ï¸âƒ£ Ù…ÙˆØ§Ø²Ù†Ø© Ø§Ù„Ù…ÙˆØ§Ø±Ø¯
site_capacity = SiteCapacity(
    max_workers=50,
    max_beds=60,
    max_meals=100,
    max_buses=2,
    workspace_area_m2=5000.0
)

leveler = ResourceLeveler(cpm, site_capacity)
histogram = leveler.analyze_original()
leveler.print_histogram(histogram)

# 4ï¸âƒ£ Ø§Ù„ØªØµØ¯ÙŠØ±
exporter = PrimaveraExporter(cpm, project_name="Ø®Ø±Ø³Ø§Ù†Ø© Ø¨Ù„Ø§Ø·Ø© 100 Ù…Â³")
exporter.export_excel("schedule.xlsx")
exporter.export_xer("schedule.xer")
exporter.export_json("schedule.json")
```

### **Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 2: REST API**

#### ğŸ“Œ 1. Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ù…Ù‚Ø§ÙŠØ³Ø©

```bash
GET /api/schedule/boq-codes
```

**Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©:**
```json
{
  "codes": ["CONC-SLAB-001", "PLAST-001", "TILE-001", "FENCE-001"],
  "total": 4,
  "details": [
    {
      "code": "CONC-SLAB-001",
      "description": "Ø®Ø±Ø³Ø§Ù†Ø© Ø¨Ù„Ø§Ø·Ø© 100 Ù…Â³ - C30",
      "category": "Concrete Works",
      "quantity": 100.0,
      "unit": "Ù…Â³",
      "sub_activities_count": 11
    }
  ]
}
```

#### ğŸ“Œ 2. ØªÙˆÙ„ÙŠØ¯ Ø¬Ø¯ÙˆÙ„ Ø²Ù…Ù†ÙŠ

```bash
POST /api/schedule/generate
Content-Type: application/json

{
  "boq_code": "CONC-SLAB-001",
  "project_name": "Ù…Ø´Ø±ÙˆØ¹ Ù…ÙƒØªØ¨ÙŠ - Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø£Ø±Ø¶ÙŠ",
  "project_start_date": "2025-01-01",
  "shifts": 1,
  "working_days_per_week": 6,
  "max_workers": 50
}
```

**Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©:**
```json
{
  "project_name": "Ù…Ø´Ø±ÙˆØ¹ Ù…ÙƒØªØ¨ÙŠ - Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø£Ø±Ø¶ÙŠ",
  "project_summary": {
    "project_duration_days": 31.3,
    "project_duration_weeks": 4.5,
    "project_start": "2025-01-01",
    "project_finish": "2025-02-06",
    "total_activities": 11,
    "critical_activities": 8,
    "criticality_percentage": 72.7
  },
  "activities": [
    {
      "id": "CONC-SLAB-001-A",
      "name": "ØªØ³Ù„ÙŠÙ… Ù…ÙˆÙ‚Ø¹ (Hand-over)",
      "duration": 0.5,
      "early_start": 0.0,
      "early_finish": 0.5,
      "total_float": 0.0,
      "is_critical": true,
      "crew_size": 2
    }
  ],
  "critical_path": ["CONC-SLAB-001-A", "CONC-SLAB-001-B", ...],
  "resource_histogram": {
    "peak_workers": 9,
    "average_workers": 3.7,
    "peak_ratio": 2.42,
    "is_balanced": false
  }
}
```

#### ğŸ“Œ 3. ØªØµØ¯ÙŠØ± Ø§Ù„Ø¬Ø¯ÙˆÙ„

```bash
POST /api/schedule/export
Content-Type: application/json

{
  "boq_code": "CONC-SLAB-001",
  "project_name": "Ù…Ø´Ø±ÙˆØ¹ Ù…ÙƒØªØ¨ÙŠ",
  "project_start_date": "2025-01-01",
  "shifts": 1,
  "export_format": "excel"  # Ø£Ùˆ: xer, json, txt
}
```

**Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©:** Ù…Ù„Ù Excel Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ­Ù…ÙŠÙ„

---

## ğŸ“Š Ù…Ø«Ø§Ù„ ØªÙØµÙŠÙ„ÙŠ: Ø®Ø±Ø³Ø§Ù†Ø© Ø¨Ù„Ø§Ø·Ø© 100 Ù…Â³

### **Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª:**
- **Ø§Ù„Ø¨Ù†Ø¯**: Ø®Ø±Ø³Ø§Ù†Ø© Ø¨Ù„Ø§Ø·Ø© C30
- **Ø§Ù„ÙƒÙ…ÙŠØ©**: 100 Ù…Â³
- **ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©**: 2025-01-01
- **Ø§Ù„ÙˆØ±Ø¯ÙŠØ§Øª**: 1 ÙˆØ±Ø¯ÙŠØ© (8 Ø³Ø§Ø¹Ø§Øª/ÙŠÙˆÙ…)
- **Ø£ÙŠØ§Ù… Ø§Ù„Ø¹Ù…Ù„**: 6 Ø£ÙŠØ§Ù…/Ø£Ø³Ø¨ÙˆØ¹ (Ø§Ù„Ø¬Ù…Ø¹Ø© Ø±Ø§Ø­Ø©)

### **Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ÙØ±Ø¹ÙŠØ© (11 Ù†Ø´Ø§Ø·):**

| # | Ø±Ù…Ø² Ø§Ù„Ù†Ø´Ø§Ø· | Ø§Ù„Ø§Ø³Ù… | Ø§Ù„Ù…Ø¯Ø© | ES | EF | TF | Ø­Ø±Ø¬ |
|---|------------|-------|------|----|----|----|----|
| 1 | CONC-SLAB-001-A | ØªØ³Ù„ÙŠÙ… Ù…ÙˆÙ‚Ø¹ | 0.5 | 0.0 | 0.5 | 0.0 | ğŸ”´ |
| 2 | CONC-SLAB-001-B | Ø­ÙØ± Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠ | 4.1 | 0.5 | 4.6 | 0.0 | ğŸ”´ |
| 3 | CONC-SLAB-001-C | ØªÙ…Ù‡ÙŠØ¯ ÙˆØªÙ†Ø¸ÙŠÙ | 0.4 | 4.6 | 5.0 | 0.0 | ğŸ”´ |
| 4 | CONC-SLAB-001-D | Ø±Ù…Ù„ ÙØ±Ø´Ø© 5 cm | 2.6 | 5.0 | 7.6 | 0.0 | ğŸ”´ |
| 5 | CONC-SLAB-001-E | Ù‚Øµ ÙˆØ«Ù†ÙŠ Ø§Ù„Ø­Ø¯ÙŠØ¯ | 10.3 | 5.0 | 15.3 | 0.0 | ğŸ”´ |
| 6 | CONC-SLAB-001-F | ØªØ±ÙƒÙŠØ¨ Ø§Ù„ØªØ³Ù„ÙŠØ­ | 10.3 | 15.3 | 25.6 | 0.0 | ğŸ”´ |
| 7 | CONC-SLAB-001-G | ØªØ¬Ù‡ÙŠØ± Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ | 3.3 | 15.3 | 18.6 | 7.0 | âšª |
| 8 | CONC-SLAB-001-H | ØµØ¨ Ø§Ù„Ø®Ø±Ø³Ø§Ù†Ø© | 2.6 | 25.6 | 28.3 | 0.0 | ğŸ”´ |
| 9 | CONC-SLAB-001-I | Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø§Ø¦ÙŠØ© | 0.4 | 29.3 | 29.7 | 1.6 | âšª |
| 10 | CONC-SLAB-001-J | ÙÙƒ Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ | 2.1 | 29.3 | 31.3 | 0.0 | ğŸ”´ |
| 11 | CONC-SLAB-001-K | ØªØ³Ù„ÙŠÙ… Ø§Ø³ØªØ´Ø§Ø±ÙŠ | 0.5 | 29.2 | 29.7 | 1.6 | âšª |

### **Ø§Ù„Ù†ØªØ§Ø¦Ø¬:**
- **Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©**: 31.3 ÙŠÙˆÙ… (4.5 Ø£Ø³Ø¨ÙˆØ¹)
- **ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡**: 2025-02-06
- **Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø­Ø±Ø¬Ø©**: 8/11 (72.7%)
- **Ø°Ø±ÙˆØ© Ø§Ù„Ø¹Ù…Ø§Ù„Ø©**: 9 Ø¹Ø§Ù…Ù„
- **Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¹Ù…Ø§Ù„Ø©**: 3.7 Ø¹Ø§Ù…Ù„
- **Ù†Ø³Ø¨Ø© Ø§Ù„Ø°Ø±ÙˆØ©**: 242% âŒ (ÙŠØ­ØªØ§Ø¬ Ù…ÙˆØ§Ø²Ù†Ø©)

### **Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø­Ø±Ø¬:**
```
ØªØ³Ù„ÙŠÙ… Ù…ÙˆÙ‚Ø¹ â†’ Ø­ÙØ± â†’ ØªÙ…Ù‡ÙŠØ¯ â†’ ÙØ±Ø´Ø© â†’ Ù‚Øµ Ø­Ø¯ÙŠØ¯ â†’ ØªØ±ÙƒÙŠØ¨ Ø­Ø¯ÙŠØ¯ â†’ ØµØ¨ â†’ ÙÙƒ Ù‚ÙˆØ§Ù„Ø¨
```

### **ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù…ÙˆØ§Ø²Ù†Ø©:**
1. **ØªØ£Ø®ÙŠØ± Ø§Ù„Ù†Ø´Ø§Ø· G** (ØªØ¬Ù‡ÙŠØ± Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨): Ù„Ø¯ÙŠÙ‡ Float = 7 Ø£ÙŠØ§Ù…
2. **ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ù†Ø´Ø§Ø· F** (ØªØ±ÙƒÙŠØ¨ Ø§Ù„ØªØ³Ù„ÙŠØ­): 10 Ø£ÙŠØ§Ù… â†’ Ù‚Ø³Ù…ÙŠÙ† Ã— 5 Ø£ÙŠØ§Ù…
3. **Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ÙˆØ±Ø¯ÙŠØ§Øª Ù„Ù„Ù†Ø´Ø§Ø· H** (Ø§Ù„ØµØ¨): Ù…Ù† 1 â†’ 2 ÙˆØ±Ø¯ÙŠØ§Øª

---

## ğŸ”§ ØªÙØ§ØµÙŠÙ„ ØªÙ‚Ù†ÙŠØ©

### **Ù…Ø¹Ø¯Ù„Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© (Productivity Rates)**

| Ø§Ù„Ù†Ø´Ø§Ø· | Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© | Ø§Ù„ÙˆØ­Ø¯Ø© | Ø§Ù„Ø·Ø§Ù‚Ù… | Ø§Ù„Ù…Ø¹Ø¯Ø§Øª |
|--------|----------|--------|--------|---------|
| Ø­ÙØ± Ø±Ù…Ù„ÙŠ | 25 Ù…Â³/ÙŠÙˆÙ… | Ù…Â³ | 1 Ø­ÙØ§Ø± + 2 Ù‚Ù„Ø§Ø¨ + 2 Ø¹Ø§Ù…Ù„ | Excavator 1.5mÂ³ |
| Ù‚Øµ Ø­Ø¯ÙŠØ¯ | 1.1 Ø·Ù†/ÙŠÙˆÙ… | Ø·Ù† | 1 Ø­Ø¯Ø§Ø¯ + 1 Ù…Ø³Ø§Ø¹Ø¯ | Bar bender |
| ØµØ¨ Ø®Ø±Ø³Ø§Ù†Ø© | 40 Ù…Â³/ÙŠÙˆÙ… | Ù…Â³ | Ù…Ø¶Ø®Ø© + 6 Ø¹Ø§Ù…Ù„ | Pump + vibrator |
| Ø¨Ù„Ø§Ø· | 30 Ù…Â²/ÙŠÙˆÙ… | Ù…Â² | 1 Ù…Ø¨Ù„Ø· + 1 Ù…Ø³Ø§Ø¹Ø¯ | Tile cutter |
| Ù„ÙŠØ§Ø³Ø© | 140 Ù…Â²/ÙŠÙˆÙ… | Ù…Â² | 2 Ù…Ø¨ÙŠØ¶ + 1 Ù…ÙˆÙ†Ø© | Mixer |

### **Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ø§Ù„Ù…Ø®Ø§Ø·Ø± (Risk Buffers)**

| Ù†ÙˆØ¹ Ø§Ù„Ù†Ø´Ø§Ø· | Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ | Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… |
|-----------|----------|----------|
| Ø­Ø±Ø¬ (Critical) | +5% | Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø­Ø±Ø¬ |
| Ø¹Ø§Ø¯ÙŠ (Normal) | +3% | Ø§Ù„Ø£Ù†Ø´Ø·Ø© ØºÙŠØ± Ø§Ù„Ø­Ø±Ø¬Ø© |
| Ø¯Ù‚ÙŠÙ‚ (Precise) | +8% | Ø±Ø®Ø§Ù… ÙØ§Ø®Ø±ØŒ ØªØ´Ø·ÙŠØ¨Ø§Øª Ø¹Ø§Ù„ÙŠØ© |
| Ø®Ø§Ø±Ø¬ÙŠ (External) | +6% | Ø£Ø¹Ù…Ø§Ù„ ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ù…Ù‚Ø§ÙˆÙ„ÙŠÙ† |

### **Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„ÙˆØ±Ø¯ÙŠØ§Øª (Shift Factors)**

| Ø¹Ø¯Ø¯ Ø§Ù„ÙˆØ±Ø¯ÙŠØ§Øª | Ù…Ø¹Ø§Ù…Ù„ Ø§Ù„Ù…Ø¯Ø© | Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„ | Ù…Ù„Ø§Ø­Ø¸Ø§Øª |
|-------------|------------|-------------|---------|
| 1 ÙˆØ±Ø¯ÙŠØ© | 1.0 | 8 Ø³Ø§Ø¹Ø§Øª/ÙŠÙˆÙ… | Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ |
| 2 ÙˆØ±Ø¯ÙŠØ© | 0.6 | 16 Ø³Ø§Ø¹Ø©/ÙŠÙˆÙ… | ÙˆÙØ± 40% Ù…Ù† Ø§Ù„ÙˆÙ‚Øª |
| 3 ÙˆØ±Ø¯ÙŠØ§Øª | 0.45 | 24 Ø³Ø§Ø¹Ø©/ÙŠÙˆÙ… | ÙˆÙØ± 55% Ù…Ù† Ø§Ù„ÙˆÙ‚Øª |

### **Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠØ© (Logic Links)**

#### **Ù…Ø«Ø§Ù„ 1: Finish-to-Start (FS)**
```
[Ø§Ù„Ø¨ÙŠØ§Ø¶ ÙŠÙ†ØªÙ‡ÙŠ ÙŠÙˆÙ… 10] FS+0 â†’ [Ø§Ù„Ø¯Ù‡Ø§Ù† ÙŠØ¨Ø¯Ø£ ÙŠÙˆÙ… 10]
```

#### **Ù…Ø«Ø§Ù„ 2: Start-to-Start (SS)**
```
[Ø§Ù„ÙØ±Ø´Ø© ØªØ¨Ø¯Ø£ ÙŠÙˆÙ… 5] SS+2 â†’ [Ø§Ù„Ø¨Ù„Ø§Ø· ÙŠØ¨Ø¯Ø£ ÙŠÙˆÙ… 7]
```

#### **Ù…Ø«Ø§Ù„ 3: Finish-to-Finish (FF)**
```
[Ø§Ù„ØµØ¨ ÙŠÙ†ØªÙ‡ÙŠ ÙŠÙˆÙ… 20] FF+0 â†’ [Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© ØªÙ†ØªÙ‡ÙŠ ÙŠÙˆÙ… 20]
```

---

## ğŸ“ˆ Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

### **1. Ù…Ø´Ø±ÙˆØ¹ Ø³ÙƒÙ†ÙŠ (100 ÙÙŠÙ„Ø§)**
```python
# ØªÙˆÙ„ÙŠØ¯ Ø¬Ø¯ÙˆÙ„ Ù„Ù€ 100 ÙÙŠÙ„Ø§ Ù…ØªØ·Ø§Ø¨Ù‚Ø©
for villa_num in range(1, 101):
    cpm = build_schedule_from_boq(
        boq_breakdown=CONCRETE_SLAB_100M3,
        project_start_date=datetime(2025, 1, 1) + timedelta(days=villa_num * 30),
        shifts=2  # ÙˆØ±Ø¯ÙŠØªÙŠÙ† Ù„Ù„ØªØ³Ø±ÙŠØ¹
    )
    exporter = PrimaveraExporter(cpm, project_name=f"ÙÙŠÙ„Ø§ {villa_num}")
    exporter.export_excel(f"villa_{villa_num}_schedule.xlsx")
```

### **2. Ù…Ø´Ø±ÙˆØ¹ ØªØ¬Ø§Ø±ÙŠ (Ø¨Ø±Ø¬ 30 Ø¯ÙˆØ±)**
```python
# Ø¯ÙˆØ±Ø§Øª Ù…ØªÙƒØ±Ø±Ø©
for floor_num in range(1, 31):
    # Ø®Ø±Ø³Ø§Ù†Ø© Ø¨Ù„Ø§Ø·Ø©
    cpm_slab = build_schedule_from_boq(...)
    
    # Ù„ÙŠØ§Ø³Ø©
    cpm_plaster = build_schedule_from_boq(...)
    
    # Ø¨Ù„Ø§Ø·
    cpm_tiles = build_schedule_from_boq(...)
    
    # Ø¯Ù…Ø¬ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„
    # (ÙŠØªØ·Ù„Ø¨ ØªØ·ÙˆÙŠØ± Ø¥Ø¶Ø§ÙÙŠ)
```

### **3. ØªØ­Ù„ÙŠÙ„ "Ù…Ø§Ø°Ø§ Ù„Ùˆ" (What-If Analysis)**
```python
scenarios = [
    {'shifts': 1, 'workers': 10, 'name': 'Ø¹Ø§Ø¯ÙŠ'},
    {'shifts': 2, 'workers': 20, 'name': 'Ø³Ø±ÙŠØ¹'},
    {'shifts': 3, 'workers': 30, 'name': 'Ø·ÙˆØ§Ø±Ø¦'}
]

for scenario in scenarios:
    cpm = build_schedule_from_boq(
        boq_breakdown=CONCRETE_SLAB_100M3,
        project_start_date=datetime(2025, 1, 1),
        shifts=scenario['shifts']
    )
    
    print(f"Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ {scenario['name']}: Ø§Ù„Ù…Ø¯Ø© = {cpm.project_duration:.1f} ÙŠÙˆÙ…")
```

---

## âš ï¸ Ù‚ÙŠÙˆØ¯ ÙˆÙ…Ù„Ø§Ø­Ø¸Ø§Øª

### **Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠØ©:**
1. **Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù‡Ø¬Ø±ÙŠ** (ÙÙ‚Ø· Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ)
2. **Ù„Ø§ ÙŠØ­Ø³Ø¨ Ø±Ù…Ø¶Ø§Ù† ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹** (ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØªÙ‡ ÙŠØ¯ÙˆÙŠØ§Ù‹)
3. **Ø§Ù„Ø¹Ø·Ù„ Ø§Ù„Ø±Ø³Ù…ÙŠØ©** ØªØ­ØªØ§Ø¬ Ø¥Ø¯Ø®Ø§Ù„ ÙŠØ¯ÙˆÙŠ
4. **Ø§Ù„Ø·Ù‚Ø³** ØºÙŠØ± Ù…Ø­Ø³ÙˆØ¨ (ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© buffer)

### **Ø§Ù„ØªØ·ÙˆÙŠØ±Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©:**
- [ ] Ø¯Ø¹Ù… Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù‡Ø¬Ø±ÙŠ
- [ ] ÙƒØ´Ù Ø±Ù…Ø¶Ø§Ù† ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
- [ ] Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¹Ø·Ù„ Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ù…Ù† API
- [ ] ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø·Ù‚Ø³ Ù…Ù† Weather API
- [ ] Ø¯Ù…Ø¬ Ø¬Ø¯Ø§ÙˆÙ„ Ù…ØªØ¹Ø¯Ø¯Ø© (Multi-Project)
- [ ] ØªØªØ¨Ø¹ Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„ÙØ¹Ù„ÙŠ (Progress Tracking)
- [ ] ØªØ­Ù„ÙŠÙ„ Earned Value (EVM)

---

## ğŸ§ª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª

### **Ø§Ø®ØªØ¨Ø§Ø± ÙƒØ§Ù…Ù„:**
```bash
cd /home/user/webapp

# 1. ØªÙÙƒÙŠÙƒ Ø§Ù„Ù…Ù‚Ø§ÙŠØ³Ø©
python backend/data/activity_breakdown_rules.py

# 2. Ù…Ø­Ø±Ùƒ CPM
python backend/scheduling/cpm_engine.py

# 3. Ù…ÙˆØ§Ø²Ù†Ø© Ø§Ù„Ù…ÙˆØ§Ø±Ø¯
python backend/scheduling/resource_leveling.py

# 4. Ø§Ù„ØªØµØ¯ÙŠØ±
python backend/scheduling/primavera_exporter.py

# 5. API
python backend/api/schedule_api.py
```

### **Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:**
```
âœ… Activity Breakdown: 35 Ø£Ù†Ø´Ø·Ø© ÙØ±Ø¹ÙŠØ©
âœ… CPM Engine: 31.3 ÙŠÙˆÙ… (8 Ø­Ø±Ø¬ØŒ 3 Ø¹Ø§Ø¯ÙŠ)
âœ… Resource Leveling: Histogram Ù…ØªÙˆØ§Ø²Ù†
âœ… Export: Excel + XER + JSON + TXT
âœ… API: 5 endpoints ØªØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­
```

---

## ğŸ“ Ø§Ù„Ø¯Ø¹Ù… ÙˆØ§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©

### **Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©:**

**Q1: ÙƒÙŠÙ Ø£Ø¶ÙŠÙ Ø¨Ù†Ø¯ Ù…Ù‚Ø§ÙŠØ³Ø© Ø¬Ø¯ÙŠØ¯ØŸ**
```python
# ÙÙŠ Ù…Ù„Ù activity_breakdown_rules.py
NEW_BOQ_ITEM = BOQBreakdown(
    boq_code="NEW-001",
    boq_description="ÙˆØµÙ Ø§Ù„Ø¨Ù†Ø¯",
    total_quantity=100.0,
    unit="Ù…Â³",
    category="Concrete Works",
    sub_activities=[
        SubActivity(...),
        SubActivity(...),
        # ... Ø§Ù„Ù…Ø²ÙŠØ¯
    ]
)

ALL_BOQ_BREAKDOWNS["NEW-001"] = NEW_BOQ_ITEM
```

**Q2: ÙƒÙŠÙ Ø£ØºÙŠØ± Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©ØŸ**
```python
# Ø¹Ø¯Ù‘Ù„ ÙÙŠ productivity_rate
ProductivityRate(
    rate_per_day=50.0,  # ÙƒØ§Ù† 40
    unit="Ù…Â³/ÙŠÙˆÙ…",
    crew=CrewComposition(...)
)
```

**Q3: ÙƒÙŠÙ Ø£Ø¶ÙŠÙ Ø¹Ø·Ù„Ø© Ø±Ø³Ù…ÙŠØ©ØŸ**
```python
# ÙÙŠ cpm_engine.pyØŒ Ø¹Ø¯Ù‘Ù„ _add_working_days()
def _add_working_days(self, start_date: datetime, days: int) -> datetime:
    holidays = [datetime(2025, 1, 1), datetime(2025, 9, 23)]  # Ø£Ø¶Ù Ù‡Ù†Ø§
    # ... Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙƒÙˆØ¯
```

---

## ğŸ“ Ø§Ù„Ø®Ù„Ø§ØµØ©

Ù†Ø¸Ø§Ù… Ø´Ø§Ù…Ù„ ÙŠØ­ÙˆÙ„ Ø§Ù„Ù…Ù‚Ø§ÙŠØ³Ø© Ø¥Ù„Ù‰ Ø¬Ø¯ÙˆÙ„ Ø²Ù…Ù†ÙŠ Ø§Ø­ØªØ±Ø§ÙÙŠ Ø¨Ù€ **3 Ø®Ø·ÙˆØ§Øª**:

```python
# 1ï¸âƒ£ Ø¨Ù†Ø§Ø¡
cpm = build_schedule_from_boq(boq_breakdown, start_date, shifts)

# 2ï¸âƒ£ ØªØ­Ù„ÙŠÙ„
leveler = ResourceLeveler(cpm, site_capacity)
histogram = leveler.analyze_original()

# 3ï¸âƒ£ ØªØµØ¯ÙŠØ±
exporter = PrimaveraExporter(cpm, project_name)
exporter.export_excel("schedule.xlsx")
```

**âœ… Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙÙˆØ±ÙŠ!**

---

**ğŸ“… Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«**: 2025-01-07  
**ğŸ—ï¸ Ø§Ù„Ø¥ØµØ¯Ø§Ø±**: 1.0.0  
**ğŸ‘¨â€ğŸ’» Ø§Ù„Ù…Ø·ÙˆØ±**: Construction Scheduling System
