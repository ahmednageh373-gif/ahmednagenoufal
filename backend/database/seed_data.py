"""
ุชุญููู ุงูุจูุงูุงุช ุงูุฃูููุฉ - Seed Data
ูุญูู ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ ูุชุดุบูู ุงููุธุงู
"""

import sqlite3
from pathlib import Path


def seed_productivity_rates(cursor):
    """ุชุญููู ูุนุฏูุงุช ุงูุฅูุชุงุฌูุฉ"""
    
    productivity_data = [
        # ุฃุนูุงู ุงูุฎุฑุณุงูุฉ
        ('ุตุจ ุงูุฎุฑุณุงูุฉ', 'ุฎุฑุณุงูุฉ', 'ูยณ', 0.15, 8, 'ุฎูุงุท ุฎุฑุณุงูุฉุ ูุถุฎุฉ', 1.0, 1.0, 10, 'ูุนุฏูุงุช ููุงุณูุฉ', 'ุจูุงุก ุนุงุฏู'),
        ('ุญูุฑ ุฃุณุงุณุงุช', 'ุฃุนูุงู ุชุฑุงุจูุฉ', 'ูยณ', 0.08, 6, 'ุญูุงุฑ', 1.0, 1.2, 10, 'ูุนุฏูุงุช ููุงุณูุฉ', 'ุชุฑุจุฉ ุนุงุฏูุฉ'),
        ('ุชุณููุญ ุนุงุฏู', 'ุญุฏูุฏ', 'ุทู', 12.0, 6, 'ููุงุดุฉุ ููุต ุญุฏูุฏ', 1.0, 1.0, 9, 'ูุนุฏูุงุช ููุงุณูุฉ', 'ุฃุณูุงุฎ 8-16 ูู'),
        ('ุจูุงุก ุฌุฏุฑุงู ุจููู', 'ูุจุงูู', 'ูยฒ', 0.25, 4, 'ููุฏุฑ ุตุบูุฑ', 1.0, 1.0, 9, 'ูุนุฏูุงุช ููุงุณูุฉ', 'ุจููู 20 ุณู'),
        ('ููุงุณุฉ ุฏุงุฎููุฉ', 'ุชุดุทูุจุงุช', 'ูยฒ', 0.15, 4, 'ุฎูุงุท ููุงุณุฉ', 1.0, 1.0, 8, 'ูุนุฏูุงุช ููุงุณูุฉ', 'ุณูู 2 ุณู'),
        ('ุจูุงุท ุฃุฑุถูุงุช', 'ุชุดุทูุจุงุช', 'ูยฒ', 0.20, 3, 'ูุงุทุน ุจูุงุท', 1.0, 1.0, 8, 'ูุนุฏูุงุช ููุงุณูุฉ', 'ุจูุงุท ุณูุฑุงููู'),
        ('ุฏูุงูุงุช ุฏุงุฎููุฉ', 'ุชุดุทูุจุงุช', 'ูยฒ', 0.10, 2, 'ุณูุงูุงุช ูุชูููุฉ', 1.0, 1.0, 7, 'ูุนุฏูุงุช ููุงุณูุฉ', 'ุฏูุงู ุจูุงุณุชูู'),
        ('ุนุฒู ุฑุทูุจุฉ', 'ุนุฒู', 'ูยฒ', 0.12, 3, 'ูุญุงู ุจุงูุญุฑุงุฑุฉ', 1.0, 1.0, 8, 'ูุนุฏูุงุช ููุงุณูุฉ', 'ุจูุชูููู'),
        ('ุชุฑููุจ ุฃุจูุงุจ ุฎุดุจ', 'ูุฌุงุฑุฉ', 'ุนุฏุฏ', 2.0, 2, 'ุฃุฏูุงุช ูุฌุงุฑุฉ', 1.0, 1.0, 7, 'ูุนุฏูุงุช ููุงุณูุฉ', 'ุจุงุจ ุฎุดุจ ุนุงุฏู'),
        ('ููุงุณูุฑ ุณุจุงูุฉ', 'ุณุจุงูุฉ', 'ูุชุฑ', 0.08, 2, 'ุฃุฏูุงุช ูุทุน ููุญุงู', 1.0, 1.0, 7, 'ูุนุฏูุงุช ููุงุณูุฉ', 'PVC'),
    ]
    
    cursor.executemany('''
        INSERT INTO productivity_rates 
        (activity_type, category, unit, rate_per_unit, crew_size, equipment_needed, 
         complexity_factor, weather_factor, priority, source, notes)
        VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    ''', productivity_data)
    
    print(f"โ ุชู ุชุญููู {len(productivity_data)} ูุนุฏู ุฅูุชุงุฌูุฉ")


def seed_classification_dictionary(cursor):
    """ุชุญููู ูุงููุณ ุงูุชุตููู"""
    
    classification_data = [
        # ุฃุนูุงู ุงูุฎุฑุณุงูุฉ
        ('ุฎุฑุณุงูุฉ', 'ุฎุฑุณุงูุฉ', 'ุตุจ', 'ุนุงุฏู', 10, 0.95, 'ุฎุฑุณุงููุ ุตุจ ุฎุฑุณุงูุฉ', None),
        ('ุฃุณุงุณุงุช', 'ุฎุฑุณุงูุฉ', 'ุฃุณุงุณุงุช', 'ููุงุนุฏ', 10, 0.95, 'ููุงุนุฏุ ุฃุณุงุณ', None),
        ('ุฃุนูุฏุฉ', 'ุฎุฑุณุงูุฉ', 'ุฃุนูุฏุฉ', 'ุนุงุฏู', 10, 0.95, 'ุนููุฏุ columns', None),
        ('ููุฑุงุช', 'ุฎุฑุณุงูุฉ', 'ููุฑุงุช', 'ุนุงุฏู', 10, 0.95, 'ููุฑูุ ุฌุณูุฑุ beams', None),
        ('ุจูุงุทุงุช', 'ุฎุฑุณุงูุฉ', 'ุจูุงุทุงุช', 'ุนุงุฏู', 10, 0.95, 'ุจูุงุทูุ ุณููุ slab', None),
        
        # ุฃุนูุงู ุงูุญุฏูุฏ
        ('ุญุฏูุฏ ุชุณููุญ', 'ุญุฏูุฏ', 'ุชุณููุญ', 'ุนุงุฏู', 10, 0.95, 'ุชุณููุญุ ุญุฏูุฏุ steel', None),
        
        # ุฃุนูุงู ุงููุจุงูู
        ('ุจููู', 'ูุจุงูู', 'ุจูุงุก', 'ุจููู', 10, 0.95, 'ุทูุจ ุจูููุ blocks', None),
        ('ุทูุจ', 'ูุจุงูู', 'ุจูุงุก', 'ุทูุจ ุฃุญูุฑ', 10, 0.95, 'ุทูุจ ุฃุญูุฑุ bricks', None),
        ('ุฌุฏุฑุงู', 'ูุจุงูู', 'ุจูุงุก', 'ุฌุฏุฑุงู', 10, 0.95, 'ุญูุงุฆุทุ walls', None),
        
        # ุฃุนูุงู ุงูุชุดุทูุจุงุช
        ('ููุงุณุฉ', 'ุชุดุทูุจุงุช', 'ููุงุณุฉ', 'ุฏุงุฎูู', 10, 0.95, 'ุจูุงุถุ ูุญุงุฑุฉุ plaster', None),
        ('ุจูุงุท', 'ุชุดุทูุจุงุช', 'ุจูุงุท', 'ุฃุฑุถูุงุช', 10, 0.95, 'ุณูุฑุงูููุ ุฑุฎุงูุ tiles', None),
        ('ุฏูุงู', 'ุชุดุทูุจุงุช', 'ุฏูุงูุงุช', 'ุฏุงุฎูู', 10, 0.95, 'ุฏูุงูุงุชุ ุทูุงุกุ paint', None),
        
        # ุฃุนูุงู ุงูุนุฒู
        ('ุนุฒู', 'ุนุฒู', 'ุนุฒู ุฑุทูุจุฉ', 'ุจูุชูููู', 10, 0.95, 'ุนุฒู ูุงุฆูุ waterproofing', None),
        
        # ุฃุนูุงู ุงููุฌุงุฑุฉ
        ('ุฃุจูุงุจ', 'ูุฌุงุฑุฉ', 'ุฃุจูุงุจ', 'ุฎุดุจ', 10, 0.95, 'ุจุงุจุ doors', None),
        ('ุดุจุงุจูู', 'ูุฌุงุฑุฉ', 'ุดุจุงุจูู', 'ุฃูููููู', 10, 0.95, 'ููุงูุฐุ windows', None),
        
        # ุฃุนูุงู ุงูุณุจุงูุฉ
        ('ุณุจุงูุฉ', 'ุณุจุงูุฉ', 'ููุงุณูุฑ', 'PVC', 10, 0.95, 'ููุงุณูุฑ ุณุจุงูุฉุ plumbing', None),
        
        # ุฃุนูุงู ุงูููุฑุจุงุก
        ('ููุฑุจุงุก', 'ููุฑุจุงุก', 'ูุงุจูุงุช', 'ูุญุงุณ', 10, 0.95, 'ุฃุณูุงูุ electrical', None),
        
        # ุฃุนูุงู ุงูุญูุฑ
        ('ุญูุฑ', 'ุฃุนูุงู ุชุฑุงุจูุฉ', 'ุญูุฑ', 'ุนุงุฏู', 10, 0.95, 'ุญูุฑูุงุชุ excavation', None),
        ('ุฑุฏู', 'ุฃุนูุงู ุชุฑุงุจูุฉ', 'ุฑุฏู', 'ุนุงุฏู', 9, 0.90, 'ุฏูุงูุ backfill', None),
    ]
    
    cursor.executemany('''
        INSERT INTO classification_dictionary 
        (keyword, tier1_category, tier2_subcategory, tier3_specification, 
         priority, confidence_score, alternative_keywords, notes)
        VALUES (?, ?, ?, ?, ?, ?, ?, ?)
    ''', classification_data)
    
    print(f"โ ุชู ุชุญููู {len(classification_data)} ูููุฉ ููุชุงุญูุฉ ููุชุตููู")


def main():
    """ุงูุจุฑูุงูุฌ ุงูุฑุฆูุณู ูุชุญููู ุงูุจูุงูุงุช"""
    
    print("\n" + "="*60)
    print("๐ ุจุฏุก ุชุญููู ุงูุจูุงูุงุช ุงูุฃูููุฉ - Seed Data")
    print("="*60 + "\n")
    
    # ุงููุณุงุฑ
    db_path = Path(__file__).parent / 'noufal.db'
    
    if not db_path.exists():
        print("โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุบูุฑ ููุฌูุฏุฉ!")
        print("   ูู ุจุชุดุบูู setup_database.py ุฃููุงู")
        return
    
    # ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
    conn = sqlite3.connect(db_path)
    cursor = conn.cursor()
    
    try:
        # ุชุญููู ุงูุจูุงูุงุช
        print("๐ ุชุญููู ูุนุฏูุงุช ุงูุฅูุชุงุฌูุฉ...")
        seed_productivity_rates(cursor)
        
        print("\n๐ ุชุญููู ูุงููุณ ุงูุชุตููู...")
        seed_classification_dictionary(cursor)
        
        # ุญูุธ ุงูุชุบููุฑุงุช
        conn.commit()
        
        print("\n" + "="*60)
        print("โ ุชู ุชุญููู ุฌููุน ุงูุจูุงูุงุช ุงูุฃูููุฉ ุจูุฌุงุญ!")
        print("="*60 + "\n")
        
    except Exception as e:
        print(f"\nโ ุญุฏุซ ุฎุทุฃ: {str(e)}")
        conn.rollback()
        
    finally:
        conn.close()


if __name__ == '__main__':
    main()
