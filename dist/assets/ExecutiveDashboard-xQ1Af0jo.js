import{r as u,j as e}from"./react-vendor-ITqvX6Xp.js";import{a as V,be as b,b6 as E,a6 as P,aI as j,D as y,aY as K,t as D,R as n,aV as r,a0 as F,Z as p,q,bk as c,bg as U,bf as B}from"./icons-lib-BklrIGsN.js";import{R as l,A as G,C as x,X as o,Y as g,T as d,L as N,a as f,b as W,c as w,B as T,d as $,e as L,P as O,f as Y,g as H,h as X}from"./charts-lib-DgEsQKhD.js";import"./vendor-8CkhJSGZ.js";const ae=({projectId:Z,projectName:k})=>{const[Q,J]=u.useState("weekly"),[m,h]=u.useState(!1),s={overallStatus:"Yellow",scheduleStatus:"Slight Delay",costStatus:"On Budget",qualityStatus:"Good",majorAccomplishments:["إنجاز أعمال الخرسانة للأساسات بنسبة 100%","استلام 80% من الحديد المطلوب","اعتماد المخططات المعمارية النهائية"],criticalIssues:["تأخر تسليم بعض المعدات بسبب ظروف الشحن","نقص في العمالة المتخصصة لأعمال الكهرباء","حاجة لتعديل بعض المخططات الإنشائية"],upcomingMilestones:["بداية أعمال الهيكل الخرساني - 2024-11-10","استلام معدات التكييف - 2024-11-15","المراجعة الفنية الشهرية - 2024-11-20"],decisionsRequired:["الموافقة على تغيير في نوع البلاط المستخدم","اعتماد ميزانية إضافية للعمالة","اتخاذ قرار بشأن مقاول الكهرباء البديل"],contractValue:5e6,valuePaid:15e5,valueEarned:11e5,profitMargin:-2,currentManpower:45,peakManpower:80,activeEquipment:12},v=[{id:"KPI-001",name:"نسبة الإنجاز الفعلي",category:"Schedule",currentValue:22,targetValue:24,unit:"%",trend:"Declining",status:"Warning",lastUpdated:"2024-11-06",description:"نسبة الإنجاز الفعلية مقارنة بالمخطط"},{id:"KPI-002",name:"مؤشر أداء التكلفة (CPI)",category:"Cost",currentValue:.96,targetValue:1,unit:"",trend:"Stable",status:"Warning",lastUpdated:"2024-11-06",description:"كفاءة استخدام الميزانية"},{id:"KPI-003",name:"مؤشر أداء الجدول (SPI)",category:"Schedule",currentValue:.92,targetValue:1,unit:"",trend:"Stable",status:"Warning",lastUpdated:"2024-11-06",description:"الالتزام بالجدول الزمني"},{id:"KPI-004",name:"معدل استخدام العمالة",category:"Resource",currentValue:75,targetValue:80,unit:"%",trend:"Improving",status:"Good",lastUpdated:"2024-11-06",description:"كفاءة استخدام العمالة"},{id:"KPI-005",name:"معدل الجودة",category:"Quality",currentValue:92,targetValue:95,unit:"%",trend:"Improving",status:"Good",lastUpdated:"2024-11-06",description:"نسبة الأعمال المقبولة من المرة الأولى"},{id:"KPI-006",name:"معدل السلامة",category:"Safety",currentValue:100,targetValue:100,unit:"%",trend:"Stable",status:"Good",lastUpdated:"2024-11-06",description:"أيام بدون حوادث"}],i=[{id:"N001",type:"Critical",category:"Schedule",title:"تأخير محتمل في المسار الحرج",message:'مهمة "صب الخرسانة للأساسات" متأخرة 3 أيام وتؤثر على المسار الحرج',date:"2024-11-06 09:30",read:!1,actionRequired:!0,actionLink:"/schedule",relatedEntityId:"T-005",priority:"Urgent"},{id:"N002",type:"Warning",category:"Cost",title:"اقتراب من حد الميزانية",message:'بند "العمالة المباشرة" استخدم 85% من الميزانية المخصصة',date:"2024-11-06 10:15",read:!1,actionRequired:!0,actionLink:"/cost-control",relatedEntityId:"BA-001",priority:"High"},{id:"N003",type:"Info",category:"Procurement",title:"استلام أمر شراء",message:"تم استلام شحنة الحديد - أمر شراء PO-012",date:"2024-11-06 11:45",read:!0,actionRequired:!1,relatedEntityId:"PO-012",priority:"Medium"}],z=[{month:"يونيو",مخطط:10,فعلي:9},{month:"يوليو",مخطط:20,فعلي:18},{month:"أغسطس",مخطط:30,فعلي:27},{month:"سبتمبر",مخطط:40,فعلي:36},{month:"أكتوبر",مخطط:50,فعلي:44},{month:"نوفمبر (حتى الآن)",مخطط:60,فعلي:52}],S=[{month:"يونيو",مخطط:2e5,فعلي:18e4},{month:"يوليو",مخطط:4e5,فعلي:4e5},{month:"أغسطس",مخطط:6e5,فعلي:62e4},{month:"سبتمبر",مخطط:8e5,فعلي:85e4},{month:"أكتوبر",مخطط:1e6,فعلي:105e4},{month:"نوفمبر (حتى الآن)",مخطط:12e5,فعلي:115e4}],A=[{resource:"العمالة",utilization:75},{resource:"المعدات",utilization:67},{resource:"المواد",utilization:82},{resource:"المقاولون",utilization:55}],I=[{subject:"الجدول",A:92,fullMark:100},{subject:"التكلفة",A:96,fullMark:100},{subject:"الجودة",A:92,fullMark:100},{subject:"السلامة",A:100,fullMark:100},{subject:"الموارد",A:75,fullMark:100},{subject:"المشتريات",A:82,fullMark:100}],C=t=>{switch(t){case"Green":return"bg-green-500";case"Yellow":return"bg-yellow-500";case"Red":return"bg-red-500";default:return"bg-gray-500"}},M=t=>{switch(t){case"Green":return e.jsx(n,{size:20});case"Yellow":return e.jsx(r,{size:20});case"Red":return e.jsx(r,{size:20});default:return e.jsx(c,{size:20})}},R=t=>{switch(t){case"Improving":return e.jsx(B,{className:"text-green-600",size:16});case"Declining":return e.jsx(U,{className:"text-red-600",size:16});case"Stable":return e.jsx(c,{className:"text-gray-600",size:16});default:return e.jsx(c,{className:"text-gray-600",size:16})}};return e.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900",children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[e.jsx(V,{size:32}),"لوحة التحكم التنفيذية"]}),e.jsxs("p",{className:"text-indigo-100 mt-1",children:[k," - تقرير شامل لصاحب الشركة"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>h(!m),className:"relative p-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[e.jsx(b,{size:24}),i.filter(t=>!t.read).length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:i.filter(t=>!t.read).length})]}),e.jsx("button",{className:"p-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:e.jsx(E,{size:24})}),e.jsx("button",{className:"p-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:e.jsx(P,{size:24})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm",children:"الحالة العامة"}),M(s.overallStatus)]}),e.jsx("div",{className:`w-full h-2 rounded-full ${C(s.overallStatus)}`})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm",children:"الجدول"}),e.jsx(j,{size:20})]}),e.jsx("p",{className:"text-sm font-medium",children:s.scheduleStatus})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm",children:"التكلفة"}),e.jsx(y,{size:20})]}),e.jsx("p",{className:"text-sm font-medium",children:s.costStatus})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm",children:"الجودة"}),e.jsx(K,{size:20})]}),e.jsx("p",{className:"text-sm font-medium",children:s.qualityStatus})]})]})]}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(y,{size:24,className:"text-green-600"}),"المؤشرات المالية الرئيسية"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"قيمة العقد"}),e.jsxs("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[(s.contractValue/1e6).toFixed(1),"M ريال"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"المدفوع"}),e.jsxs("p",{className:"text-xl font-bold text-green-600",children:[(s.valuePaid/1e6).toFixed(1),"M ريال"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(s.valuePaid/s.contractValue*100).toFixed(0),"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"المكتسب"}),e.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[(s.valueEarned/1e6).toFixed(1),"M ريال"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(s.valueEarned/s.contractValue*100).toFixed(0),"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"هامش الربح"}),e.jsxs("p",{className:"text-xl font-bold text-red-600",children:[s.profitMargin.toFixed(1),"%"]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"منحنى التقدم (مخطط vs فعلي)"}),e.jsx(l,{width:"100%",height:300,children:e.jsxs(G,{data:z,children:[e.jsx(x,{strokeDasharray:"3 3"}),e.jsx(o,{dataKey:"month"}),e.jsx(g,{}),e.jsx(d,{}),e.jsx(N,{}),e.jsx(f,{type:"monotone",dataKey:"مخطط",stroke:"#4F46E5",fill:"#4F46E5",fillOpacity:.3}),e.jsx(f,{type:"monotone",dataKey:"فعلي",stroke:"#10B981",fill:"#10B981",fillOpacity:.3})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"اتجاه التكاليف"}),e.jsx(l,{width:"100%",height:300,children:e.jsxs(W,{data:S,children:[e.jsx(x,{strokeDasharray:"3 3"}),e.jsx(o,{dataKey:"month"}),e.jsx(g,{}),e.jsx(d,{}),e.jsx(N,{}),e.jsx(w,{type:"monotone",dataKey:"مخطط",stroke:"#4F46E5",strokeWidth:2}),e.jsx(w,{type:"monotone",dataKey:"فعلي",stroke:"#EF4444",strokeWidth:2})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"استخدام الموارد"}),e.jsx(l,{width:"100%",height:250,children:e.jsxs(T,{data:A,layout:"vertical",children:[e.jsx(x,{strokeDasharray:"3 3"}),e.jsx(o,{type:"number",domain:[0,100]}),e.jsx(g,{dataKey:"resource",type:"category"}),e.jsx(d,{}),e.jsx($,{dataKey:"utilization",fill:"#4F46E5"})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"تحليل الأداء الشامل"}),e.jsx(l,{width:"100%",height:300,children:e.jsxs(L,{data:I,children:[e.jsx(O,{}),e.jsx(Y,{dataKey:"subject"}),e.jsx(H,{angle:90,domain:[0,100]}),e.jsx(X,{name:"الأداء",dataKey:"A",stroke:"#4F46E5",fill:"#4F46E5",fillOpacity:.6}),e.jsx(d,{})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(D,{size:20,className:"text-indigo-600"}),"مؤشرات الأداء الرئيسية"]}),e.jsx("div",{className:"space-y-3",children:v.map(t=>e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.name}),e.jsxs("div",{className:"flex items-center gap-1",children:[R(t.trend),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${t.status==="Good"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":t.status==="Warning"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:t.status})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[t.currentValue,t.unit]}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["الهدف: ",t.targetValue,t.unit]})]}),e.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:e.jsx("div",{className:`h-1.5 rounded-full ${t.status==="Good"?"bg-green-500":t.status==="Warning"?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(t.currentValue/t.targetValue*100,100)}%`}})})]},t.id))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(n,{size:20,className:"text-green-600"}),"الإنجازات الرئيسية"]}),e.jsx("ul",{className:"space-y-2",children:s.majorAccomplishments.map((t,a)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-900 dark:text-white",children:[e.jsx(n,{size:16,className:"text-green-600 mt-0.5 flex-shrink-0"}),t]},a))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-red-200 dark:border-red-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(r,{size:20,className:"text-red-600"}),"القضايا الحرجة"]}),e.jsx("ul",{className:"space-y-2",children:s.criticalIssues.map((t,a)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-900 dark:text-white",children:[e.jsx(r,{size:16,className:"text-red-600 mt-0.5 flex-shrink-0"}),t]},a))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(F,{size:20,className:"text-blue-600"}),"المعالم القادمة"]}),e.jsx("ul",{className:"space-y-2",children:s.upcomingMilestones.map((t,a)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-900 dark:text-white",children:[e.jsx(j,{size:16,className:"text-blue-600 mt-0.5 flex-shrink-0"}),t]},a))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-orange-200 dark:border-orange-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(p,{size:20,className:"text-orange-600"}),"قرارات مطلوبة"]}),e.jsx("ul",{className:"space-y-2",children:s.decisionsRequired.map((t,a)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-900 dark:text-white",children:[e.jsx(p,{size:16,className:"text-orange-600 mt-0.5 flex-shrink-0"}),t]},a))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(q,{size:20,className:"text-purple-600"}),"ملخص الموارد"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"العمالة الحالية"}),e.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:s.currentManpower})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"ذروة العمالة"}),e.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:s.peakManpower})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"المعدات النشطة"}),e.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:s.activeEquipment})]})]})]})]})]})}),m&&e.jsx("div",{className:"fixed inset-y-0 left-0 w-96 bg-white dark:bg-gray-800 shadow-2xl border-r border-gray-200 dark:border-gray-700 z-50 overflow-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(b,{size:24}),"الإشعارات"]}),e.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"✕"})]}),e.jsx("div",{className:"space-y-3",children:i.map(t=>e.jsxs("div",{className:`p-4 rounded-lg border ${t.type==="Critical"?"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20":t.type==="Warning"?"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-900/20":t.type==="Info"?"border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-900/20":"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20"} ${t.read?"":"font-semibold"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-white",children:t.title}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${t.priority==="Urgent"?"bg-red-600 text-white":t.priority==="High"?"bg-orange-600 text-white":t.priority==="Medium"?"bg-yellow-600 text-white":"bg-gray-600 text-white"}`,children:t.priority})]}),e.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 mb-2",children:t.message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.date}),t.actionRequired&&e.jsx("button",{className:"text-xs text-indigo-600 hover:text-indigo-700 dark:text-indigo-400",children:"اتخاذ إجراء →"})]})]},t.id))})]})})]})};export{ae as ExecutiveDashboard,ae as default};
