var j=Object.defineProperty,b=Object.defineProperties;var f=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var g=(a,r,t)=>r in a?j(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,i=(a,r)=>{for(var t in r||(r={}))y.call(r,t)&&g(a,t,r[t]);if(x)for(var t of x(r))w.call(r,t)&&g(a,t,r[t]);return a},d=(a,r)=>b(a,f(r));import{r as h,j as e}from"./react-vendor-D4cZjflF.js";import{l as N,P as v,ah as k,ay as A,g as E,k as C}from"./icons-lib-mPL1tuN6.js";import{v as z}from"./utils-lib-CuOuuFHP.js";import"./vendor-DhnXlGBj.js";const M=({role:a})=>{switch(a){case"Admin":return e.jsx("span",{title:"Admin",children:e.jsx(C,{size:16,className:"text-red-500"})});case"Engineer":return e.jsx("span",{title:"Engineer",children:e.jsx(E,{size:16,className:"text-blue-500"})});case"Viewer":return e.jsx("span",{title:"Viewer",children:e.jsx(A,{size:16,className:"text-gray-500"})});default:return null}},H=({project:a,onUpdateMembers:r})=>{const t=a.data.members||[],[m,o]=h.useState(!1),[n,c]=h.useState({name:"",email:"",role:"Engineer"}),u=s=>{if(s.preventDefault(),!n.name||!n.email)return;const l=d(i({},n),{id:`user-${z()}`});r(a.id,[...t,l]),o(!1),c({name:"",email:"",role:"Engineer"})},p=s=>{window.confirm("Are you sure you want to remove this member from the project?")&&r(a.id,t.filter(l=>l.id!==s))};return e.jsxs("div",{children:[e.jsxs("header",{className:"flex justify-between items-center mb-8 flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[e.jsx(N,{}),"أعضاء المشروع"]}),e.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:["إدارة فريق العمل لمشروع: ",e.jsx("span",{className:"font-semibold",children:a.name})]})]}),e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 bg-indigo-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-indigo-700",children:[e.jsx(v,{size:18}),e.jsx("span",{children:"إضافة عضو جديد"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900/50 p-6 rounded-xl shadow-sm border dark:border-gray-800",children:[e.jsxs("div",{className:"space-y-3",children:[t.map(s=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center font-bold text-indigo-600",children:s.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.email})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(M,{role:s.role}),e.jsx("span",{children:s.role})]}),e.jsx("button",{onClick:()=>p(s.id),className:"text-gray-400 hover:text-red-500",children:e.jsx(k,{size:18})})]})]},s.id)),m&&e.jsxs("form",{onSubmit:u,className:"flex flex-col md:flex-row justify-between items-center p-3 bg-gray-100 dark:bg-gray-800 rounded-lg gap-3",children:[e.jsx("input",{type:"text",value:n.name,onChange:s=>c(l=>d(i({},l),{name:s.target.value})),placeholder:"الاسم",required:!0,className:"p-2 rounded bg-white dark:bg-gray-700 w-full md:w-1/4"}),e.jsx("input",{type:"email",value:n.email,onChange:s=>c(l=>d(i({},l),{email:s.target.value})),placeholder:"البريد الإلكتروني",required:!0,className:"p-2 rounded bg-white dark:bg-gray-700 w-full md:w-1/4"}),e.jsxs("select",{value:n.role,onChange:s=>c(l=>d(i({},l),{role:s.target.value})),className:"p-2 rounded bg-white dark:bg-gray-700 w-full md:w-1/4",children:[e.jsx("option",{value:"Admin",children:"Admin"}),e.jsx("option",{value:"Engineer",children:"Engineer"}),e.jsx("option",{value:"Viewer",children:"Viewer"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"submit",className:"p-2 bg-green-500 text-white rounded",children:"حفظ"}),e.jsx("button",{type:"button",onClick:()=>o(!1),className:"p-2 bg-gray-300 dark:bg-gray-600 rounded",children:"إلغاء"})]})]})]}),t.length===0&&!m&&e.jsx("p",{className:"text-center p-8 text-gray-500",children:"لا يوجد أعضاء في هذا المشروع بعد."})]})]})};export{H as ProjectMembers};
