var F=Object.defineProperty,R=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var b=(l,a,s)=>a in l?F(l,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[a]=s,x=(l,a)=>{for(var s in a||(a={}))_.call(a,s)&&b(l,s,a[s]);if(p)for(var s of p(a))P.call(a,s)&&b(l,s,a[s]);return l},i=(l,a)=>R(l,S(a));var u=(l,a,s)=>new Promise((m,c)=>{var o=r=>{try{g(s.next(r))}catch(d){c(d)}},y=r=>{try{g(s.throw(r))}catch(d){c(d)}},g=r=>r.done?m(r.value):Promise.resolve(r.value).then(o,y);g((s=s.apply(l,a)).next())});import{r as n,j as e}from"./react-vendor-ITqvX6Xp.js";import{n as E,P as M,F as A,ad as j,aK as T,Y as k}from"./icons-lib-Dd_BpYQ6.js";import"./vendor-8CkhJSGZ.js";const J=()=>{const[l,a]=n.useState("list"),[s,m]=n.useState("1"),[c,o]=n.useState(!1),[y,g]=n.useState([]),[r,d]=n.useState({subject:"",description:"",discipline:"structural",priority:"medium",due_date:""}),v=[{value:"structural",label:"إنشائي"},{value:"architectural",label:"معماري"},{value:"mep",label:"كهروميكانيكي"},{value:"civil",label:"مدني"}],N=[{value:"low",label:"منخفضة",color:"bg-gray-100 text-gray-800"},{value:"medium",label:"متوسطة",color:"bg-yellow-100 text-yellow-800"},{value:"high",label:"عالية",color:"bg-orange-100 text-orange-800"},{value:"critical",label:"حرجة",color:"bg-red-100 text-red-800"}],w=[{value:"draft",label:"مسودة",icon:A,color:"text-gray-600"},{value:"submitted",label:"مرسل",icon:j,color:"text-blue-600"},{value:"in_review",label:"قيد المراجعة",icon:T,color:"text-yellow-600"},{value:"answered",label:"تمت الإجابة",icon:k,color:"text-green-600"},{value:"closed",label:"مغلق",icon:k,color:"text-gray-600"}],f=()=>u(null,null,function*(){o(!0);try{const t=window.location.origin.replace("3000","5000");(yield(yield fetch(`${t}/api/rfi/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x({project_id:parseInt(s),submitted_by:1},r))})).json()).success&&(a("list"),d({subject:"",description:"",discipline:"structural",priority:"medium",due_date:""}))}catch(t){console.error("Error creating RFI:",t)}finally{o(!1)}}),C=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"طلبات المعلومات (RFI)"}),e.jsxs("button",{onClick:()=>a("create"),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(M,{className:"w-5 h-5"}),"طلب جديد"]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:w.map(t=>{const h=t.icon;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(h,{className:`w-5 h-5 ${t.color}`}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.label})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Math.floor(Math.random()*10)})]},t.value)})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"الرقم"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"الموضوع"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"التخصص"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"الأولوية"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"الحالة"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"تاريخ الاستحقاق"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 dark:text-white",children:"RFI-001"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:"توضيح أبعاد القواعد"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:"إنشائي"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-orange-100 text-orange-800",children:"عالية"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"قيد المراجعة"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:"2024-12-15"})]}),e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 dark:text-white",children:"RFI-002"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:"تفاصيل نظام التكييف"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:"كهروميكانيكي"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"متوسطة"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"تمت الإجابة"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:"2024-12-10"})]})]})]})})]}),I=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:()=>a("list"),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:"← رجوع"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"طلب معلومات جديد"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"الموضوع *"}),e.jsx("input",{type:"text",value:r.subject,onChange:t=>d(i(x({},r),{subject:t.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"موضوع طلب المعلومات"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"الوصف التفصيلي *"}),e.jsx("textarea",{value:r.description,onChange:t=>d(i(x({},r),{description:t.target.value})),rows:6,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"اكتب وصفاً تفصيلياً للمعلومات المطلوبة..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"التخصص *"}),e.jsx("select",{value:r.discipline,onChange:t=>d(i(x({},r),{discipline:t.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:v.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"الأولوية *"}),e.jsx("select",{value:r.priority,onChange:t=>d(i(x({},r),{priority:t.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:N.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"تاريخ الاستحقاق"}),e.jsx("input",{type:"date",value:r.due_date,onChange:t=>d(i(x({},r),{due_date:t.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:f,disabled:c,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:[e.jsx(j,{className:"w-5 h-5"}),c?"جاري الإرسال...":"إرسال الطلب"]}),e.jsx("button",{onClick:()=>a("list"),className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600",children:"إلغاء"})]})]})]});return e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 flex items-center gap-3",children:[e.jsx(E,{className:"w-8 h-8"}),"إدارة طلبات المعلومات (RFI)"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"نظام إلكتروني لإدارة طلبات المعلومات والاستفسارات الفنية"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"المشروع الحالي"}),e.jsx("input",{type:"text",value:s,onChange:t=>m(t.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"معرف المشروع"})]}),l==="list"&&C(),l==="create"&&I()]})};export{J as RFIManager,J as default};
