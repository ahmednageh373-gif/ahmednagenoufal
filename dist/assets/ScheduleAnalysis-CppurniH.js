import{r as d,j as e}from"./react-vendor-D4cZjflF.js";import{a as c,n as m,a9 as u,$ as w,ae as k}from"./icons-lib-DeXvYHHd.js";import"./vendor-DhnXlGBj.js";const S=({project:z})=>{const[r,n]=d.useState("gantt"),[o,p]=d.useState(""),[i,y]=d.useState("all"),a=d.useMemo(()=>{const t=new Date;return[{id:"task-1",name:"أعمال الحفر والتسوية",startDate:new Date(t.getTime()),endDate:new Date(t.getTime()+10080*60*1e3),duration:7,progress:100,status:"completed",priority:"high",assignedTo:"فريق الحفر",dependencies:[],isCritical:!0},{id:"task-2",name:"أعمال الخرسانة المسلحة - القواعد",startDate:new Date(t.getTime()+10080*60*1e3),endDate:new Date(t.getTime()+504*60*60*1e3),duration:14,progress:65,status:"in-progress",priority:"high",assignedTo:"فريق الخرسانة",dependencies:["task-1"],isCritical:!0},{id:"task-3",name:"أعمال البناء - الجدران",startDate:new Date(t.getTime()+504*60*60*1e3),endDate:new Date(t.getTime()+840*60*60*1e3),duration:14,progress:0,status:"not-started",priority:"medium",assignedTo:"فريق البناء",dependencies:["task-2"],isCritical:!1},{id:"task-4",name:"أعمال التشطيبات الداخلية",startDate:new Date(t.getTime()+840*60*60*1e3),endDate:new Date(t.getTime()+1344*60*60*1e3),duration:21,progress:0,status:"not-started",priority:"medium",assignedTo:"فريق التشطيبات",dependencies:["task-3"],isCritical:!1}]},[]),b=d.useMemo(()=>a.filter(t=>{const g=t.name.toLowerCase().includes(o.toLowerCase()),x=i==="all"||t.status===i;return g&&x}),[a,o,i]),l=d.useMemo(()=>{const t=a.length,g=a.filter(s=>s.status==="completed").length,x=a.filter(s=>s.status==="in-progress").length,N=a.filter(s=>s.status==="overdue").length,v=a.reduce((s,f)=>s+f.progress,0)/t;return{total:t,completed:g,inProgress:x,overdue:N,avgProgress:Math.round(v)}},[a]),h=t=>{switch(t){case"completed":return"bg-green-500";case"in-progress":return"bg-blue-500";case"not-started":return"bg-gray-400";case"overdue":return"bg-red-500";default:return"bg-gray-400"}},j=t=>{switch(t){case"completed":return"مكتمل";case"in-progress":return"قيد التنفيذ";case"not-started":return"لم يبدأ";case"overdue":return"متأخر";default:return t}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-indigo-900 p-6",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 p-3 rounded-xl shadow-lg",children:e.jsx(c,{className:"text-white",size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"تحليل الجدول الزمني"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"مخطط جانت تفاعلي مع تحليل المسار الحرج"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border-l-4 border-indigo-500",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-1",children:"التقدم الإجمالي"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:[l.avgProgress,"%"]})]}),e.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/30 p-3 rounded-lg",children:e.jsx(c,{className:"text-indigo-600 dark:text-indigo-400",size:24})})]}),e.jsx("div",{className:"mt-4 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 h-2 rounded-full transition-all duration-500",style:{width:`${l.avgProgress}%`}})})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-1",children:"المهام المكتملة"}),e.jsx("p",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:l.completed})]}),e.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-3 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-green-600 dark:text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border-l-4 border-red-500",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-1",children:"المهام المتأخرة"}),e.jsx("p",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:l.overdue})]}),e.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 p-3 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-1",children:"إجمالي المهام"}),e.jsx("p",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:l.total})]}),e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-3 rounded-lg",children:e.jsxs("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),e.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})})]})})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex gap-2 bg-gray-100 dark:bg-gray-700 p-1 rounded-lg",children:[e.jsxs("button",{onClick:()=>n("gantt"),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all ${r==="gantt"?"bg-white dark:bg-gray-600 text-indigo-600 dark:text-indigo-400 shadow-md":"text-gray-600 dark:text-gray-400"}`,children:[e.jsx(m,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"جانت"})]}),e.jsxs("button",{onClick:()=>n("table"),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all ${r==="table"?"bg-white dark:bg-gray-600 text-indigo-600 dark:text-indigo-400 shadow-md":"text-gray-600 dark:text-gray-400"}`,children:[e.jsx(c,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"جدول"})]}),e.jsxs("button",{onClick:()=>n("calendar"),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all ${r==="calendar"?"bg-white dark:bg-gray-600 text-indigo-600 dark:text-indigo-400 shadow-md":"text-gray-600 dark:text-gray-400"}`,children:[e.jsx(u,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"تقويم"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[e.jsxs("div",{className:"relative flex-1 lg:w-64",children:[e.jsx(w,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"بحث في المهام...",value:o,onChange:t=>p(t.target.value),className:"w-full pr-10 pl-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),e.jsxs("select",{value:i,onChange:t=>y(t.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-indigo-500 outline-none",children:[e.jsx("option",{value:"all",children:"جميع الحالات"}),e.jsx("option",{value:"completed",children:"مكتمل"}),e.jsx("option",{value:"in-progress",children:"قيد التنفيذ"}),e.jsx("option",{value:"not-started",children:"لم يبدأ"}),e.jsx("option",{value:"overdue",children:"متأخر"})]})]}),e.jsxs("button",{className:"px-6 py-2 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 flex items-center gap-2",children:[e.jsx(k,{size:18}),e.jsx("span",{children:"تصدير"})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[r==="table"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-right py-3 px-4 text-gray-700 dark:text-gray-300 font-semibold",children:"اسم المهمة"}),e.jsx("th",{className:"text-right py-3 px-4 text-gray-700 dark:text-gray-300 font-semibold",children:"الحالة"}),e.jsx("th",{className:"text-right py-3 px-4 text-gray-700 dark:text-gray-300 font-semibold",children:"التقدم"}),e.jsx("th",{className:"text-right py-3 px-4 text-gray-700 dark:text-gray-300 font-semibold",children:"المدة"}),e.jsx("th",{className:"text-right py-3 px-4 text-gray-700 dark:text-gray-300 font-semibold",children:"المسؤول"})]})}),e.jsx("tbody",{children:b.map(t=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[t.isCritical&&e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full",title:"مهمة حرجة"}),e.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:t.name})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${h(t.status)} text-white`,children:j(t.status)})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${h(t.status)}`,style:{width:`${t.progress}%`}})}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 w-12 text-left",children:[t.progress,"%"]})]})}),e.jsxs("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:[t.duration," يوم"]}),e.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:t.assignedTo})]},t.id))})]})}),r==="gantt"&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(m,{size:48,className:"mx-auto text-gray-300 dark:text-gray-600 mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg mb-2",children:"مخطط جانت التفاعلي"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500 text-sm",children:"سيتم تفعيله قريباً مع تحليل المسار الحرج"})]}),r==="calendar"&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(u,{size:48,className:"mx-auto text-gray-300 dark:text-gray-600 mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg mb-2",children:"عرض التقويم"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500 text-sm",children:"سيتم تفعيله قريباً"})]})]})]})};export{S as ScheduleAnalysis};
