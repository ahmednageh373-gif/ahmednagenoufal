const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-9F5gY1Gx.js","assets/react-vendor-ITqvX6Xp.js","assets/vendor-8CkhJSGZ.js","assets/BoqAnalysisModal-mzPTMdmJ.js","assets/icons-lib-Dd_BpYQ6.js","assets/vendor-large-gsDFeA65.js","assets/genai-lib-pAIF5Ws4.js","assets/utils-lib-C_gzCXPI.js","assets/ScheduleManager-DbWLHoCc.js","assets/GanttChart-DbnVOYHn.js","assets/FinancialManager-CLoPQpgS.js","assets/OrderModal-D8kFHzM6.js","assets/RiskManager-CPnPX8Kh.js","assets/SiteTracker-DjJdNzdn.js","assets/DrawingManager-Ca7NxwNW.js","assets/EngineeringDocsManager-BTAJ9Vmb.js","assets/ProcurementManager-t79A3jcs.js","assets/SubcontractorManager-C2JLF4ua.js","assets/ProjectHub-COaFQLj-.js","assets/OKRManager-C-4Ju5qG.js","assets/WorkflowArchitect-Beb7idGB.js","assets/AnalysisCenter-D7nPpn5g.js","assets/LiveAssistant-6KDsisb1.js","assets/DocumentationViewer-BOwmFvyn.js","assets/RecoveryPlanner-BF0344D9.js","assets/AssessmentManager-BMYhJBC-.js","assets/AuditLogViewer-CfRU7kGZ.js","assets/AdvancedReporting-CLNsowUR.js","assets/tf-lib-rRcOV4v_.js","assets/ProjectMembers-C89mgB9e.js","assets/BOQManualManager-wc9YqMLp.js","assets/EngineeringKnowledge-B0NwPPaI.js","assets/KnowledgeDatabase-DnACh4N-.js","assets/NOUFALBackendHub-C39JdY3w.js","assets/BlockLibrary-thnTf42U.js","assets/BOQUploadHub-BAJZEYSs.js","assets/SBCComplianceChecker-DU1kzWtm.js","assets/ScheduleAnalysis-q-FUTtRI.js","assets/NOUFALCommandCenter-D4DVknKJ.js","assets/LibraryShowcase-f5zvozfY.js","assets/ManualAnalysisMode-XBR6XjJ9.js","assets/QuantitiesExtractionPage-DM6MmA23.js","assets/NOUFALEnhanced-DPWX7EZs.js","assets/SmartReportsSystem-Br3zMzah.js","assets/AdvancedAIFeatures-B5qmXQ16.js","assets/ProEngineeringHub-DQ_Ooytp.js","assets/RealAIProcessor-Bptoa6kY.js","assets/NOUFALIntegratedSystem-BxtfM0mV.js","assets/ExecutiveDashboard-BCb6SPKi.js","assets/charts-lib-DgEsQKhD.js","assets/ResourceManagement-DwVE3p0Z.js","assets/CostControlSystem-CkyPbHZT.js","assets/ResourcesManager-DKuSXUgq.js","assets/IntegratedAnalytics-ByOvDBcF.js","assets/AdvancedDashboard-Wa0fgPSc.js","assets/AdvancedAnalytics-Be4XFfXQ.js","assets/InteractiveReports-C7X46Zcb.js","assets/MobileFieldHub-CZ1V59Lj.js","assets/RFIManager-B7_y6Lfl.js","assets/DesignExecutionManager-BK2UbCiM.js","assets/IntegrationMonitor-DJndrxYj.js"])))=>i.map(i=>d[i]);
var ke=Object.defineProperty,Ne=Object.defineProperties;var Pe=Object.getOwnPropertyDescriptors;var Z=Object.getOwnPropertySymbols;var Ie=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable;var ee=(e,n)=>(n=Symbol[e])?n:Symbol.for("Symbol."+e);var te=(e,n,r)=>n in e?ke(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,P=(e,n)=>{for(var r in n||(n={}))Ie.call(n,r)&&te(e,r,n[r]);if(Z)for(var r of Z(n))Te.call(n,r)&&te(e,r,n[r]);return e},D=(e,n)=>Ne(e,Pe(n));var b=(e,n,r)=>new Promise((a,o)=>{var i=s=>{try{j(r.next(s))}catch(v){o(v)}},f=s=>{try{j(r.throw(s))}catch(v){o(v)}},j=s=>s.done?a(s.value):Promise.resolve(s.value).then(i,f);j((r=r.apply(e,n)).next())});var ae=(e,n,r)=>(n=e[ee("asyncIterator")])?n.call(e):(e=e[ee("iterator")](),n={},r=(a,o)=>(o=e[a])&&(n[a]=i=>new Promise((f,j,s)=>(i=o.call(e,i),s=i.done,Promise.resolve(i.value).then(v=>f({value:v,done:s}),j)))),r("next"),r("return"),n);import{r as y,j as t,f as m,h as Ee}from"./react-vendor-ITqvX6Xp.js";import{_ as u}from"./vendor-large-gsDFeA65.js";import{X as ye,B as ne,C as Ce,P as Re,L as ze,a as Be,S as re,Z as H,b as De,c as oe,U as Ke,d as se,e as Ue,f as Me,F as W,g as Le,h as ie,T as qe,i as $e,H as Je,j as ce,k as Fe,l as le,m as Ve,n as de,o as Qe,W as Ye,D as He,p as We,q as Ge,r as Xe,s as Ze,t as et,u as tt,v as at,w as nt,x as rt,M as ot,G as st,y as it,z as ct,A as lt,E as dt,I as mt,J as pt,K as ut,N as gt,O as yt}from"./icons-lib-Dd_BpYQ6.js";import{G as x,T as B}from"./genai-lib-pAIF5Ws4.js";import{v as he}from"./utils-lib-C_gzCXPI.js";import"./vendor-8CkhJSGZ.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const f of i.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();const p=({icon:e,label:n,viewName:r,activeView:a,onSelect:o,isCollapsed:i})=>t.jsxs("button",{onClick:()=>o(r),title:i?n:void 0,className:`w-full flex items-center gap-4 px-4 py-2.5 rounded-lg text-sm font-medium transition-colors ${a===r?"bg-indigo-50 dark:bg-indigo-900/50 text-indigo-600 dark:text-indigo-300":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400"} ${i?"lg:justify-center":""}`,children:[t.jsx(e,{size:20,className:"shrink-0"}),t.jsx("span",{className:`whitespace-nowrap transition-opacity duration-200 ${i?"lg:opacity-0 lg:w-0":"opacity-100"}`,children:n})]}),ht=({projects:e,activeProjectId:n,onSelectProject:r,activeView:a,onSelectView:o,onAddProject:i,isOpen:f,onClose:j,isDesktopCollapsed:s,onToggleDesktopCollapse:v})=>{const[w,O]=y.useState(!1),A=e.find(_=>_.id===n),N=()=>{document.documentElement.classList.toggle("dark")},l=_=>{o(_),j()},T=_=>{r(_),O(!1),j()},E=()=>{i(),O(!1)};return t.jsx(t.Fragment,{children:t.jsxs("aside",{className:`bg-white dark:bg-gray-900/70 border-l border-gray-200 dark:border-gray-800 flex flex-col p-4 shrink-0 rtl transition-all duration-300 ease-in-out
                fixed top-0 right-0 h-full z-40
                lg:relative lg:translate-x-0
                ${f?"translate-x-0":"translate-x-full"}
                ${s?"lg:w-20":"lg:w-72"}`,children:[t.jsxs("div",{className:"flex justify-between items-center mb-6 relative",children:[t.jsxs("h1",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 w-full text-center relative overflow-hidden h-8",children:[t.jsx("span",{className:`transition-opacity duration-200 whitespace-nowrap ${s?"lg:opacity-0":"opacity-100"}`,children:"AN.AI"}),t.jsx("span",{className:`absolute top-0 right-1/2 translate-x-1/2 transition-opacity duration-200 ${s?"lg:opacity-100":"lg:opacity-0"}`,children:"A"})]}),t.jsx("button",{onClick:j,className:"lg:hidden text-gray-500 hover:text-gray-800 dark:hover:text-gray-200 absolute right-0 top-1/2 -translate-y-1/2",children:t.jsx(ye,{size:24})})]}),t.jsxs("div",{className:"relative mb-4",children:[t.jsxs("button",{onClick:()=>O(!w),className:"w-full bg-gray-100 dark:bg-gray-800 p-3 rounded-lg flex justify-between items-center",children:[t.jsx("span",{className:`font-semibold truncate transition-opacity duration-200 ${s?"lg:opacity-0":""}`,children:(A==null?void 0:A.name)||"Ø§Ø®ØªØ± Ù…Ø´Ø±ÙˆØ¹Ù‹Ø§"}),t.jsx(ne,{size:20,className:`absolute right-1/2 translate-x-1/2 transition-opacity duration-200 ${s?"lg:opacity-100":"lg:opacity-0"}`}),t.jsx(Ce,{size:20,className:`transition-transform transition-opacity ${w?"rotate-180":""} ${s?"lg:opacity-0":""}`})]}),w&&t.jsxs("div",{className:"absolute top-full right-0 mt-2 w-full bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg shadow-lg z-10",children:[e.map(_=>t.jsx("button",{onClick:()=>T(_.id),className:"w-full text-right px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:_.name},_.id)),t.jsxs("button",{onClick:E,className:"w-full flex items-center gap-2 px-4 py-2 text-indigo-600 dark:text-indigo-400 border-t dark:border-gray-700",children:[t.jsx(Re,{size:16})," Ø¥Ø¶Ø§ÙØ© Ù…Ø´Ø±ÙˆØ¹ Ø¬Ø¯ÙŠØ¯"]})]})]}),t.jsxs("nav",{className:"flex-grow space-y-1.5 overflow-y-auto overflow-x-hidden",children:[t.jsx(p,{icon:ze,label:"Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…",viewName:"dashboard",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:Be,label:"ðŸŽ¯ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„ØªÙ†ÙÙŠØ°ÙŠØ©",viewName:"executive-dashboard",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:re,label:"ðŸš€ Ù†Ø¸Ø§Ù… NOUFAL Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„",viewName:"noufal-backend",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:H,label:"âš¡ NOUFAL Ø§Ù„Ù…Ø·ÙˆØ± 2.0",viewName:"noufal-enhanced",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:De,label:"Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ",viewName:"schedule",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:oe,label:"ðŸ“Š ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ",viewName:"schedule-analysis",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:Ke,label:"ðŸš€ Ù…Ø±ÙƒØ² Ø±ÙØ¹ Ø§Ù„Ù…Ù‚Ø§ÙŠØ³Ø§Øª",viewName:"boq-upload-hub",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:se,label:"ðŸ§  Ù…Ø±ÙƒØ² Ù‚ÙŠØ§Ø¯Ø© Ù†ÙˆÙÙ„",viewName:"noufal-command",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:Ue,label:"âš™ï¸ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„ÙŠØ¯ÙˆÙŠ",viewName:"manual-analysis",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:Me,label:"ðŸ“ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„ÙƒÙ…ÙŠØ§Øª",viewName:"quantities-extraction",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:W,label:"ðŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø°ÙƒÙŠØ©",viewName:"smart-reports",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:Le,label:"ðŸ¤– Ù…Ù…ÙŠØ²Ø§Øª AI Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©",viewName:"ai-features",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:ne,label:"ðŸ—ï¸ Ù…Ø±ÙƒØ² Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ",viewName:"pro-engineering",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:H,label:"âš¡ Ù…Ø¹Ø§Ù„Ø¬ AI Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ",viewName:"real-ai",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:re,label:"ðŸ”— NOUFAL Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„ (Backend)",viewName:"noufal-integrated",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:ie,label:"ðŸ“š Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª",viewName:"library-showcase",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:qe,label:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù‚Ø§ÙŠØ³Ø§Øª (ÙŠØ¯ÙˆÙŠ)",viewName:"boq-manual",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:$e,label:"Ø®Ø·Ø© Ø§Ù„ØªØ¹Ø§ÙÙŠ",viewName:"recovery-plan",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:Je,label:"ðŸ—ï¸ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ§Ø±Ø¯",viewName:"resources-manager",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:ce,label:"ðŸ’° Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ",viewName:"cost-control",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:Fe,label:"ðŸ“Š Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©",viewName:"integrated-analytics",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:le,label:"ðŸŽ¯ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©",viewName:"advanced-dashboard",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:ce,label:"ðŸ“ˆ Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© (EVM)",viewName:"advanced-analytics",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:W,label:"ðŸ“‹ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©",viewName:"interactive-reports",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:Ve,label:"ðŸ“± Ù…Ø±ÙƒØ² Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…ÙŠØ¯Ø§Ù†ÙŠØ©",viewName:"mobile-field-hub",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:de,label:"â“ Ø¥Ø¯Ø§Ø±Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª (RFI)",viewName:"rfi-manager",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:Qe,label:"ðŸ§­ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØµÙ…ÙŠÙ… ÙˆØ§Ù„ØªÙ†ÙÙŠØ°",viewName:"design-execution",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:Ye,label:"ðŸ”— Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„ØªÙƒØ§Ù…Ù„",viewName:"integration-monitor",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:He,label:"Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©",viewName:"financials",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:We,label:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø§Ø·Ø±",viewName:"risks",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:Ge,label:"Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹",viewName:"site",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:Xe,label:"Ø§Ù„Ù…Ø®Ø·Ø·Ø§Øª",viewName:"drawings",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:W,label:"Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ©",viewName:"docs",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:Ze,label:"Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª",viewName:"procurement",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:et,label:"Ù…Ù‚Ø§ÙˆÙ„ÙŠ Ø§Ù„Ø¨Ø§Ø·Ù†",viewName:"subcontractors",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:tt,label:"Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹",viewName:"members",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:at,label:"Ø§Ù„ØªÙ‚ÙŠÙŠÙ… ÙˆØ§Ù„ØªØ±Ù…ÙŠÙ…",viewName:"assessments",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:nt,label:"Ù…Ø±ÙƒØ² Ø§Ù„Ù…Ø´Ø±ÙˆØ¹",viewName:"hub",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:le,label:"Ø§Ù„Ø£Ù‡Ø¯Ø§Ù (OKRs)",viewName:"okrs",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:rt,label:"Ù‡ÙŠÙƒÙ„Ø© Ø§Ù„Ø¹Ù…Ù„",viewName:"workflow",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:H,label:"âš¡ Ù…Ø±ÙƒØ² Ø§Ù„Ø£ØªÙ…ØªØ©",viewName:"automation",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:se,label:"Ù…Ø±ÙƒØ² Ø§Ù„ØªØ­Ù„ÙŠÙ„ (AI)",viewName:"analysis",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:oe,label:"Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©",viewName:"advanced-reporting",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:ot,label:"Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±",viewName:"assistant",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:st,label:"Ø§Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ©",viewName:"engineering-knowledge",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:it,label:"Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¹Ø±ÙÙŠØ©",viewName:"knowledge-database",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:ie,label:"ðŸ“¦ Ù…ÙƒØªØ¨Ø© YQArch",viewName:"block-library",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:ct,label:"ðŸ›¡ï¸ Ù†Ø¸Ø§Ù… SBC 2024",viewName:"sbc-compliance",activeView:a,onSelect:l,isCollapsed:s}),t.jsx(p,{icon:lt,label:"Ø³Ø¬Ù„ Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚",viewName:"audit-log",activeView:a,onSelect:l,isCollapsed:s})]}),t.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-200 dark:border-gray-800 space-y-2",children:[t.jsx(p,{icon:de,label:"Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙˆØ§Ù„ØªÙˆØ«ÙŠÙ‚",viewName:"docs-viewer",activeView:a,onSelect:l,isCollapsed:s}),t.jsx("button",{onClick:v,className:"hidden lg:flex w-full items-center justify-center py-3 text-gray-500 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:s?"Expand Sidebar":"Collapse Sidebar",children:t.jsx(dt,{className:`transition-transform duration-300 ${s?"rotate-180":""}`})}),t.jsxs("div",{className:"flex items-center justify-center p-2",children:[t.jsx(mt,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),t.jsx("button",{onClick:N,className:"p-2 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:t.jsx("span",{className:"sr-only",children:"Toggle theme"})}),t.jsx(pt,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})]})]})]})})},me={schedule:[],financials:[],riskRegister:[],siteLog:[],workLog:[],checklists:[],engineeringDocs:[{id:"cat-1",name:"Ø§Ù„Ø¹Ù‚ÙˆØ¯ ÙˆØ§Ù„Ø§ØªÙØ§Ù‚ÙŠØ§Øª",documents:[]},{id:"cat-2",name:"Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„ÙÙ†ÙŠØ©",documents:[]},{id:"cat-3",name:"ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ØªØ±Ø¨Ø©",documents:[]},{id:"cat-4",name:"Ø§Ù„Ù…Ø±Ø§Ø³Ù„Ø§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ©",documents:[]}],drawings:[],drawingFolders:[],purchaseOrders:[],suppliers:[],quotes:[],items:[],workflow:{projectCharter:"",wbs:""},boqReconciliation:[],comparativeAnalysisReport:"",assistantSettings:{persona:"projectManager",tone:"formal",style:"concise"},objectives:[],keyResults:[],subcontractors:[],subcontractorInvoices:[],structuralAssessments:[],members:[]},L=[{id:"template-empty",name:"Ù…Ø´Ø±ÙˆØ¹ ÙØ§Ø±Øº",description:"Ø§Ø¨Ø¯Ø£ Ø¨Ù…Ø´Ø±ÙˆØ¹ Ù†Ø¸ÙŠÙ Ø¨Ø¯ÙˆÙ† Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø³Ø¨Ù‚Ø©.",data:JSON.parse(JSON.stringify(me))},{id:"template-villa",name:"ÙÙŠÙ„Ø§ Ø³ÙƒÙ†ÙŠØ©",description:"Ù‚Ø§Ù„Ø¨ Ø£Ø³Ø§Ø³ÙŠ Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¨Ù†Ø§Ø¡ ÙÙŠÙ„Ø§ Ø³ÙƒÙ†ÙŠØ©.",data:D(P({},JSON.parse(JSON.stringify(me))),{schedule:[{id:1,name:"Ø§Ù„ØªØµÙ…ÙŠÙ…Ø§Øª ÙˆØ§Ù„ØªØ±Ø®ÙŠØµ",start:"2024-08-01",end:"2024-08-30",progress:100,dependencies:[],category:"Planning",status:"Done",priority:"High",assignees:["AD"]},{id:2,name:"Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø­ÙØ± ÙˆØ§Ù„Ø£Ø³Ø§Ø³Ø§Øª",start:"2024-09-01",end:"2024-09-20",progress:50,dependencies:[1],category:"Foundation",status:"In Progress",priority:"High",assignees:["CE"]},{id:3,name:"Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø®Ø±Ø³Ø§Ù†ÙŠ",start:"2024-09-21",end:"2024-11-10",progress:0,dependencies:[2],category:"Structure",status:"To Do",priority:"High",assignees:["CE"]}],financials:[{id:"boq-1",item:"Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø­ÙØ±",quantity:500,unit:"Ù…3",unitPrice:50,total:25e3},{id:"boq-2",item:"Ø®Ø±Ø³Ø§Ù†Ø© Ù…Ø³Ù„Ø­Ø© Ù„Ù„Ø£Ø³Ø§Ø³Ø§Øª",quantity:200,unit:"Ù…3",unitPrice:450,total:9e4}],purchaseOrders:[{id:"po-draft-1",itemName:"Ø®Ø±Ø³Ø§Ù†Ø© Ù…Ø³Ù„Ø­Ø© Ù„Ù„Ù‚ÙˆØ§Ø¹Ø¯",supplier:"",quantity:200,unitPrice:450,total:9e4,orderDate:new Date().toISOString().split("T")[0],expectedDelivery:new Date(new Date().setDate(new Date().getDate()+14)).toISOString().split("T")[0],status:"Pending Approval"}],riskRegister:[{id:"risk-1",description:"ØªØ£Ø®Ø± ÙÙŠ ØªÙˆØ±ÙŠØ¯ Ø­Ø¯ÙŠØ¯ Ø§Ù„ØªØ³Ù„ÙŠØ­",category:"Contractual",probability:"Medium",impact:"High",mitigationPlan:"Ø§Ù„ØªØ¹Ø§Ù‚Ø¯ Ù…Ø¹ Ù…ÙˆØ±Ø¯ÙŠÙ† Ø¨Ø¯ÙŠÙ„ÙŠÙ† ÙˆÙˆØ¶Ø¹ Ø¬Ø¯ÙˆÙ„ ØªÙˆØ±ÙŠØ¯ ØµØ§Ø±Ù….",status:"Open"}]})}],X=e=>b(null,null,function*(){return{inlineData:{data:yield new Promise(r=>{const a=new FileReader;a.onloadend=()=>r(a.result.split(",")[1]),a.readAsDataURL(e)}),mimeType:e.type}}}),q=e=>new Promise((n,r)=>{const a=new FileReader;a.onload=o=>{var i;try{const f=(i=o.target)==null?void 0:i.result,j=XLSX.read(f,{type:"array"}),s=j.SheetNames[0],v=j.Sheets[s],w=XLSX.utils.sheet_to_csv(v);if(!w){r(new Error("Could not convert Excel file to CSV. The sheet might be empty."));return}n(w)}catch(f){r(f)}},a.onerror=o=>r(o),a.readAsArrayBuffer(e)}),va=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),a=`Extract Bill of Quantities items from the following CSV data. The columns are likely 'Item Description', 'Quantity', 'Unit', 'Unit Price', 'Total'. For each item, provide a unique ID, a description (item), quantity, unit, unit price, and total. Format the output as a JSON array of objects. Example: [{id: 'boq-1', item: 'Excavation', quantity: 100, unit: 'm3', unitPrice: 50, total: 5000}]. Make sure all numbers are parsed correctly. If a row seems to be a header or not a BOQ item, ignore it.

CSV Data:
---
${yield q(e)}
---
`,o=yield n.models.generateContentStream({model:"gemini-2.5-flash",contents:a,config:{responseMimeType:"application/json",responseSchema:{type:B.ARRAY,items:{type:B.OBJECT,properties:{id:{type:B.STRING,description:"A unique identifier for the item."},item:{type:B.STRING,description:"The description of the BOQ item."},quantity:{type:B.NUMBER,description:"The quantity of the item."},unit:{type:B.STRING,description:"The unit of measurement."},unitPrice:{type:B.NUMBER,description:"The price per unit."},total:{type:B.NUMBER,description:"The total price for the item."}}}}}});let i="";try{for(var f=ae(o),j,s,v;j=!(s=yield f.next()).done;j=!1){const w=s.value;i+=w.text}}catch(s){v=[s]}finally{try{j&&(s=f.return)&&(yield s.call(f))}finally{if(v)throw v[0]}}try{const w=i.trim();if(!w)throw new Error("AI response was empty.");return JSON.parse(w).map(A=>({id:A.id||`boq-${he()}`,item:A.item||"Unnamed Item",quantity:Number(A.quantity)||0,unit:A.unit||"N/A",unitPrice:Number(A.unitPrice)||0,total:Number(A.total)||0}))}catch(w){throw console.error("Failed to parse BOQ JSON:",i,w),new Error("Could not extract financial items from the file. The format might be unsupported or the AI response was invalid.")}}),Oa=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),r=`Act as a Primavera P6 expert and data extraction specialist. The following is the FULL text content of a Primavera P6 .XER file.
Your task is to parse this file and extract the schedule activities.
- Focus ONLY on the '%T TASK' and '%T TASKPRED' tables to extract the required data and ignore all other tables.
- Activities are in the 'TASK' table (starts with %T	TASK). Data rows start with %R.
- Predecessors are in the 'TASKPRED' table (starts with %T	TASKPRED). Data rows start with %R.
- From the TASK table, extract: task_id, task_code, task_name, target_start_date, target_end_date.
- From the TASKPRED table, extract: task_id, pred_task_id to build dependencies.
For each task from the TASK table, provide a JSON object with: 'id' (from task_id, as a number), 'wbsCode' (from task_code), 'name' (from task_name), 'start' (formatted as YYYY-MM-DD), 'end' (formatted as YYYY-MM-DD), 'progress' (default to 0), and 'dependencies' (an array of predecessor task_id numbers, derived by matching from the TASKPRED table).
Ensure all dependencies from the TASKPRED table are correctly mapped to their respective tasks.
The final output must be a valid JSON array of these task objects.

XER Content:
---
${e}
---
`,a=yield n.models.generateContent({model:"gemini-2.5-pro",contents:r,config:{responseMimeType:"application/json"}});try{const o=a.text.trim();if(!o)throw new Error("AI response was empty.");return JSON.parse(o).map(f=>D(P({},f),{id:Number(f.id),progress:f.progress||0,status:"To Do",priority:"Medium",dependencies:f.dependencies||[]}))}catch(o){throw console.error("Failed to parse XER JSON:",a.text,o),new Error("Could not extract tasks from the XER file. The format might be unsupported or the AI response was invalid.")}}),Aa=(e,n)=>b(null,null,function*(){const r=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),a=`Based on the following Bill of Quantities (BOQ) items for a construction project starting on ${n}, generate a logical project schedule.
    For each major activity derived from the BOQ, provide a task object. Infer logical dependencies between tasks. Estimate a reasonable duration in days.
    Format the output as a JSON array of ScheduleTask objects.
    Example: [{ "id": 1, "name": "Excavation Works", "start": "2024-01-01", "end": "2024-01-10", "progress": 0, "dependencies": [] }]

    BOQ Items:
    ---
    ${JSON.stringify(e,null,2)}
    ---
    `,o=yield r.models.generateContent({model:"gemini-2.5-pro",contents:a,config:{responseMimeType:"application/json"}});try{return JSON.parse(o.text).map((i,f)=>({id:i.id||f+1,name:i.name||"Unnamed Task",start:i.start,end:i.end,progress:0,dependencies:i.dependencies||[],status:"To Do",priority:"Medium"}))}catch(i){throw console.error("Failed to parse schedule from BOQ:",o.text,i),new Error("Could not generate schedule from BOQ.")}}),_a=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),r=`Generate a Work Breakdown Structure (WBS) in markdown format for the following project:
    - Name: ${e.name}
    - Description: ${e.description}
    - Start Date: ${e.startDate}
    
    The WBS should be hierarchical, using nested lists. For example:
    - 1.0 Project Management
      - 1.1 Planning
      - 1.2 Execution
    - 2.0 Engineering
      - 2.1 ...
    `;return(yield n.models.generateContent({model:"gemini-2.5-flash",contents:r})).text}),ka=(e,n)=>b(null,null,function*(){const r=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),a=`Perform a "what-if" analysis on the following project schedule.
    Scenario: "${n}"
    
    Current Schedule:
    ${JSON.stringify(e,null,2)}
    
    Analyze the impact on the critical path, overall project duration, cost, and suggest mitigations.
    Return a JSON object with the format: { "impactSummary": "...", "newEndDate": "YYYY-MM-DD", "costImpact": "...", "criticalPathImpact": "..." }
    `,o=yield r.models.generateContent({model:"gemini-2.5-pro",contents:a,config:{responseMimeType:"application/json"}});return JSON.parse(o.text)}),Na=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),r=`Calculate the critical path for the following project schedule.
    The schedule is provided as a JSON array of tasks with IDs, durations (implicit from start/end), and dependencies.
    
    Schedule:
    ${JSON.stringify(e,null,2)}
    
    Return a JSON object with: { "criticalActivityIds": [1, 3, 5, ...], "projectDuration": 120, "totalFloat": { "1": 0, "2": 5, ... } }
    The activity IDs in the critical path should be numbers.
    `,a=yield n.models.generateContent({model:"gemini-2.5-pro",contents:r,config:{responseMimeType:"application/json"}});return JSON.parse(a.text)}),Pa=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),r=`Provide a detailed cost breakdown for the construction BOQ item: "${e.item}".
    Assume a unit price of ${e.unitPrice} SAR per ${e.unit}.
    Break it down into 'Materials', 'Labor', and 'Equipment' costs.
    Also, provide a reasonable 'overheadsPercentage' and 'profitPercentage'.
    The output must be a JSON object of type DetailedCostBreakdown.
    Example: { "items": [{ "costType": "Materials", "description": "Cement", "quantity": 5, "unit": "bag", "estimatedUnitPrice": 20, "estimatedTotal": 100 }], "overheadsPercentage": 15, "profitPercentage": 10 }
    All descriptions and cost types must be in Arabic.
    `,a=yield n.models.generateContent({model:"gemini-2.5-pro",contents:r,config:{responseMimeType:"application/json"}});return JSON.parse(a.text)}),Ia=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),r=`Analyze the following Bill of Quantities. Identify the top 3 cost drivers and provide a brief financial summary in markdown format.
    
    BOQ:
    ${JSON.stringify(e,null,2)}
    `;return(yield n.models.generateContent({model:"gemini-2.5-flash",contents:r})).text}),Ta=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),r=`Review the following BOQ items for potential conflicts or considerations regarding the Saudi Building Code (SBC). Highlight any items that may require special attention.
    
    BOQ:
    ${JSON.stringify(e,null,2)}
    
    Provide the response in markdown format.
    `;return(yield n.models.generateContent({model:"gemini-2.5-flash",contents:r})).text}),Ea=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),r=`Analyze the sentiment of each description in the following BOQ. Look for terms that suggest risk, uncertainty, or potential issues (e.g., "as per engineer's instruction", "provisional sum", "high-risk").
    For each item, provide a sentiment ('Positive', 'Negative', 'Neutral') and a brief justification.
    
    BOQ:
    ${JSON.stringify(e.map(o=>({id:o.id,item:o.item})),null,2)}

    Return a JSON array of objects with format: { "itemId": "...", "sentiment": "...", "justification": "..." }
    `,a=yield n.models.generateContent({model:"gemini-2.5-flash",contents:r,config:{responseMimeType:"application/json"}});return JSON.parse(a.text)}),Ca=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),r=`Analyze the unit prices in the following BOQ. Identify any prices that seem unusually high or low for the current market in Riyadh, Saudi Arabia. Provide a summary of your findings in markdown.
    
    BOQ:
    ${JSON.stringify(e,null,2)}
    `;return(yield n.models.generateContent({model:"gemini-2.5-pro",contents:r})).text}),Ra=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),r=new Date().toISOString().split("T")[0],a=new Date;a.setDate(a.getDate()+14);const o=a.toISOString().split("T")[0],i=`Create a draft purchase order from this BOQ item:
    - Item: ${e.item}
    - Quantity: ${e.quantity} ${e.unit}
    - Unit Price: ${e.unitPrice}
    
    Suggest a generic supplier name.
    The output should be a JSON object with format: { "itemName": "...", "supplier": "...", "quantity": ..., "unitPrice": ..., "orderDate": "${r}", "expectedDelivery": "${o}", "status": "Pending Approval" }
    `,f=yield n.models.generateContent({model:"gemini-2.5-flash",contents:i,config:{responseMimeType:"application/json"}});return JSON.parse(f.text)}),za=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),r=`Based on the following daily activities, generate a checklist for QA/QC and HSE.
    Activities: "${e}"
    
    Return a JSON array of objects: { "id": "...", "category": "QA/QC" | "HSE", "text": "...", "status": "Pending" }
    `,a=yield n.models.generateContent({model:"gemini-2.5-flash",contents:r,config:{responseMimeType:"application/json"}});return JSON.parse(a.text).map(i=>D(P({},i),{id:he()}))}),ft=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),r=`Analyze the following tender text and create a new project structure.
    Extract the project name, description, and start date.
    Generate a preliminary schedule and financial BOQ based on the text.
    
    Tender Text:
    ---
    ${e}
    ---
    
    The output must be a single JSON object with the structure: { "name": "...", "description": "...", "startDate": "YYYY-MM-DD", "data": { "schedule": [...], "financials": [...] } }
    `,a=yield n.models.generateContent({model:"gemini-2.5-pro",contents:r,config:{responseMimeType:"application/json"}}),o=JSON.parse(a.text);return o.data=D(P({},o.data),{riskRegister:[],siteLog:[],workLog:[],checklists:[],engineeringDocs:[],drawings:[],drawingFolders:[],purchaseOrders:[],suppliers:[],quotes:[],items:[],workflow:{projectCharter:"",wbs:""},boqReconciliation:[],comparativeAnalysisReport:"",assistantSettings:{persona:"projectManager",tone:"formal",style:"concise"},objectives:[],keyResults:[],subcontractors:[],subcontractorInvoices:[],structuralAssessments:[],members:[]}),o}),Ba=(e,n,r)=>b(null,null,function*(){const a=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),o=`For a project named "${e.name}" (${e.description}), generate a draft for a document in the category "${r}".
    User's request: "${n}"
    
    The output should be a JSON object: { "title": "...", "content": "..." }
    The content should be in markdown format.
    `,i=yield a.models.generateContent({model:"gemini-2.5-pro",contents:o,config:{responseMimeType:"application/json"}});return JSON.parse(i.text)}),Da=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),r=`Based on the project description "${e.description}", suggest 5 potential risks.
    For each risk, provide a description, category, probability, impact, and a mitigation plan.
    Return a JSON array of objects.
    `,a=yield n.models.generateContent({model:"gemini-2.5-flash",contents:r,config:{responseMimeType:"application/json"}});return JSON.parse(a.text)}),Ka=(e,n)=>b(null,null,function*(){const r=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),a=yield X(n),o={parts:[{text:`Analyze this site photo from a civil engineering perspective. Identify progress, materials, safety issues, and quality of work. User notes: "${e}". Respond in markdown.`},a]};return(yield r.models.generateContent({model:"gemini-2.5-flash",contents:o})).text}),Ua=(e,n)=>b(null,null,function*(){const r=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),a=`Generate a formal Project Charter in markdown for the project "${e.name}".
    Project Description: ${e.description}
    Use the following inputs:
    - High-level Requirements: ${n.requirements}
    - Feasibility: ${n.feasibility}
    - Stakeholders: ${n.stakeholders}
    - Initial Risks: ${n.risks}
    `;return(yield r.models.generateContent({model:"gemini-2.5-pro",contents:a})).text}),Ma=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),r=`From the given schedule, create a hierarchical Work Breakdown Structure (WBS) in markdown format. Group tasks into logical phases.
    
    Schedule:
    ${JSON.stringify(e.map(o=>o.name),null,2)}
    `;return(yield n.models.generateContent({model:"gemini-2.5-pro",contents:r})).text}),La=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),r=`Perform a value engineering analysis on the provided BOQ. Suggest alternative materials or construction methods to reduce costs without compromising quality. Provide a detailed report in markdown.
    
    BOQ:
    ${JSON.stringify(e,null,2)}
    `;return(yield n.models.generateContent({model:"gemini-2.5-pro",contents:r})).text}),qa=(e,n)=>b(null,null,function*(){const r=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),a=yield q(e),o=yield q(n),i=`Reconcile the two following documents: a Bill of Quantities (BOQ) and a Quantity Takeoff sheet.
    Match items from the BOQ to items in the Takeoff, even if the descriptions are not identical.
    
    BOQ CSV:
    ---
    ${a}
    ---
    
    Takeoff CSV:
    ---
    ${o}
    ---
    
    Return a JSON array of matches: { "boqItemId": "...", "boqItemDescription": "...", "takeoffFile": "${n.name}", "takeoffDescription": "...", "matchConfidence": 0.95 }
    `,f=yield r.models.generateContent({model:"gemini-2.5-pro",contents:i,config:{responseMimeType:"application/json"}});return JSON.parse(f.text)}),$a=(e,n)=>b(null,null,function*(){const r=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),a=yield q(e),o=yield q(n),i=`Compare the two BOQ files provided. Generate a detailed comparative analysis report in markdown, highlighting differences in quantities, unit prices, and total costs for matched items.
    
    File 1 (${e.name}):
    ${a}
    
    File 2 (${n.name}):
    ${o}
    `;return(yield r.models.generateContent({model:"gemini-2.5-pro",contents:i})).text}),Ja=e=>b(null,null,function*(){return(yield new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}).models.generateContent({model:"gemini-2.5-pro",contents:e,config:{thinkingConfig:{thinkingBudget:8192}}})).text}),Fa=(e,n)=>b(null,null,function*(){const r=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),a=yield X(n),o={parts:[{text:e},a]};return(yield r.models.generateContent({model:"gemini-2.5-flash",contents:o})).text}),Va=(e,n)=>b(null,null,function*(){return(yield new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}).models.generateImages({model:"imagen-4.0-generate-001",prompt:e,config:{numberOfImages:1,aspectRatio:n,outputMimeType:"image/jpeg"}})).generatedImages[0].image.imageBytes}),Qa=(e,n)=>b(null,null,function*(){var i,f,j;const o=(j=(f=(i=(yield new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}).models.generateContent({model:"gemini-2.5-flash",contents:`Find the following near me: "${e}"`,config:{tools:[{googleMaps:{}}],toolConfig:{retrievalConfig:{latLng:n}}}})).candidates)==null?void 0:i[0])==null?void 0:f.groundingMetadata)==null?void 0:j.groundingChunks;return o?o.filter(s=>s.maps).map(s=>{var v,w,O,A,N,l,T,E,_,g;return{name:s.maps.title,type:((A=(O=(w=(v=s.maps.placeAnswerSources)==null?void 0:v[0])==null?void 0:w.placeDetails)==null?void 0:O.types)==null?void 0:A[0])||"Business",phone:((T=(l=(N=s.maps.placeAnswerSources)==null?void 0:N[0])==null?void 0:l.placeDetails)==null?void 0:T.nationalPhoneNumber)||"",address:((g=(_=(E=s.maps.placeAnswerSources)==null?void 0:E[0])==null?void 0:_.placeDetails)==null?void 0:g.formattedAddress)||"",mapsUri:s.maps.uri}}):[]}),Ya=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),r=yield X(e),o={parts:[{text:`Analyze this engineering drawing. Provide a summary, extract key text/dimensions, and generate a preliminary Bill of Quantities (BOQ).
    The output must be a JSON object: { "summary": "...", "extractedText": "...", "preliminaryBOQ": [{ "item": "...", "description": "...", "quantity": ..., "unit": "..." }] }
    `},r]},i=yield n.models.generateContent({model:"gemini-2.5-pro",contents:o,config:{responseMimeType:"application/json"}});return JSON.parse(i.text)}),Ha=(e,n,r)=>b(null,null,function*(){var s,v,w,O;const a=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"});let o=yield a.models.generateVideos({model:"veo-3.1-fast-generate-preview",prompt:e,config:{numberOfVideos:1,resolution:r,aspectRatio:n}});for(;!o.done;)yield new Promise(A=>setTimeout(A,1e4)),o=yield a.operations.getVideosOperation({operation:o});const i=(O=(w=(v=(s=o.response)==null?void 0:s.generatedVideos)==null?void 0:v[0])==null?void 0:w.video)==null?void 0:O.uri;if(!i)throw new Error("Video generation failed or returned no link.");const j=yield(yield fetch(`${i}&key=AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A`)).blob();return URL.createObjectURL(j)}),Wa=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),r=`Break down the activity "${e}" into a list of sub-tasks for a project schedule. For each sub-task, estimate a duration in days and identify its predecessors from the generated list.
    Return a JSON array: [{ "name": "...", "duration": ..., "predecessors": ["..."] }]
    `,a=yield n.models.generateContent({model:"gemini-2.5-pro",contents:r,config:{responseMimeType:"application/json"}});return JSON.parse(a.text)}),Ga=(e,n,r)=>b(null,null,function*(){const a=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),o=e.data.financials.filter(j=>n.includes(j.id)),i=`As a consultant for the Saudi Building Code (SBC), answer the following query regarding a construction project.
    Project: ${e.name}
    Query: "${r}"
    
    Relevant BOQ Items:
    ${JSON.stringify(o,null,2)}
    
    Provide a detailed answer in markdown format, citing SBC sections if possible.
    `;return(yield a.models.generateContent({model:"gemini-2.5-pro",contents:i})).text}),Xa=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),r=`Analyze the sentiment of the following text.
    Text: "${e}"
    
    Return a JSON object: { "sentiment": "Positive" | "Negative" | "Neutral", "confidence": 0.9, "justification": "..." }
    `,a=yield n.models.generateContent({model:"gemini-2.5-flash",contents:r,config:{responseMimeType:"application/json"}});return JSON.parse(a.text)}),Za=(e,n)=>b(null,null,function*(){const r=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),a=`I am providing context from a Scribd document titled "${e}". Please answer my question based on this document.
    Question: "${n}"
    `;return(yield r.models.generateContent({model:"gemini-2.5-flash",contents:a,config:{tools:[{googleSearch:{}}]}})).text}),en=(e,n,r)=>b(null,null,function*(){const a=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),o=`Generate a recovery plan for the project "${e.name}".
    The current schedule has delays.
    The new target ${r?`start date is ${r}`:`end date is ${n}`}.
    
    Current Schedule:
    ${JSON.stringify(e.data.schedule,null,2)}
    
    Propose a revised schedule using techniques like crashing, fast-tracking, and re-sequencing.
    The response must be a JSON object:
    {
      "plan": "Markdown summary of the recovery strategy...",
      "revisedSchedule": [
        {
          "id": 1, "name": "...", "start": "YYYY-MM-DD", "end": "YYYY-MM-DD",
          "originalStart": "YYYY-MM-DD", "originalEnd": "YYYY-MM-DD",
          "revisedStart": "YYYY-MM-DD", "revisedEnd": "YYYY-MM-DD",
          "recoverySuggestion": "crashed" | "fast-tracked" | "re-sequenced" | "unchanged",
          ... other task properties
        }
      ]
    }
    `,i=yield a.models.generateContent({model:"gemini-2.5-pro",contents:o,config:{responseMimeType:"application/json"}});return JSON.parse(i.text)}),tn=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),r=`Generate a detailed retrofitting/repair plan for the following structural defect:
    - Location: ${e.location}
    - Type: ${e.type}
    - Description: ${e.description}
    - Severity: ${e.severity}
    
    Provide a step-by-step procedure, required materials with estimated quantities and unit costs, required labor hours, and estimated duration in days.
    Return a JSON object: { "procedure": ["..."], "requiredMaterials": [{"name": "...", "quantity": ..., "unit": "...", "unitCost": ...}], "requiredLaborHours": ..., "estimatedDurationDays": ... }
    `,a=yield n.models.generateContent({model:"gemini-2.5-pro",contents:r,config:{responseMimeType:"application/json"}});return JSON.parse(a.text)}),an=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),r=`Analyze a simply supported beam with the following properties:
    ${JSON.stringify(e,null,2)}
    
    Calculate the maximum bending moment, maximum shear force, and maximum deflection. Provide a brief summary of the results.
    Return a JSON object: { "maxBendingMoment": {"value": ..., "position": ...}, "maxShearForce": {"value": ..., "position": ...}, "maxDeflection": {"value": ..., "position": ...}, "summary": "..." }
    `,a=yield n.models.generateContent({model:"gemini-2.5-pro",contents:r,config:{responseMimeType:"application/json"}});return JSON.parse(a.text)}),nn=(e,n)=>b(null,null,function*(){const r=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),a=`Provide a conceptual cost and duration estimate for a new construction project.
    
    Input:
    ${JSON.stringify(e,null,2)}
    
    Additionally, compare this conceptual estimate with the project's current BOQ total of ${n} SAR and provide a variance report.
    
    Return a JSON object: { "estimatedCost": ..., "estimatedDuration": ..., "majorResources": [...], "assumptions": "...", "varianceReport": "..." }
    `,o=yield r.models.generateContent({model:"gemini-2.5-pro",contents:a,config:{responseMimeType:"application/json"}});return JSON.parse(o.text)}),rn=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),r=`Perform a dynamic pricing analysis on the following BOQ items. Suggest a more competitive "dynamicUnitPrice" for each item based on current market rates, quantity discounts, etc.
    
    BOQ:
    ${JSON.stringify(e.map(o=>({id:o.id,name:o.item,unitPrice:o.unitPrice})),null,2)}
    
    Return a JSON array: [{ "itemId": "...", "itemName": "...", "originalUnitPrice": ..., "dynamicUnitPrice": ..., "justification": "..." }]
    `,a=yield n.models.generateContent({model:"gemini-2.5-pro",contents:r,config:{responseMimeType:"application/json"}});return JSON.parse(a.text)}),on=e=>b(null,null,function*(){const n=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),r=`Analyze concrete curing time based on these parameters:
    - Concrete Grade: ${e.concreteGrade}
    - Ambient Temperature: ${e.ambientTemp}Â°C
    - Required Strength for Formwork Stripping: ${e.requiredStrength}%
    
    Calculate the minimum curing days required. Determine if early stripping is possible and provide engineering recommendations.
    Return a JSON object: { "curingDays": ..., "earlyStrippingPossible": true/false, "recommendations": "..." }
    `,a=yield n.models.generateContent({model:"gemini-2.5-pro",contents:r,config:{responseMimeType:"application/json"}});return JSON.parse(a.text)}),sn=(e,n)=>b(null,null,function*(){const r=new x({apiKey:"AIzaSyAK_UVp3OsRKnakSBiTOSp9mzkPioy7O3A"}),a=e.data.financials.filter(f=>n.itemIds.includes(f.id)),o=`Generate an Inspection and Test Plan (ITP) in markdown format for the following construction activities.
    The plan should adhere to these standards: ${n.standards.join(", ")}.
    
    Activities/BOQ Items:
    ${JSON.stringify(a.map(f=>f.item),null,2)}
    
    The ITP should include columns for: Activity, Reference Document, Inspection Type, Acceptance Criteria, and Responsible Party.
    Return a JSON object: { "itpReport": "..." }
    `,i=yield r.models.generateContent({model:"gemini-2.5-pro",contents:o,config:{responseMimeType:"application/json"}});return JSON.parse(i.text)}),bt=e=>typeof e=="object"&&e!==null&&typeof e.name=="string"&&typeof e.description=="string"&&typeof e.startDate=="string"&&typeof e.data=="object"&&e.data!==null,xt=({isOpen:e,onClose:n,onAddProject:r})=>{const[a,o]=y.useState("manual"),[i,f]=y.useState(""),[j,s]=y.useState(""),[v,w]=y.useState(new Date().toISOString().split("T")[0]),[O,A]=y.useState(L[0]),[N,l]=y.useState(""),[T,E]=y.useState(!1),[_,g]=y.useState(null),[h,K]=y.useState(!1),[C,k]=y.useState("");y.useEffect(()=>{e&&a==="manual"&&O&&s(O.description)},[e,a,O]);const J=S=>{if(S.preventDefault(),!i.trim()||!v)return;const z={name:i,description:j,startDate:v,data:JSON.parse(JSON.stringify(O.data))};r(z),R()},F=()=>b(null,null,function*(){if(N.trim()){E(!0),k("");try{const S=yield ft(N);r(S),R()}catch(S){k(`AI Analysis Failed: ${S.message}`),E(!1)}}}),V=S=>{S.target.files&&S.target.files[0]&&(S.target.files[0].type==="application/json"?(g(S.target.files[0]),k("")):(k("Ø®Ø·Ø£: ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ Ù…Ù„Ù JSON ÙÙ‚Ø·."),g(null)))},Q=()=>{if(!_)return;K(!0),k("");const S=new FileReader;S.onload=z=>{var $;try{if(typeof(($=z.target)==null?void 0:$.result)!="string")throw new Error("Ù„Ø§ ÙŠÙ…ÙƒÙ† Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù.");const U=JSON.parse(z.target.result);if(bt(U))r(U),R();else throw new Error("Ù…Ù„Ù JSON ØºÙŠØ± ØµØ§Ù„Ø­. ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù†Ù‡ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©: name, description, startDate, data.")}catch(U){k(`ÙØ´Ù„ Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯: ${U.message}`),K(!1)}},S.onerror=()=>{k("ÙØ´Ù„ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù."),K(!1)},S.readAsText(_)},R=()=>{f(""),s(""),w(new Date().toISOString().split("T")[0]),l(""),E(!1),g(null),K(!1),k(""),o("manual"),n()};return e?t.jsx("div",{className:"modal",style:{display:"block"},onClick:R,children:t.jsxs("div",{className:"modal-content p-8 max-w-2xl dark:bg-gray-800",onClick:S=>S.stopPropagation(),children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Ø¥Ø¶Ø§ÙØ© Ù…Ø´Ø±ÙˆØ¹ Ø¬Ø¯ÙŠØ¯"}),t.jsx("button",{onClick:R,className:"text-slate-500 hover:text-slate-800 dark:hover:text-slate-200",children:t.jsx(ye,{size:24})})]}),t.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:t.jsxs("nav",{className:"-mb-px flex space-x-4 rtl:space-x-reverse","aria-label":"Tabs",children:[t.jsx("button",{onClick:()=>o("manual"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${a==="manual"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300"}`,children:"Ø¥Ù†Ø´Ø§Ø¡ ÙŠØ¯ÙˆÙŠ"}),t.jsx("button",{onClick:()=>o("tender"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${a==="tender"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300"}`,children:"Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù† Ù…Ù†Ø§Ù‚ØµØ© (AI)"}),t.jsx("button",{onClick:()=>o("import"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${a==="import"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300"}`,children:"Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ù…Ù† Ù…Ù„Ù"})]})}),a==="manual"&&t.jsxs("form",{onSubmit:J,children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"projectName",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹"}),t.jsx("input",{type:"text",id:"projectName",value:i,onChange:S=>f(S.target.value),required:!0,className:"w-full bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"projectStartDate",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"ØªØ§Ø±ÙŠØ® Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹"}),t.jsx("input",{type:"date",id:"projectStartDate",value:v,onChange:S=>w(S.target.value),required:!0,className:"w-full bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"projectDescription",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"ÙˆØµÙ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹"}),t.jsx("textarea",{id:"projectDescription",value:j,onChange:S=>s(S.target.value),rows:3,className:"w-full bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{htmlFor:"projectTemplate",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‚Ø§Ù„Ø¨"}),t.jsx("select",{id:"projectTemplate",value:O.id,onChange:S=>A(L.find(z=>z.id===S.target.value)),className:"w-full bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:L.map(S=>t.jsxs("option",{value:S.id,children:[S.name," - ",S.description]},S.id))})]}),t.jsxs("div",{className:"flex justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:R,className:"px-4 py-2 rounded-lg text-slate-700 dark:text-slate-200 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 font-semibold",children:"Ø¥Ù„ØºØ§Ø¡"}),t.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 font-semibold",children:"Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹"})]})]}),a==="tender"&&t.jsxs("div",{children:[t.jsx("p",{className:"mb-4 text-slate-600 dark:text-slate-400 text-sm",children:"Ø§Ù„ØµÙ‚ Ø§Ù„Ù†Øµ Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ù†Ø§Ù‚ØµØ© Ø£Ø¯Ù†Ø§Ù‡. Ø³ÙŠÙ‚ÙˆÙ… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø¨ØªØ­Ù„ÙŠÙ„Ù‡ Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙˆÙˆØµÙÙ‡ ÙˆØ¬Ø¯ÙˆÙ„Ù‡ Ø§Ù„Ø²Ù…Ù†ÙŠ Ø§Ù„Ø£ÙˆÙ„ÙŠ ÙˆØ§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙˆØ§Ù„Ù…Ø®Ø§Ø·Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§."}),t.jsx("textarea",{value:N,onChange:S=>l(S.target.value),rows:12,placeholder:"Ø§Ù„ØµÙ‚ Ù†Øµ Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ù†Ø§Ù‚ØµØ© Ù‡Ù†Ø§...",className:"w-full bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),C&&t.jsx("p",{className:"text-red-500 text-sm mt-2",children:C}),t.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[t.jsx("button",{type:"button",onClick:R,className:"px-4 py-2 rounded-lg text-slate-700 dark:text-slate-200 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 font-semibold",children:"Ø¥Ù„ØºØ§Ø¡"}),t.jsx("button",{type:"button",onClick:F,disabled:T||!N.trim(),className:"px-4 py-2 rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 font-semibold flex items-center gap-2 disabled:bg-gray-400",children:T?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),t.jsx("span",{children:"...Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„"})]}):t.jsxs(t.Fragment,{children:[t.jsx(ut,{size:18}),t.jsx("span",{children:"ØªØ­Ù„ÙŠÙ„ ÙˆØ¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹"})]})})]})]}),a==="import"&&t.jsxs("div",{children:[t.jsx("p",{className:"mb-4 text-slate-600 dark:text-slate-400 text-sm",children:"Ù‚Ù… Ø¨Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ù…Ø´Ø±ÙˆØ¹ ÙƒØ§Ù…Ù„ Ù…Ù† Ù…Ù„Ù JSON. ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªÙˆØ§ÙÙ‚ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ù„Ù Ù…Ø¹ Ù‡ÙŠÙƒÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚."}),t.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl h-48 flex flex-col items-center justify-center cursor-pointer hover:border-indigo-500 transition-colors bg-gray-50 dark:bg-gray-700/50",onClick:()=>{var S;return(S=document.getElementById("project-import-input"))==null?void 0:S.click()},children:[t.jsx("input",{type:"file",accept:".json",id:"project-import-input",onChange:V,className:"hidden"}),t.jsx(gt,{size:48,className:"mx-auto mb-2 text-gray-400"}),_?t.jsx("p",{className:"font-semibold text-indigo-600",children:_.name}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Ø§Ù†Ù‚Ø± Ù„Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù Ø£Ùˆ Ø§Ø³Ø­Ø¨Ù‡ Ù‡Ù†Ø§"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Ù…Ù„Ù JSON ÙÙ‚Ø·"})]})]}),C&&t.jsx("p",{className:"text-red-500 text-sm mt-2",children:C}),t.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[t.jsx("button",{type:"button",onClick:R,className:"px-4 py-2 rounded-lg text-slate-700 dark:text-slate-200 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 font-semibold",children:"Ø¥Ù„ØºØ§Ø¡"}),t.jsx("button",{type:"button",onClick:Q,disabled:h||!_,className:"px-4 py-2 rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 font-semibold flex items-center gap-2 disabled:bg-gray-400",children:h?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),t.jsx("span",{children:"...Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯"})]}):t.jsx("span",{children:"Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹"})})]})]})]})}):null},pe=[{id:"proj-1",name:"Ø¨Ù†Ø§Ø¡ ÙÙŠÙ„Ø§ Ø³ÙƒÙ†ÙŠØ© - Ø­ÙŠ Ø§Ù„ÙŠØ§Ø³Ù…ÙŠÙ†",description:"Ù…Ø´Ø±ÙˆØ¹ Ø¨Ù†Ø§Ø¡ ÙÙŠÙ„Ø§ Ø¯ÙˆØ¨Ù„ÙƒØ³ Ø¨Ù…Ø³Ø§Ø­Ø© 400 Ù…ØªØ± Ù…Ø±Ø¨Ø¹.",startDate:"2024-08-01",endDate:"2025-07-31",data:D(P({},JSON.parse(JSON.stringify(L.find(e=>e.id==="template-villa").data))),{financials:[{id:"boq-found-1",item:"Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø­ÙØ± Ù„Ù„Ø£Ø³Ø§Ø³Ø§Øª",quantity:500,unit:"Ù…3",unitPrice:50,total:25e3},{id:"boq-found-2",item:"Ø®Ø±Ø³Ø§Ù†Ø© Ù…Ø³Ù„Ø­Ø© Ù„Ù„Ù‚ÙˆØ§Ø¹Ø¯",quantity:200,unit:"Ù…3",unitPrice:450,total:9e4},{id:"boq-elec-1",item:"ØªØ£Ø³ÙŠØ³ Ù…ÙˆØ§Ø³ÙŠØ± ÙƒÙ‡Ø±Ø¨Ø§Ø¡ - Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£Ø±Ø¶ÙŠ",quantity:1,unit:"Ù…Ù‚Ø·ÙˆØ¹ÙŠØ©",unitPrice:15e3,total:15e3},{id:"boq-elec-2",item:"Ø³Ø­Ø¨ Ø£Ø³Ù„Ø§Ùƒ ÙˆØªÙˆØµÙŠÙ„Ø§Øª - Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£Ø±Ø¶ÙŠ",quantity:1,unit:"Ù…Ù‚Ø·ÙˆØ¹ÙŠØ©",unitPrice:12e3,total:12e3},{id:"boq-plumb-1",item:"ØªÙ…Ø¯ÙŠØ¯ Ù…ÙˆØ§Ø³ÙŠØ± Ø§Ù„ØµØ±Ù Ø§Ù„ØµØ­ÙŠ ÙˆØ§Ù„ØªØºØ°ÙŠØ©",quantity:1,unit:"Ù…Ù‚Ø·ÙˆØ¹ÙŠØ©",unitPrice:25e3,total:25e3},{id:"boq-vrf-1",item:"Ø§Ø¹Ù…Ø§Ù„ ØªÙ…Ø¯ÙŠØ¯ ÙˆØªØ±ÙƒÙŠØ¨ Ù†Ø­Ø§Ø³ Ù„Ù„Ù…ÙƒÙŠÙØ§Øª VRF",quantity:1,unit:"Ù…Ù‚Ø·ÙˆØ¹ÙŠØ©",unitPrice:65e3,total:65e3},{id:"boq-gypsum-1",item:"Ø§Ø¹Ù…Ø§Ù„ ØªØ±ÙƒÙŠØ¨ Ø§Ù„ÙˆØ§Ø­ Ø¬Ø¨Ø³ÙŠØ© Ù„Ù„Ø£Ø³Ù‚Ù Ø§Ù„Ù…Ø¹Ù„Ù‚Ø© (Ø¬Ø¨Ø³ Ø¨ÙˆØ±Ø¯)",quantity:250,unit:"Ù…2",unitPrice:65,total:16250}],siteLog:[{id:"log-1",date:"2024-07-20T10:00:00Z",photoUrl:"https://storage.googleapis.com/maker-suite-images/AN-AI/site1.jpg",userNotes:"ØªÙ… Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ Ù…Ù† ØµØ¨ Ø£Ø¹Ù…Ø¯Ø© Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£Ø±Ø¶ÙŠ. Ø§Ù„Ø®Ø±Ø³Ø§Ù†Ø© ØªØ¨Ø¯Ùˆ Ø¬ÙŠØ¯Ø©.",aiAnalysis:"ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© ÙŠØ¸Ù‡Ø± Ø§ÙƒØªÙ…Ø§Ù„ ØµØ¨ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø©. Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ´Ù‚Ù‚Ø§Øª ÙˆØ§Ø¶Ø­Ø©. ÙŠØ¬Ø¨ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø±Ø´ Ø§Ù„Ø®Ø±Ø³Ø§Ù†Ø© Ø¨Ø§Ù„Ù…Ø§Ø¡ Ø¨Ø´ÙƒÙ„ Ø¯ÙˆØ±ÙŠ. ØªÙ… Ø±ØµØ¯ Ø¨Ø¹Ø¶ Ø¨Ù‚Ø§ÙŠØ§ Ø§Ù„Ø£Ø®Ø´Ø§Ø¨ Ø¨Ø§Ù„Ù‚Ø±Ø¨ Ù…Ù† Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¹Ù…Ù„ØŒ ÙŠØ¬Ø¨ Ø¥Ø²Ø§Ù„ØªÙ‡Ø§ Ù„ØªØ¬Ù†Ø¨ Ù…Ø®Ø§Ø·Ø± Ø§Ù„Ø³Ù„Ø§Ù…Ø©.",latitude:24.7938,longitude:46.6719},{id:"log-2",date:"2024-07-22T11:00:00Z",photoUrl:"https://storage.googleapis.com/maker-suite-images/AN-AI/site2.jpg",userNotes:"ÙˆØµÙˆÙ„ Ø´Ø­Ù†Ø© Ø­Ø¯ÙŠØ¯ Ø§Ù„ØªØ³Ù„ÙŠØ­ Ù„Ù„Ø³Ù‚Ù.",aiAnalysis:"Ø§Ù„ØµÙˆØ±Ø© ØªØ¸Ù‡Ø± ÙƒÙ…ÙŠØ© ÙƒØ¨ÙŠØ±Ø© Ù…Ù† Ø­Ø¯ÙŠØ¯ Ø§Ù„ØªØ³Ù„ÙŠØ­. ÙŠØ¨Ø¯Ùˆ Ù…Ø·Ø§Ø¨Ù‚Ù‹Ø§ Ù„Ù„Ù…ÙˆØ§ØµÙØ§Øª Ù…Ù† Ø­ÙŠØ« Ø§Ù„Ù‚Ø·Ø±. ÙŠØ¬Ø¨ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØªØ®Ø²ÙŠÙ†Ù‡ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ Ø¨Ø¹ÙŠØ¯Ù‹Ø§ Ø¹Ù† Ø§Ù„Ø±Ø·ÙˆØ¨Ø© ÙˆØ§Ù„Ø£ØªØ±Ø¨Ø©. Ù„Ù… ÙŠØªÙ… Ø±ØµØ¯ Ø£ÙŠ Ø¹Ù…Ø§Ù„ ÙŠØ±ØªØ¯ÙˆÙ† Ø®ÙˆØ°Ø§Øª ÙÙŠ Ø§Ù„ØµÙˆØ±Ø©ØŒ ÙˆÙ‡Ø°Ø§ ÙŠÙ…Ø«Ù„ Ø®Ø±Ù‚Ù‹Ø§ Ù„Ù„Ø³Ù„Ø§Ù…Ø©.",latitude:24.7945,longitude:46.6725},{id:"log-3",date:"2024-07-25T09:00:00Z",photoUrl:"https://storage.googleapis.com/maker-suite-images/AN-AI/site3.jpg",userNotes:"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¹Ø§Ù…Ø© Ø­ÙˆÙ„ Ù†Ø¸Ø§ÙØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹.",aiAnalysis:"Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙŠØ¨Ø¯Ùˆ ØºÙŠØ± Ù…Ù†Ø¸Ù…. Ù‡Ù†Ø§Ùƒ ØªØ±Ø§ÙƒÙ… Ù„Ù„Ù…Ø®Ù„ÙØ§Øª ÙÙŠ Ø¹Ø¯Ø© Ù…Ù†Ø§Ø·Ù‚ Ù…Ù…Ø§ Ù‚Ø¯ ÙŠØ¹ÙŠÙ‚ Ø§Ù„Ø­Ø±ÙƒØ© ÙˆÙŠØ²ÙŠØ¯ Ù…Ù† Ù…Ø®Ø§Ø·Ø± Ø§Ù„Ø­ÙˆØ§Ø¯Ø«. ÙŠÙ†ØµØ­ Ø¨Ø¹Ù…Ù„ Ø­Ù…Ù„Ø© Ù†Ø¸Ø§ÙØ© Ø´Ø§Ù…Ù„Ø©."}],objectives:[{id:"obj-1",title:"Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ Ù…Ù† Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø®Ø±Ø³Ø§Ù†ÙŠ",description:"Ø¥ÙƒÙ…Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø®Ø±Ø³Ø§Ù†ÙŠØ© Ù„Ù„Ù…Ø¨Ù†Ù‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø­Ø¯Ø¯."},{id:"obj-2",title:"ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©",description:"Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… ØªØ¬Ø§ÙˆØ² Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„ÙØ¹Ù„ÙŠØ© Ù„Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø© Ù„Ù„Ù…Ø´Ø±ÙˆØ¹."}],keyResults:[{id:"kr-1",objectiveId:"obj-1",title:"ØµØ¨ Ø®Ø±Ø³Ø§Ù†Ø© Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£Ø±Ø¶ÙŠ",currentValue:150,targetValue:150,status:"On Track"},{id:"kr-2",objectiveId:"obj-1",title:"ØµØ¨ Ø®Ø±Ø³Ø§Ù†Ø© Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£ÙˆÙ„",currentValue:75,targetValue:150,status:"On Track"},{id:"kr-3",objectiveId:"obj-1",title:"ØµØ¨ Ø®Ø±Ø³Ø§Ù†Ø© Ø§Ù„Ø³Ø·Ø­",currentValue:0,targetValue:100,status:"On Track"},{id:"kr-4",objectiveId:"obj-2",title:"Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨ØªÙƒÙ„ÙØ© Ø§Ù„Ù…ÙˆØ§Ø¯ Ø¨Ù†Ø³Ø¨Ø© 95%",currentValue:80,targetValue:95,status:"At Risk"},{id:"kr-5",objectiveId:"obj-2",title:"ØªÙ‚Ù„ÙŠÙ„ ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„Ø¹Ù…Ø§Ù„Ø© Ø¨Ù†Ø³Ø¨Ø© 5%",currentValue:2,targetValue:5,status:"On Track"}],subcontractors:[{id:"sub-1",name:"Ø´Ø±ÙƒØ© Ø§Ù„Ø¥ØªÙ‚Ø§Ù† Ù„Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡",trade:"Ø£Ø¹Ù…Ø§Ù„ ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©",contactPerson:"Ø³Ù„ÙŠÙ…Ø§Ù† Ø§Ù„Ø¹Ù„ÙŠ",contactEmail:"solaiman@itqan.com",contactPhone:"0501234567"},{id:"sub-2",name:"Ù…Ø¤Ø³Ø³Ø© Ø§Ù„ÙŠÙ†Ø§Ø¨ÙŠØ¹ Ù„Ù„Ø³Ø¨Ø§ÙƒØ©",trade:"Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø³Ø¨Ø§ÙƒØ© ÙˆØ§Ù„ØªÙƒÙŠÙŠÙ",contactPerson:"Ø®Ø§Ù„Ø¯ Ø§Ù„Ù…ØµØ±ÙŠ",contactEmail:"khalid@yanabee.com",contactPhone:"0557654321"},{id:"sub-3",name:"Ø´Ø±ÙƒØ© Ù‡Ø§Ù„Ø© Ø§Ù„Ø±ÙŠØ§Ø¶ Ù„Ù„ØªÙƒÙŠÙŠÙ",trade:"Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ØªÙƒÙŠÙŠÙ VRF",contactPerson:"Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„ØªØ±ÙƒÙŠ",contactEmail:"a.turki@hala-riyadh.com",contactPhone:"0533344455"},{id:"sub-4",name:"Ø·Ø§Ø±Ù‚ Ù„Ù„Ù…Ù‚Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©",trade:"Ø£Ø¹Ù…Ø§Ù„ ØªØ´Ø·ÙŠØ¨Ø§Øª",contactPerson:"Ø·Ø§Ø±Ù‚ Ù…ÙŠØ§Ù‡",contactEmail:"tariq.m@contractor.com",contactPhone:"0588899900"}],suppliers:[{id:"sup-1",name:"Ø´Ø±ÙƒØ© Ù…ÙˆØ§Ø¯ Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…ØªØ­Ø¯Ø©",trade:"Ù…ÙˆØ§Ø¯ Ø£Ø³Ø§Ø³ÙŠØ©",contactPerson:"Ù…Ø­Ù…Ø¯ Ø§Ù„Ø­Ù…Ø¯",email:"m.hamad@united.com",phone:"0501112222",address:"Ø§Ù„Ø±ÙŠØ§Ø¶, Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ©",performanceIndex:.95},{id:"sup-2",name:"ØªØ¬Ù‡ÙŠØ²Ø§Øª Ø§Ù„Ø®Ø±Ø³Ø§Ù†Ø© Ø§Ù„Ø¹ØµØ±ÙŠØ©",trade:"Ø®Ø±Ø³Ø§Ù†Ø© Ø¬Ø§Ù‡Ø²Ø©",contactPerson:"ÙŠÙˆØ³Ù Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡",email:"yusuf@modern-concrete.com",phone:"0503334444",address:"Ø§Ù„Ø±ÙŠØ§Ø¶, Ø·Ø±ÙŠÙ‚ Ø§Ù„Ø®Ø±Ø¬",performanceIndex:.88},{id:"sup-3",name:"Ø§Ù„Ø±ÙˆØ§Ø¯ Ù„Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡ ÙˆØ§Ù„Ø¥Ù†Ø§Ø±Ø©",trade:"Ù…ÙˆØ§Ø¯ ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©",contactPerson:"Ø¹Ù„ÙŠ Ø³Ø§Ù„Ù…",email:"ali.salem@rowad.sa",phone:"0505556666",address:"Ø§Ù„Ø±ÙŠØ§Ø¶, Ø§Ù„Ù…Ù„Ø²",performanceIndex:.92}],quotes:[{id:"q-1",supplierId:"sup-2",materialName:"Ø®Ø±Ø³Ø§Ù†Ø© Ù…Ø³Ù„Ø­Ø© Ù„Ù„Ù‚ÙˆØ§Ø¹Ø¯",unitPrice:445,validUntil:"2024-09-01"},{id:"q-2",supplierId:"sup-1",materialName:"Ø®Ø±Ø³Ø§Ù†Ø© Ù…Ø³Ù„Ø­Ø© Ù„Ù„Ù‚ÙˆØ§Ø¹Ø¯",unitPrice:460,validUntil:"2024-09-15"},{id:"q-3",supplierId:"sup-2",materialName:"Ø®Ø±Ø³Ø§Ù†Ø© Ù…Ø³Ù„Ø­Ø© Ù„Ù„Ù‚ÙˆØ§Ø¹Ø¯",unitPrice:455,validUntil:"2024-08-30",notes:"Ø¹Ø±Ø¶ Ø®Ø§Øµ Ù„Ù„Ø¯ÙØ¹ Ø§Ù„ÙÙˆØ±ÙŠ"},{id:"q-4",supplierId:"sup-3",materialName:"ØªØ£Ø³ÙŠØ³ Ù…ÙˆØ§Ø³ÙŠØ± ÙƒÙ‡Ø±Ø¨Ø§Ø¡ - Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£Ø±Ø¶ÙŠ",unitPrice:14500,validUntil:"2024-09-01"},{id:"q-5",supplierId:"sup-3",materialName:"Ø³Ø­Ø¨ Ø£Ø³Ù„Ø§Ùƒ ÙˆØªÙˆØµÙŠÙ„Ø§Øª - Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£Ø±Ø¶ÙŠ",unitPrice:11800,validUntil:"2024-09-01"}],structuralAssessments:[{id:"assess-1",buildingName:"Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (CHC)",assessmentType:"Visual",defects:[{id:"def-1",location:"Ø§Ù„Ø¹Ù…ÙˆØ¯ C3ØŒ Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£Ø±Ø¶ÙŠ",type:"Ø¥Ù†Ø´Ø§Ø¦ÙŠ",description:"ØªØ¹Ø´ÙŠØ´ Ø®Ø±Ø³Ø§Ù†ÙŠ Ø®ÙÙŠÙ ÙÙŠ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø³ÙÙ„ÙŠ Ù…Ù† Ø§Ù„Ø¹Ù…ÙˆØ¯.",severity:"Medium",status:"New",photoUrl:"https://storage.googleapis.com/maker-suite-images/AN-AI/defect1.jpg"},{id:"def-2",location:"Ø§Ù„Ø³Ù„Ù… Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ",type:"Ø¥Ù†Ø´Ø§Ø¦ÙŠ",description:"ØµØ¯Ø£ ÙˆØªØ¢ÙƒÙ„ ÙÙŠ Ø­Ø¯ÙŠØ¯ Ø§Ù„ØªØ³Ù„ÙŠØ­ Ø§Ù„Ù…ÙƒØ´ÙˆÙ.",severity:"High",status:"New",photoUrl:"https://storage.googleapis.com/maker-suite-images/AN-AI/defect2.jpg"},{id:"def-3",location:"Ø¬Ø¯Ø§Ø± Ø§Ù„ØºØ±ÙØ© 201",type:"Ù…Ø¹Ù…Ø§Ø±ÙŠ",description:"ØªØ´Ù‚Ù‚Ø§Øª Ø´Ø¹Ø±ÙŠØ© ÙÙŠ Ø·Ø¨Ù‚Ø© Ø§Ù„Ù„ÙŠØ§Ø³Ø©.",severity:"Low",status:"New"}]},{id:"assess-2",buildingName:"Ø³ÙƒÙ† Ø§Ù„Ù…Ù…Ø±Ø¶Ø§Øª",assessmentType:"Combined",defects:[]}],subcontractorInvoices:[{id:"inv-1",subcontractorId:"sub-1",invoiceNumber:"INV-ELEC-001",date:"2024-07-15",status:"Paid",items:[{id:"item-1",boqItemId:"boq-elec-1",description:"ØªØ£Ø³ÙŠØ³ Ù…ÙˆØ§Ø³ÙŠØ± ÙƒÙ‡Ø±Ø¨Ø§Ø¡ Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£Ø±Ø¶ÙŠ",executedQuantity:1,unitPrice:15e3,total:15e3}],totalAmount:15e3},{id:"inv-2",subcontractorId:"sub-2",invoiceNumber:"INV-PLUMB-001",date:"2024-07-20",status:"Approved",items:[{id:"item-2",boqItemId:"boq-plumb-1",description:"ØªÙ…Ø¯ÙŠØ¯ Ù…ÙˆØ§Ø³ÙŠØ± Ø§Ù„ØµØ±Ù Ø§Ù„ØµØ­ÙŠ Ù„Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£Ø±Ø¶ÙŠ",executedQuantity:1,unitPrice:25e3,total:25e3}],totalAmount:25e3},{id:"inv-3",subcontractorId:"sub-1",invoiceNumber:"INV-ELEC-002",date:"2024-08-01",status:"Submitted",items:[{id:"item-3",boqItemId:"boq-elec-2",description:"Ø³Ø­Ø¨ Ø£Ø³Ù„Ø§Ùƒ Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£Ø±Ø¶ÙŠ",executedQuantity:1,unitPrice:12e3,total:12e3}],totalAmount:12e3},{id:"inv-4",subcontractorId:"sub-3",invoiceNumber:"HR-FINAL-01",date:"2024-08-10",status:"Approved",items:[{id:"inv-4-item-1",boqItemId:"boq-vrf-1",description:"Ø§Ø¹Ù…Ø§Ù„ ØªØ±ÙƒÙŠØ¨ Ù†Ø­Ø§Ø³ ÙˆÙ„Ø­Ø§Ù… - Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø«Ø§Ù†ÙŠ",executedQuantity:186,unitPrice:60,total:11160},{id:"inv-4-item-2",boqItemId:"boq-vrf-1",description:"Ø§Ø¹Ù…Ø§Ù„ ØªØ±ÙƒÙŠØ¨ ÙˆØªØ´Ø¨ÙŠÙƒ Ø§Ù„Ù†Ø­Ø§Ø³ Ø¨Ø§Ù„Ù…ÙƒÙŠÙ†Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© ÙˆØªØ±ÙƒÙŠØ¨ ÙƒÙ†ØªØ±ÙˆÙ„ ÙˆØ§Ø®ØªØ¨Ø§Ø±",executedQuantity:18,unitPrice:300,total:5400}],totalAmount:16560},{id:"inv-5",subcontractorId:"sub-4",invoiceNumber:"TM-004",date:"2024-08-12",status:"Submitted",items:[{id:"inv-5-item-1",boqItemId:"boq-gypsum-1",description:"Ø§Ø¹Ù…Ø§Ù„ ØªØ±ÙƒÙŠØ¨ Ø¬Ø¨Ø³ - Ø³Ù†Ø¬Ù„",executedQuantity:65,unitPrice:22,total:1430},{id:"inv-5-item-2",boqItemId:"boq-gypsum-1",description:"Ø§Ø¹Ù…Ø§Ù„ ØªØ±ÙƒÙŠØ¨ Ø¬Ø¨Ø³ Ù„Ù„Ø§Ø¹Ù…Ø¯Ø©",executedQuantity:1985,unitPrice:22,total:43670}],totalAmount:45100}]})},{id:"proj-2",name:"Ù…Ø´Ø±ÙˆØ¹ ØªØ¬Ø§Ø±ÙŠ - Ø·Ø±ÙŠÙ‚ Ø§Ù„Ù…Ù„Ùƒ ÙÙ‡Ø¯",description:"ØªØ·ÙˆÙŠØ± Ù…Ø¨Ù†Ù‰ ØªØ¬Ø§Ø±ÙŠ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª.",startDate:"2024-09-15",data:JSON.parse(JSON.stringify(L.find(e=>e.id==="template-empty").data))}],ue=m.lazy(()=>u(()=>import("./Dashboard-9F5gY1Gx.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(e=>({default:e.Dashboard}))),St=m.lazy(()=>u(()=>import("./ScheduleManager-DbWLHoCc.js"),__vite__mapDeps([8,1,2,9,4,7,5,6])).then(e=>({default:e.ScheduleManager}))),jt=m.lazy(()=>u(()=>import("./FinancialManager-CLoPQpgS.js"),__vite__mapDeps([10,1,2,4,11,7,5,6])).then(e=>({default:e.FinancialManager}))),wt=m.lazy(()=>u(()=>import("./RiskManager-CPnPX8Kh.js"),__vite__mapDeps([12,1,2,4,5,6,7])).then(e=>({default:e.RiskManager}))),vt=m.lazy(()=>u(()=>import("./SiteTracker-DjJdNzdn.js"),__vite__mapDeps([13,1,2,4,7,5,6])).then(e=>({default:e.SiteTracker}))),Ot=m.lazy(()=>u(()=>import("./DrawingManager-Ca7NxwNW.js"),__vite__mapDeps([14,1,2,4])).then(e=>({default:e.DrawingManager}))),At=m.lazy(()=>u(()=>import("./EngineeringDocsManager-BTAJ9Vmb.js"),__vite__mapDeps([15,1,2,3,4,7,5,6])).then(e=>({default:e.EngineeringDocsManager}))),_t=m.lazy(()=>u(()=>import("./ProcurementManager-t79A3jcs.js"),__vite__mapDeps([16,1,2,11,4,7])).then(e=>({default:e.ProcurementManager}))),kt=m.lazy(()=>u(()=>import("./SubcontractorManager-C2JLF4ua.js"),__vite__mapDeps([17,1,2,4,7])).then(e=>({default:e.SubcontractorManager}))),Nt=m.lazy(()=>u(()=>import("./ProjectHub-COaFQLj-.js"),__vite__mapDeps([18,1,2,4,7])).then(e=>({default:e.ProjectHub}))),Pt=m.lazy(()=>u(()=>import("./OKRManager-C-4Ju5qG.js"),__vite__mapDeps([19,1,2,4])).then(e=>({default:e.OKRManager}))),It=m.lazy(()=>u(()=>import("./WorkflowArchitect-Beb7idGB.js"),__vite__mapDeps([20,1,2,7,4,5,6])).then(e=>({default:e.WorkflowArchitect}))),Tt=m.lazy(()=>u(()=>import("./AnalysisCenter-D7nPpn5g.js"),__vite__mapDeps([21,1,2,4,7,5,6])).then(e=>({default:e.AnalysisCenter}))),Et=m.lazy(()=>u(()=>import("./LiveAssistant-6KDsisb1.js"),__vite__mapDeps([22,1,2,6,4])).then(e=>({default:e.LiveAssistant}))),Ct=m.lazy(()=>u(()=>import("./DocumentationViewer-BOwmFvyn.js"),__vite__mapDeps([23,1,2,7,4])).then(e=>({default:e.DocumentationViewer}))),Rt=m.lazy(()=>u(()=>import("./RecoveryPlanner-BF0344D9.js"),__vite__mapDeps([24,1,2,7,9,4,5,6])).then(e=>({default:e.RecoveryPlanner}))),zt=m.lazy(()=>u(()=>import("./AssessmentManager-BMYhJBC-.js"),__vite__mapDeps([25,1,2,4,7,5,6])).then(e=>({default:e.AssessmentManager}))),Bt=m.lazy(()=>u(()=>import("./AuditLogViewer-CfRU7kGZ.js"),__vite__mapDeps([26,1,2,4])).then(e=>({default:e.AuditLogViewer}))),Dt=m.lazy(()=>u(()=>import("./AdvancedReporting-CLNsowUR.js"),__vite__mapDeps([27,1,2,28,4,5,6,7]))),Kt=m.lazy(()=>u(()=>import("./ProjectMembers-C89mgB9e.js"),__vite__mapDeps([29,1,2,4,7])).then(e=>({default:e.ProjectMembers}))),Ut=m.lazy(()=>u(()=>import("./BOQManualManager-wc9YqMLp.js"),__vite__mapDeps([30,1,2,4])).then(e=>({default:e.BOQManualManager}))),Mt=m.lazy(()=>u(()=>import("./EngineeringKnowledge-B0NwPPaI.js"),__vite__mapDeps([31,1,2,4])).then(e=>({default:e.EngineeringKnowledge}))),Lt=m.lazy(()=>u(()=>import("./KnowledgeDatabase-DnACh4N-.js"),__vite__mapDeps([32,1,2,4]))),qt=m.lazy(()=>u(()=>import("./NOUFALBackendHub-C39JdY3w.js"),__vite__mapDeps([33,1,2,4])).then(e=>({default:e.NOUFALBackendHub}))),$t=m.lazy(()=>u(()=>import("./BlockLibrary-thnTf42U.js"),__vite__mapDeps([34,1,2,4])).then(e=>({default:e.BlockLibrary}))),Jt=m.lazy(()=>u(()=>import("./BOQUploadHub-BAJZEYSs.js"),__vite__mapDeps([35,1,2,5,4])).then(e=>({default:e.default}))),Ft=m.lazy(()=>u(()=>import("./SBCComplianceChecker-DU1kzWtm.js"),__vite__mapDeps([36,1,2,4])).then(e=>({default:e.SBCComplianceChecker}))),Vt=m.lazy(()=>u(()=>import("./ScheduleAnalysis-q-FUTtRI.js"),__vite__mapDeps([37,1,2,4])).then(e=>({default:e.ScheduleAnalysis}))),Qt=m.lazy(()=>u(()=>import("./NOUFALCommandCenter-D4DVknKJ.js"),__vite__mapDeps([38,1,2,5,4])).then(e=>({default:e.default}))),Yt=m.lazy(()=>u(()=>import("./LibraryShowcase-f5zvozfY.js"),__vite__mapDeps([39,1,2,5,4])).then(e=>({default:e.default}))),Ht=m.lazy(()=>u(()=>import("./ManualAnalysisMode-XBR6XjJ9.js"),__vite__mapDeps([40,1,2,4])).then(e=>({default:e.default}))),Wt=m.lazy(()=>u(()=>import("./QuantitiesExtractionPage-DM6MmA23.js"),__vite__mapDeps([41,1,2,4])).then(e=>({default:e.default}))),Gt=m.lazy(()=>u(()=>import("./NOUFALEnhanced-DPWX7EZs.js"),__vite__mapDeps([42,1,2,4])).then(e=>({default:e.default}))),Xt=m.lazy(()=>u(()=>import("./SmartReportsSystem-Br3zMzah.js"),__vite__mapDeps([43,1,2,4])).then(e=>({default:e.default}))),Zt=m.lazy(()=>u(()=>import("./AdvancedAIFeatures-B5qmXQ16.js"),__vite__mapDeps([44,1,2,4])).then(e=>({default:e.default}))),ea=m.lazy(()=>u(()=>import("./ProEngineeringHub-DQ_Ooytp.js"),__vite__mapDeps([45,1,2,4])).then(e=>({default:e.default}))),ta=m.lazy(()=>u(()=>import("./RealAIProcessor-Bptoa6kY.js"),__vite__mapDeps([46,1,2,4])).then(e=>({default:e.default}))),aa=m.lazy(()=>u(()=>import("./NOUFALIntegratedSystem-BxtfM0mV.js"),__vite__mapDeps([47,1,2,4])).then(e=>({default:e.default}))),na=m.lazy(()=>u(()=>import("./ExecutiveDashboard-BCb6SPKi.js"),__vite__mapDeps([48,1,2,4,49])).then(e=>({default:e.ExecutiveDashboard}))),ra=m.lazy(()=>u(()=>import("./ResourceManagement-DwVE3p0Z.js"),__vite__mapDeps([50,1,2,4])).then(e=>({default:e.ResourceManagement}))),oa=m.lazy(()=>u(()=>import("./CostControlSystem-CkyPbHZT.js"),__vite__mapDeps([51,1,2,4,49])).then(e=>({default:e.CostControlSystem})));m.lazy(()=>u(()=>import("./ResourcesManager-DKuSXUgq.js"),__vite__mapDeps([52,1,2,4])).then(e=>({default:e.ResourcesManager})));const sa=m.lazy(()=>u(()=>import("./IntegratedAnalytics-ByOvDBcF.js"),__vite__mapDeps([53,1,2,4])).then(e=>({default:e.IntegratedAnalytics}))),ia=m.lazy(()=>u(()=>import("./AdvancedDashboard-Wa0fgPSc.js"),__vite__mapDeps([54,1,2,4])).then(e=>({default:e.default}))),ca=m.lazy(()=>u(()=>import("./AdvancedAnalytics-Be4XFfXQ.js"),__vite__mapDeps([55,1,2,4])).then(e=>({default:e.default}))),la=m.lazy(()=>u(()=>import("./InteractiveReports-C7X46Zcb.js"),__vite__mapDeps([56,1,2,4])).then(e=>({default:e.default}))),da=m.lazy(()=>u(()=>import("./MobileFieldHub-CZ1V59Lj.js"),__vite__mapDeps([57,1,2,4])).then(e=>({default:e.default}))),ma=m.lazy(()=>u(()=>import("./RFIManager-B7_y6Lfl.js"),__vite__mapDeps([58,1,2,4])).then(e=>({default:e.default}))),pa=m.lazy(()=>u(()=>import("./DesignExecutionManager-BK2UbCiM.js"),__vite__mapDeps([59,1,2,4])).then(e=>({default:e.default}))),ua=m.lazy(()=>u(()=>import("./IntegrationMonitor-DJndrxYj.js"),__vite__mapDeps([60,1,2,4])).then(e=>({default:e.default}))),ge=()=>t.jsx("div",{className:"flex flex-col justify-center items-center h-full min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-indigo-900",children:t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"relative mb-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-20 w-20 border-t-4 border-b-4 border-indigo-600 dark:border-indigo-400 mx-auto"}),t.jsx("div",{className:"absolute inset-0 rounded-full h-20 w-20 border-t-4 border-b-4 border-purple-400 animate-spin mx-auto",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),t.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„..."}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 animate-pulse",children:"ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø¨ÙŠÙ†Ù…Ø§ Ù†Ù‚ÙˆÙ… Ø¨ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚"})]})}),ga=()=>{const[e,n]=y.useState(!1),[r,a]=y.useState(""),[o,i]=y.useState(!0),[f,j]=y.useState(()=>{try{const c=localStorage.getItem("AN_AI_PROJECTS");if(c)return JSON.parse(c)}catch(c){console.error("Could not load projects from local storage",c),n(!0),a("ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ")}return pe}),[s,v]=y.useState(()=>{try{const c=localStorage.getItem("AN_AI_ACTIVE_PROJECT_ID"),d=JSON.parse(localStorage.getItem("AN_AI_PROJECTS")||"null")||pe;if(c&&d.some(I=>I.id===c))return c;if(d.length>0)return d[0].id}catch(c){console.error("Could not load active project ID from local storage",c)}return null}),[w,O]=y.useState("dashboard"),[A,N]=y.useState(!1),[l,T]=y.useState(!1),[E,_]=y.useState(!1);y.useEffect(()=>{const c=setTimeout(()=>{o&&(console.warn("âš ï¸ Loading timeout reached - switching to fallback mode"),i(!1),n(!0),a("Ø§Ù†ØªÙ‡Ù‰ ÙˆÙ‚Øª Ø§Ù„ØªØ­Ù…ÙŠÙ„ - ÙŠØªÙ… Ø§Ù„Ø¢Ù† ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©"))},15e3),d=setTimeout(()=>{i(!1)},2e3);return()=>{clearTimeout(c),clearTimeout(d)}},[o]),y.useEffect(()=>{const c=d=>{console.error("âŒ Runtime Error:",d.error),n(!0),a(`Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ´ØºÙŠÙ„: ${d.message}`)};return window.addEventListener("error",c),()=>window.removeEventListener("error",c)},[]),y.useEffect(()=>{try{localStorage.setItem("AN_AI_PROJECTS",JSON.stringify(f)),s?localStorage.setItem("AN_AI_ACTIVE_PROJECT_ID",s):localStorage.removeItem("AN_AI_ACTIVE_PROJECT_ID")}catch(c){console.error("Could not save state to local storage",c)}},[f,s]);const g=f.find(c=>c.id===s),h=y.useCallback((c,d)=>{j(I=>I.map(M=>M.id===c?D(P({},M),{data:P(P({},M.data),d(M.data))}):M))},[]),K=c=>{const d=P({id:`proj-${Date.now()}`},c);j(I=>[...I,d]),v(d.id),O("dashboard"),T(!1)},C=y.useCallback((c,d,I)=>{h(c,()=>P({financials:d},I&&{contractualBOQFile:I}))},[h]),k=y.useCallback((c,d)=>{h(c,()=>({schedule:d}))},[h]),J=y.useCallback((c,d)=>{h(c,()=>({riskRegister:d}))},[h]),F=y.useCallback((c,d)=>{h(c,()=>({siteLog:d}))},[h]),V=y.useCallback((c,d)=>{h(c,()=>({workLog:d}))},[h]),Q=y.useCallback((c,d)=>{h(c,()=>({checklists:d}))},[h]),R=y.useCallback((c,d,I)=>{h(c,()=>({drawings:d,drawingFolders:I}))},[h]),S=y.useCallback((c,d)=>{h(c,()=>({engineeringDocs:d}))},[h]),z=y.useCallback((c,d)=>{h(c,()=>({purchaseOrders:d}))},[h]),$=y.useCallback((c,d)=>{h(c,()=>({items:d}))},[h]),U=y.useCallback((c,d)=>{h(c,()=>({objectives:d}))},[h]),fe=y.useCallback((c,d)=>{h(c,()=>({keyResults:d}))},[h]),Y=y.useCallback((c,d)=>{h(c,I=>({workflow:P(P({},I.workflow),d)}))},[h]),be=y.useCallback((c,d)=>{h(c,()=>({boqReconciliation:d}))},[h]),xe=y.useCallback((c,d)=>{h(c,()=>({comparativeAnalysisReport:d}))},[h]),Se=y.useCallback((c,d)=>{h(c,()=>({assistantSettings:d}))},[h]),je=y.useCallback((c,d)=>{h(c,()=>({subcontractors:d}))},[h]),we=y.useCallback((c,d)=>{h(c,()=>({subcontractorInvoices:d}))},[h]),ve=y.useCallback((c,d)=>{h(c,()=>({structuralAssessments:d}))},[h]),Oe=y.useCallback((c,d)=>{h(c,()=>({members:d}))},[h]),Ae=()=>{n(!1),a(""),i(!0),window.location.reload()},_e=()=>{if(!g)return t.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-500",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø´Ø±ÙˆØ¹ Ù…Ø­Ø¯Ø¯"}),t.jsx("p",{children:"Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ­Ø¯ÙŠØ¯ Ù…Ø´Ø±ÙˆØ¹ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø£Ùˆ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø´Ø±ÙˆØ¹ Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ø¨Ø¯Ø¡."})]});switch(w){case"dashboard":return t.jsx(ue,{project:g,onSelectView:O,onUpdateFinancials:C,onUpdateSchedule:k,onUpdateWorkflow:Y});case"noufal-backend":return t.jsx(qt,{});case"schedule":return t.jsx(St,{project:g,onUpdateSchedule:k});case"recovery-plan":return t.jsx(Rt,{project:g,onUpdateSchedule:k});case"financials":return t.jsx(jt,{project:g,onUpdatePurchaseOrders:z});case"risks":return t.jsx(wt,{project:g,onUpdateRisks:J});case"site":return t.jsx(vt,{project:g,onUpdateSiteLog:F,onUpdateWorkLog:V,onUpdateChecklists:Q,onUpdateSchedule:k});case"drawings":return t.jsx(Ot,{project:g,onUpdateDrawings:R});case"docs":return t.jsx(At,{project:g,onUpdateDocuments:S,onUpdateFinancials:C,onUpdateSchedule:k});case"procurement":return t.jsx(_t,{project:g,onUpdatePurchaseOrders:z});case"subcontractors":return t.jsx(kt,{project:g,onUpdateSubcontractors:je,onUpdateInvoices:we});case"members":return t.jsx(Kt,{project:g,onUpdateMembers:Oe});case"assessments":return t.jsx(zt,{project:g,onUpdateAssessments:ve});case"hub":return t.jsx(Nt,{project:g,onUpdateItems:$});case"okrs":return t.jsx(Pt,{project:g,onUpdateObjectives:U,onUpdateKeyResults:fe});case"workflow":return t.jsx(It,{project:g,onUpdateWorkflow:Y});case"automation":return t.jsx("div",{className:"p-8 text-center",children:t.jsx("h2",{className:"text-2xl",children:"ðŸš§ Automation Center Ù‚ÙŠØ¯ Ø§Ù„ØµÙŠØ§Ù†Ø©"})});case"boq-manual":return t.jsx(Ut,{project:g,onUpdateFinancials:C,onUpdateSchedule:k});case"analysis":return t.jsx(Tt,{project:g,onUpdateBoqReconciliation:be,onUpdateComparativeAnalysis:xe,onUpdateFinancials:C});case"advanced-reporting":return t.jsx(Dt,{project:g});case"assistant":return t.jsx(Et,{project:g,onUpdateSettings:Se});case"docs-viewer":return t.jsx(Ct,{});case"audit-log":return t.jsx(Bt,{});case"engineering-knowledge":return t.jsx(Mt,{project:g});case"knowledge-database":return t.jsx(Lt,{project:g});case"block-library":return t.jsx($t,{});case"boq-upload-hub":return t.jsx(Jt,{projectId:g.id,projectName:g.name});case"sbc-compliance":return t.jsx(Ft,{});case"schedule-analysis":return t.jsx(Vt,{project:g});case"noufal-command":return t.jsx(Qt,{});case"library-showcase":return t.jsx(Yt,{});case"manual-analysis":return t.jsx(Ht,{});case"quantities-extraction":return t.jsx(Wt,{});case"noufal-enhanced":return t.jsx(Gt,{});case"smart-reports":return t.jsx(Xt,{});case"ai-features":return t.jsx(Zt,{});case"pro-engineering":return t.jsx(ea,{projectId:g.id,projectName:g.name});case"real-ai":return t.jsx(ta,{projectId:g.id,projectName:g.name});case"noufal-integrated":return t.jsx(aa,{});case"executive-dashboard":return t.jsx(na,{projectId:g.id,projectName:g.name});case"resources-manager":return t.jsx(ra,{projectId:g.id});case"cost-control":return t.jsx(oa,{projectId:g.id,totalBudget:g.data.financials.reduce((c,d)=>c+d.total,0)});case"integrated-analytics":return t.jsx(sa,{projectId:g.id});case"advanced-dashboard":return t.jsx(ia,{});case"advanced-analytics":return t.jsx(ca,{});case"interactive-reports":return t.jsx(la,{});case"mobile-field-hub":return t.jsx(da,{});case"rfi-manager":return t.jsx(ma,{});case"design-execution":return t.jsx(pa,{});case"integration-monitor":return t.jsx(ua,{});default:return t.jsx(ue,{project:g,onSelectView:O,onUpdateFinancials:C,onUpdateSchedule:k,onUpdateWorkflow:Y})}};return e?t.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-red-50 via-white to-orange-50 dark:from-gray-900 dark:via-gray-800 dark:to-red-900 p-8",children:t.jsxs("div",{className:"max-w-2xl w-full bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8 text-center",children:[t.jsx("div",{className:"text-6xl mb-6",children:"âš ï¸"}),t.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„"}),t.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-6",children:r}),t.jsxs("div",{className:"flex gap-4 justify-center",children:[t.jsx("button",{onClick:Ae,className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-md transition-all duration-200 transform hover:scale-105",children:"ðŸ”„ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©"}),t.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},className:"px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white font-semibold rounded-lg shadow-md transition-all duration-200 transform hover:scale-105",children:"ðŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„"})]}),t.jsxs("div",{className:"mt-8 p-4 bg-gray-100 dark:bg-gray-700 rounded-lg text-right",children:[t.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"ðŸ’¡ Ù†ØµØ§Ø¦Ø­ Ù„Ø­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©:"}),t.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-2",children:[t.jsx("li",{children:"â€¢ ØªØ£ÙƒØ¯ Ù…Ù† Ø§ØªØµØ§Ù„Ùƒ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª"}),t.jsx("li",{children:"â€¢ Ù‚Ù… Ø¨ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…ØªØµÙØ­"}),t.jsx("li",{children:"â€¢ Ø§Ù…Ø³Ø­ Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù…Ø¤Ù‚ØªØ© (Cache)"}),t.jsx("li",{children:"â€¢ Ø¬Ø±Ø¨ Ù…ØªØµÙØ­ Ø¢Ø®Ø±"})]})]})]})}):o?t.jsx(ge,{}):t.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 font-sans",children:[A&&t.jsx("div",{className:"fixed inset-0 bg-black/60 z-30 lg:hidden",onClick:()=>N(!1)}),t.jsx(ht,{projects:f,activeProjectId:s,onSelectProject:v,activeView:w,onSelectView:O,onAddProject:()=>T(!0),isOpen:A,onClose:()=>N(!1),isDesktopCollapsed:E,onToggleDesktopCollapse:()=>_(c=>!c)}),t.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsxs("header",{className:"lg:hidden flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900/70 shrink-0 z-20",children:[t.jsx("h1",{className:"text-lg font-bold text-indigo-600 dark:text-indigo-400 truncate",children:(g==null?void 0:g.name)||"AN.AI"}),t.jsx("button",{onClick:()=>N(!0),className:"p-1",children:t.jsx(yt,{size:24})})]}),t.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 overflow-y-auto",children:t.jsx(y.Suspense,{fallback:t.jsx(ge,{}),children:_e()})})]}),t.jsx(xt,{isOpen:l,onClose:()=>T(!1),onAddProject:K})]})};(function(){if(typeof window=="undefined")return;const e=Date.now();window.performance||(window.performance={}),window.performance.now||(window.performance.now=function(){return Date.now()-e}),window.performance.mark||(window.performance.mark=function(){}),window.performance.measure||(window.performance.measure=function(){}),window.performance.clearMarks||(window.performance.clearMarks=function(){}),window.performance.clearMeasures||(window.performance.clearMeasures=function(){}),window.performance.getEntriesByType||(window.performance.getEntriesByType=function(){return[]}),window.performance.getEntriesByName||(window.performance.getEntriesByName=function(){return[]}),console.log("âœ… Performance API polyfill initialized")})();console.log("ðŸš€ Ø¨Ø¯Ø¡ ØªØ­Ù…ÙŠÙ„ React...");console.log("âœ… App module imported");class ya extends m.Component{constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:",n,r)}render(){var n;return this.state.hasError?t.jsxs("div",{style:{padding:"40px",textAlign:"center",fontFamily:"Tajawal, sans-serif",direction:"rtl"},children:[t.jsx("h2",{style:{color:"#e74c3c",marginBottom:"20px"},children:"âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚"}),t.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚"}),t.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"12px 30px",background:"#3498db",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø©"}),t.jsx("pre",{style:{textAlign:"left",background:"#f5f5f5",padding:"15px",marginTop:"20px",overflow:"auto",direction:"ltr"},children:(n=this.state.error)==null?void 0:n.message})]}):this.props.children}}const G=document.getElementById("root");if(G)try{console.log("ðŸŽ¨ Ø¨Ø¯Ø¡ Ø±Ù†Ø¯Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚..."),Ee.createRoot(G).render(t.jsx(m.StrictMode,{children:t.jsx(ya,{children:t.jsx(ga,{})})})),console.log("âœ… ØªÙ… Ø±Ù†Ø¯Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ù†Ø¬Ø§Ø­")}catch(e){console.error("âŒ Ø®Ø·Ø£ Ø­Ø±Ø¬ ÙÙŠ Ø±Ù†Ø¯Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:",e),G.innerHTML=`
      <div style="padding: 40px; text-align: center; font-family: 'Tajawal', sans-serif; direction: rtl;">
        <h2 style="color: #e74c3c; margin-bottom: 20px;">âš ï¸ Ø®Ø·Ø£ Ø­Ø±Ø¬</h2>
        <p style="color: #666; margin-bottom: 20px;">ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚. ÙŠØ±Ø¬Ù‰:</p>
        <ol style="text-align: right; color: #666; margin: 20px auto; max-width: 400px;">
          <li>Ù…Ø³Ø­ Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù…Ø¤Ù‚ØªØ© (Cache)</li>
          <li>ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø©</li>
          <li>Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ØªØµÙØ­ Ø¢Ø®Ø±</li>
        </ol>
        <button onclick="location.reload()" style="padding: 12px 30px; background: #3498db; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold;">
          ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø©
        </button>
        <pre style="text-align: left; background: #f5f5f5; padding: 15px; margin-top: 20px; overflow: auto; direction: ltr; max-height: 400px;">
${String(e)}

Stack Trace:
${e instanceof Error?e.stack:"No stack trace available"}
        </pre>
      </div>
    `}else console.error("âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¹Ù†ØµØ± root");export{Ja as A,Va as B,Ha as C,Qa as D,an as E,nn as F,Xa as G,rn as H,on as I,sn as J,en as K,tn as L,pe as M,Wa as a,Oa as b,Na as c,ka as d,va as e,Pa as f,_a as g,Ra as h,Ea as i,Ca as j,Ia as k,Ta as l,Ka as m,za as n,Ba as o,Aa as p,Ua as q,Ma as r,Da as s,qa as t,$a as u,Ya as v,La as w,Ga as x,Fa as y,Za as z};
