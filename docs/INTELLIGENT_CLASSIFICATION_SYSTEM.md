# ğŸ§  Ù†Ø¸Ø§Ù… Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„Ø¨Ù†ÙˆØ¯ Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ©

## ğŸ¯ Ø§Ù„ÙÙƒØ±Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

ØªØ·Ø¨ÙŠÙ‚Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙŠØ³ØªÙˆØ±Ø¯ Ø§Ù„Ø¨Ù†ÙˆØ¯ Ù…Ù† Excel Ø¨Ù†Ø¬Ø§Ø­ âœ…  
Ù„ÙƒÙ† ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø¥Ø¶Ø§ÙØ© **Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ** Ù„ØªØ­Ù„ÙŠÙ„ ÙˆØªØµÙ†ÙŠÙ Ø§Ù„Ø¨Ù†ÙˆØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹! ğŸš€

---

## ğŸ”„ Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ:                                             â”‚
â”‚  Excel â†’ Ø§Ø³ØªÙŠØ±Ø§Ø¯ â†’ Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ù†ÙˆØ¯                               â”‚
â”‚                                                               â”‚
â”‚  Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø³Ù‘Ù†:                                             â”‚
â”‚  Excel â†’ Ø§Ø³ØªÙŠØ±Ø§Ø¯ â†’ ØªØ­Ù„ÙŠÙ„ Ø°ÙƒÙŠ â†’ ØªØµÙ†ÙŠÙ â†’ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø©     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1ï¸âƒ£ Ø¥Ø¶Ø§ÙØ© Ù†Ø¸Ø§Ù… Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
```typescript
// Ø§Ù„Ø¨Ù†Ø¯ Ø§Ù„Ù…Ø³ØªÙˆØ±Ø¯:
{
    id: "1",
    item: "Ø®Ø±Ø³Ø§Ù†Ø© Ù…Ø³Ù„Ø­Ø© Ù„Ù„Ø£Ø³Ø§Ø³Ø§Øª",
    quantity: 150,
    unit: "Ù…Â³",
    unitPrice: 350,
    total: 52500
}

// âŒ Ù„Ø§ Ù†Ø¹Ø±Ù:
// - Ù†ÙˆØ¹ Ø§Ù„Ø¨Ù†Ø¯ (Ø®Ø±Ø³Ø§Ù†Ø©ØŸ Ø­Ø¯ÙŠØ¯ØŸ Ø¨Ù„Ø§Ø·ØŸ)
// - Ù†Ø³Ø¨Ø© Ø§Ù„Ù‡Ø¯Ø± Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
// - Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠ
// - Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©
```

### Ø§Ù„Ø­Ù„: Item Classifier

```typescript
// intelligence/ItemClassifier.ts

export interface ItemCategory {
    name: string;
    nameAr: string;
    keywords: string[];
    units: string[];
    wastageRate: number;
    color: string;
    priority: 'high' | 'medium' | 'low';
}

export class ItemClassifier {
    private categories: Record<string, ItemCategory> = {
        concrete: {
            name: 'Concrete',
            nameAr: 'Ø®Ø±Ø³Ø§Ù†Ø©',
            keywords: [
                'Ø®Ø±Ø³Ø§Ù†Ø©', 'ØµØ¨Ø©', 'Ø¨ÙŠØªÙˆÙ†', 'concrete', 'ØµØ¨',
                'Ø®Ø±Ø³Ø§Ù†Ù‡', 'ÙƒÙˆÙ†ÙƒØ±ÙŠØª', 'Ø§Ø³Ù…Ù†Øª Ù…Ø³Ù„Ø­'
            ],
            units: ['Ù…Â³', 'm3', 'Ù…ØªØ± Ù…ÙƒØ¹Ø¨', 'cubic meter'],
            wastageRate: 0.05, // 5%
            color: '#808080',
            priority: 'high'
        },
        
        steel: {
            name: 'Steel',
            nameAr: 'Ø­Ø¯ÙŠØ¯ ØªØ³Ù„ÙŠØ­',
            keywords: [
                'Ø­Ø¯ÙŠØ¯', 'ØªØ³Ù„ÙŠØ­', 'steel', 'Ù‚Ø¶Ø¨Ø§Ù†', 'Ø­Ø¯ÙŠØ¯ ØªØ³Ù„ÙŠØ­',
                'Ø´Ø¨Ùƒ', 'Ø³ÙŠØ®', 'Ø§Ø³ÙŠØ§Ø®', 'Ø­Ø¯ÙŠØ¯ Ù…Ø³Ù„Ø­'
            ],
            units: ['Ø·Ù†', 'ÙƒØ¬Ù…', 'ton', 'kg', 'ÙƒÙŠÙ„Ùˆ'],
            wastageRate: 0.07, // 7%
            color: '#8B0000',
            priority: 'high'
        },
        
        tiles: {
            name: 'Tiles',
            nameAr: 'Ø¨Ù„Ø§Ø· ÙˆØ£Ø±Ø¶ÙŠØ§Øª',
            keywords: [
                'Ø¨Ù„Ø§Ø·', 'Ø³ÙŠØ±Ø§Ù…ÙŠÙƒ', 'Ø±Ø®Ø§Ù…', 'Ø¬Ø±Ø§Ù†ÙŠØª', 'tile',
                'ceramic', 'Ø¨ÙˆØ±Ø³Ù„ÙŠÙ†', 'Ø§Ø±Ø¶ÙŠØ§Øª', 'Ø³Ø±Ø§Ù…ÙŠÙƒ'
            ],
            units: ['Ù…Â²', 'm2', 'Ù…ØªØ± Ù…Ø±Ø¨Ø¹', 'square meter'],
            wastageRate: 0.10, // 10%
            color: '#F5DEB3',
            priority: 'medium'
        },
        
        paint: {
            name: 'Paint',
            nameAr: 'Ø¯Ù‡Ø§Ù†Ø§Øª',
            keywords: [
                'Ø¯Ù‡Ø§Ù†', 'Ø·Ù„Ø§Ø¡', 'paint', 'ØµØ¨Øº', 'Ø¨ÙˆÙŠØ©',
                'Ø¯Ù‡Ø§Ù†Ø§Øª', 'Ù…Ø¹Ø¬ÙˆÙ†', 'Ø·Ù„Ø§Ø¡ Ø¯Ø§Ø®Ù„ÙŠ', 'Ø·Ù„Ø§Ø¡ Ø®Ø§Ø±Ø¬ÙŠ'
            ],
            units: ['Ù…Â²', 'm2', 'Ù„ØªØ±', 'liter', 'Ø¬Ø§Ù„ÙˆÙ†'],
            wastageRate: 0.15, // 15%
            color: '#87CEEB',
            priority: 'low'
        },
        
        doors: {
            name: 'Doors & Windows',
            nameAr: 'Ø£Ø¨ÙˆØ§Ø¨ ÙˆÙ†ÙˆØ§ÙØ°',
            keywords: [
                'Ø¨Ø§Ø¨', 'Ø£Ø¨ÙˆØ§Ø¨', 'door', 'Ø´Ø¨Ø§Ùƒ', 'Ù†Ø§ÙØ°Ø©',
                'Ù†ÙˆØ§ÙØ°', 'Ø¨Ø±ÙˆØ§Ø²', 'Ø´Ø¨Ø§Ø¨ÙŠÙƒ'
            ],
            units: ['Ø¹Ø¯Ø¯', 'Ù‚Ø·Ø¹Ø©', 'pcs', 'piece'],
            wastageRate: 0.02, // 2%
            color: '#8B4513',
            priority: 'medium'
        },
        
        plumbing: {
            name: 'Plumbing',
            nameAr: 'Ø³Ø¨Ø§ÙƒØ©',
            keywords: [
                'Ø£Ù†Ø¨ÙˆØ¨', 'Ø£Ù†Ø§Ø¨ÙŠØ¨', 'Ù…ÙˆØ§Ø³ÙŠØ±', 'pipe', 'Ø³Ø¨Ø§ÙƒØ©',
                'Ø®Ø²Ø§Ù†', 'Ø­Ù†ÙÙŠØ©', 'ØµØ±Ù', 'Ù…ÙŠØ§Ù‡'
            ],
            units: ['Ù….Ø·', 'm', 'Ù…ØªØ± Ø·ÙˆÙ„ÙŠ', 'Ø¹Ø¯Ø¯'],
            wastageRate: 0.05, // 5%
            color: '#4169E1',
            priority: 'high'
        },
        
        electrical: {
            name: 'Electrical',
            nameAr: 'ÙƒÙ‡Ø±Ø¨Ø§Ø¡',
            keywords: [
                'ÙƒØ§Ø¨Ù„', 'Ø³Ù„Ùƒ', 'ÙƒÙ‡Ø±Ø¨Ø§Ø¡', 'electric', 'wire',
                'Ù…ÙØªØ§Ø­', 'Ù„Ù…Ø¨Ø©', 'ÙƒØ´Ø§Ù', 'Ù„ÙˆØ­Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¡'
            ],
            units: ['Ù….Ø·', 'm', 'Ø¹Ø¯Ø¯', 'Ù…ØªØ±'],
            wastageRate: 0.05, // 5%
            color: '#FFD700',
            priority: 'high'
        },
        
        masonry: {
            name: 'Masonry',
            nameAr: 'Ø¨Ù†Ø§Ø¡ ÙˆÙ…Ø­Ø§Ø±Ø©',
            keywords: [
                'Ø¨Ù†Ø§Ø¡', 'Ø·ÙˆØ¨', 'Ø¨Ù„ÙˆÙƒ', 'Ù…Ø­Ø§Ø±Ø©', 'Ù…ÙˆÙ†Ø©',
                'brick', 'block', 'plastering', 'Ù„ÙŠØ§Ø³Ø©'
            ],
            units: ['Ù…Â²', 'm2', 'Ù…Â³', 'm3'],
            wastageRate: 0.08, // 8%
            color: '#D2691E',
            priority: 'high'
        },
        
        excavation: {
            name: 'Excavation',
            nameAr: 'Ø­ÙØ± ÙˆÙ†Ù‚Ù„',
            keywords: [
                'Ø­ÙØ±', 'Ù†Ù‚Ù„', 'Ø±Ø¯Ù…', 'excavation', 'Ø¯ÙØ§Ù†',
                'Ø­ÙØ±ÙŠØ§Øª', 'ØªØ³ÙˆÙŠØ©', 'Ù†Ù‚Ù„ ØªØ±Ø§Ø¨'
            ],
            units: ['Ù…Â³', 'm3'],
            wastageRate: 0.10, // 10%
            color: '#A0522D',
            priority: 'high'
        },
        
        insulation: {
            name: 'Insulation',
            nameAr: 'Ø¹Ø²Ù„',
            keywords: [
                'Ø¹Ø²Ù„', 'Ø¹Ø§Ø²Ù„', 'insulation', 'Ø¹Ø²Ù„ Ù…Ø§Ø¦ÙŠ',
                'Ø¹Ø²Ù„ Ø­Ø±Ø§Ø±ÙŠ', 'ÙÙˆÙ…', 'Ø¨ÙŠØªÙˆÙ…ÙŠÙ†'
            ],
            units: ['Ù…Â²', 'm2', 'ÙƒØ¬Ù…', 'kg'],
            wastageRate: 0.10, // 10%
            color: '#20B2AA',
            priority: 'medium'
        },
        
        finishing: {
            name: 'Finishing',
            nameAr: 'ØªØ´Ø·ÙŠØ¨Ø§Øª',
            keywords: [
                'ØªØ´Ø·ÙŠØ¨', 'Ø¯ÙŠÙƒÙˆØ±', 'finishing', 'Ø¬Ø¨Ø³',
                'Ø§Ø³Ù‚Ù', 'Ø²Ø®Ø±ÙØ©', 'ÙƒÙˆØ±Ù†ÙŠØ´'
            ],
            units: ['Ù…Â²', 'm2', 'Ù…ØªØ±', 'm'],
            wastageRate: 0.10, // 10%
            color: '#DDA0DD',
            priority: 'low'
        }
    };

    /**
     * ØªØµÙ†ÙŠÙ Ø¨Ù†Ø¯ ÙˆØ§Ø­Ø¯
     */
    classify(item: FinancialItem): ClassificationResult {
        const description = item.item.toLowerCase();
        const unit = item.unit?.toLowerCase() || '';
        
        let bestMatch: {
            category: string;
            score: number;
            matchedKeywords: string[];
        } | null = null;

        // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª
        for (const [categoryKey, categoryData] of Object.entries(this.categories)) {
            let score = 0;
            const matchedKeywords: string[] = [];

            // Ù†Ù‚Ø§Ø· Ù„Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ©
            for (const keyword of categoryData.keywords) {
                if (description.includes(keyword)) {
                    score += 10;
                    matchedKeywords.push(keyword);
                }
            }

            // Ù†Ù‚Ø§Ø· Ø¥Ø¶Ø§ÙÙŠØ© Ù„ØªØ·Ø§Ø¨Ù‚ Ø§Ù„ÙˆØ­Ø¯Ø©
            if (categoryData.units.some(u => unit.includes(u))) {
                score += 5;
            }

            // ØªØ­Ø¯ÙŠØ« Ø£ÙØ¶Ù„ ØªØ·Ø§Ø¨Ù‚
            if (score > 0 && (!bestMatch || score > bestMatch.score)) {
                bestMatch = {
                    category: categoryKey,
                    score,
                    matchedKeywords
                };
            }
        }

        // Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ØªØ·Ø§Ø¨Ù‚
        if (!bestMatch) {
            return {
                category: 'other',
                categoryAr: 'ØºÙŠØ± Ù…ØµÙ†Ù',
                confidence: 0,
                wastageRate: 0.05,
                color: '#CCCCCC',
                matchedKeywords: [],
                suggestions: []
            };
        }

        const categoryData = this.categories[bestMatch.category];
        
        return {
            category: bestMatch.category,
            categoryAr: categoryData.nameAr,
            confidence: Math.min(bestMatch.score / 15, 1), // normalize to 0-1
            wastageRate: categoryData.wastageRate,
            color: categoryData.color,
            priority: categoryData.priority,
            matchedKeywords: bestMatch.matchedKeywords,
            suggestions: this.getSuggestions(item, categoryData)
        };
    }

    /**
     * ØªØµÙ†ÙŠÙ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¨Ù†ÙˆØ¯
     */
    classifyBatch(items: FinancialItem[]): ClassifiedFinancialItem[] {
        return items.map(item => {
            const classification = this.classify(item);
            return {
                ...item,
                classification
            };
        });
    }

    /**
     * Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù„Ù„Ø¨Ù†Ø¯
     */
    private getSuggestions(
        item: FinancialItem, 
        category: ItemCategory
    ): string[] {
        const suggestions: string[] = [];
        
        // Ø§Ù‚ØªØ±Ø§Ø­ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‡Ø¯Ø±
        const withWastage = item.quantity * (1 + category.wastageRate);
        suggestions.push(
            `Ø§Ù„ÙƒÙ…ÙŠØ© Ù…Ø¹ Ø§Ù„Ù‡Ø¯Ø± (${(category.wastageRate * 100).toFixed(0)}%): ${withWastage.toFixed(2)} ${item.unit}`
        );

        // Ø§Ù‚ØªØ±Ø§Ø­ ØªØ­Ø³ÙŠÙ† Ø§Ù„ÙˆØµÙ
        if (item.item.length < 10) {
            suggestions.push('ÙŠÙÙ†ØµØ­ Ø¨Ø¥Ø¶Ø§ÙØ© ØªÙØ§ØµÙŠÙ„ Ø£ÙƒØ«Ø± Ù„Ù„ÙˆØµÙ');
        }

        // ØªØ­Ø°ÙŠØ± Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø³Ø¹Ø± ØºÙŠØ± Ù…Ø¹Ù‚ÙˆÙ„
        if (item.unitPrice === 0) {
            suggestions.push('âš ï¸ Ø§Ù„Ø³Ø¹Ø± ØºÙŠØ± Ù…Ø­Ø¯Ø¯');
        }

        return suggestions;
    }

    /**
     * Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªØµÙ†ÙŠÙ
     */
    getStatistics(items: ClassifiedFinancialItem[]): CategoryStatistics {
        const stats: CategoryStatistics = {
            total: items.length,
            byCategory: {},
            totalCost: 0,
            totalCostWithWastage: 0
        };

        for (const item of items) {
            const category = item.classification.categoryAr;
            
            if (!stats.byCategory[category]) {
                stats.byCategory[category] = {
                    count: 0,
                    totalCost: 0,
                    totalCostWithWastage: 0,
                    color: item.classification.color
                };
            }

            const wastage = item.total * item.classification.wastageRate;
            
            stats.byCategory[category].count++;
            stats.byCategory[category].totalCost += item.total;
            stats.byCategory[category].totalCostWithWastage += item.total + wastage;
            
            stats.totalCost += item.total;
            stats.totalCostWithWastage += item.total + wastage;
        }

        return stats;
    }
}

// Types
export interface ClassificationResult {
    category: string;
    categoryAr: string;
    confidence: number;
    wastageRate: number;
    color: string;
    priority?: 'high' | 'medium' | 'low';
    matchedKeywords: string[];
    suggestions: string[];
}

export interface ClassifiedFinancialItem extends FinancialItem {
    classification: ClassificationResult;
}

export interface CategoryStatistics {
    total: number;
    byCategory: Record<string, {
        count: number;
        totalCost: number;
        totalCostWithWastage: number;
        color: string;
    }>;
    totalCost: number;
    totalCostWithWastage: number;
}
```

---

## 2ï¸âƒ£ Ø¯Ù…Ø¬ Ø§Ù„Ù†Ø¸Ø§Ù… Ù…Ø¹ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯

### ØªØ­Ø¯ÙŠØ« `parseExcel` ÙÙŠ `BOQManualManager.tsx`

```typescript
import { ItemClassifier, ClassifiedFinancialItem } from './intelligence/ItemClassifier';

const parseExcel = (file: File): Promise<ClassifiedFinancialItem[]> => {
    return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.onload = (e) => {
            try {
                // ... Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨Ù†ÙˆØ¯ ...
                
                const items: FinancialItem[] = []; // Ø§Ù„Ø¨Ù†ÙˆØ¯ Ø§Ù„Ù…Ø³ØªØ®Ø±Ø¬Ø©
                
                // ğŸ†• ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„Ø°ÙƒÙŠ
                const classifier = new ItemClassifier();
                const classifiedItems = classifier.classifyBatch(items);
                
                resolve(classifiedItems);
            } catch (error) { 
                reject(error); 
            }
        };
        reader.readAsArrayBuffer(file);
    });
};
```

---

## 3ï¸âƒ£ Ø¥Ø¶Ø§ÙØ© ÙˆØ§Ø¬Ù‡Ø© Ø¹Ø±Ø¶ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª

### Ù…ÙƒÙˆÙ† Ø¬Ø¯ÙŠØ¯: `BOQClassificationView`

```typescript
interface BOQClassificationViewProps {
    items: ClassifiedFinancialItem[];
}

export const BOQClassificationView: React.FC<BOQClassificationViewProps> = ({ items }) => {
    const classifier = new ItemClassifier();
    const stats = classifier.getStatistics(items);

    return (
        <div className="space-y-6">
            {/* Ù…Ù„Ø®Øµ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª */}
            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                <StatCard
                    title="Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¨Ù†ÙˆØ¯"
                    value={stats.total}
                    icon="ğŸ“Š"
                />
                <StatCard
                    title="Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©"
                    value={`${stats.totalCost.toLocaleString()} Ø±ÙŠØ§Ù„`}
                    icon="ğŸ’°"
                />
                <StatCard
                    title="Ø§Ù„ØªÙƒÙ„ÙØ© Ù…Ø¹ Ø§Ù„Ù‡Ø¯Ø±"
                    value={`${stats.totalCostWithWastage.toLocaleString()} Ø±ÙŠØ§Ù„`}
                    icon="ğŸ“ˆ"
                    highlight
                />
            </div>

            {/* Ø§Ù„ØªØµÙ†ÙŠÙ Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø© */}
            <div className="bg-white dark:bg-slate-900 rounded-xl p-6 shadow-sm">
                <h3 className="text-xl font-bold mb-4">Ø§Ù„ØªØµÙ†ÙŠÙ Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©</h3>
                <div className="space-y-3">
                    {Object.entries(stats.byCategory).map(([category, data]) => (
                        <CategoryBar
                            key={category}
                            category={category}
                            count={data.count}
                            cost={data.totalCost}
                            costWithWastage={data.totalCostWithWastage}
                            color={data.color}
                            percentage={(data.totalCost / stats.totalCost) * 100}
                        />
                    ))}
                </div>
            </div>

            {/* Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¨Ù†ÙˆØ¯ Ø§Ù„Ù…ØµÙ†ÙØ© */}
            <div className="bg-white dark:bg-slate-900 rounded-xl p-6 shadow-sm">
                <h3 className="text-xl font-bold mb-4">Ø§Ù„Ø¨Ù†ÙˆØ¯ Ø§Ù„Ù…ØµÙ†ÙØ©</h3>
                <table className="w-full">
                    <thead>
                        <tr className="border-b">
                            <th className="text-right p-3">Ø§Ù„ÙˆØµÙ</th>
                            <th className="text-right p-3">Ø§Ù„ØªØµÙ†ÙŠÙ</th>
                            <th className="text-right p-3">Ø§Ù„ÙƒÙ…ÙŠØ©</th>
                            <th className="text-right p-3">Ø§Ù„Ù‡Ø¯Ø±</th>
                            <th className="text-right p-3">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>
                            <th className="text-right p-3">Ø§Ù„Ø«Ù‚Ø©</th>
                        </tr>
                    </thead>
                    <tbody>
                        {items.map(item => {
                            const wastage = item.quantity * item.classification.wastageRate;
                            const totalWithWastage = item.quantity + wastage;
                            
                            return (
                                <tr key={item.id} className="border-b hover:bg-slate-50">
                                    <td className="p-3">{item.item}</td>
                                    <td className="p-3">
                                        <span 
                                            className="px-3 py-1 rounded-full text-sm font-medium"
                                            style={{ backgroundColor: item.classification.color + '40' }}
                                        >
                                            {item.classification.categoryAr}
                                        </span>
                                    </td>
                                    <td className="p-3">{item.quantity} {item.unit}</td>
                                    <td className="p-3 text-orange-600">
                                        +{wastage.toFixed(2)} ({(item.classification.wastageRate * 100).toFixed(0)}%)
                                    </td>
                                    <td className="p-3 font-bold">
                                        {totalWithWastage.toFixed(2)} {item.unit}
                                    </td>
                                    <td className="p-3">
                                        <ConfidenceMeter confidence={item.classification.confidence} />
                                    </td>
                                </tr>
                            );
                        })}
                    </tbody>
                </table>
            </div>
        </div>
    );
};
```

---

## 4ï¸âƒ£ Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ©

### Ù…Ø«Ø§Ù„ 1: ØªØµÙ†ÙŠÙ ØªÙ„Ù‚Ø§Ø¦ÙŠ

```typescript
const classifier = new ItemClassifier();

const item = {
    id: "1",
    item: "Ø®Ø±Ø³Ø§Ù†Ø© Ù…Ø³Ù„Ø­Ø© Ù„Ù„Ø£Ø³Ø§Ø³Ø§Øª Ø¯Ø±Ø¬Ø© 350",
    quantity: 150,
    unit: "Ù…Â³",
    unitPrice: 350,
    total: 52500
};

const result = classifier.classify(item);

console.log(result);
// {
//     category: 'concrete',
//     categoryAr: 'Ø®Ø±Ø³Ø§Ù†Ø©',
//     confidence: 1.0,
//     wastageRate: 0.05,
//     color: '#808080',
//     priority: 'high',
//     matchedKeywords: ['Ø®Ø±Ø³Ø§Ù†Ø©', 'Ù…Ø³Ù„Ø­'],
//     suggestions: [
//         'Ø§Ù„ÙƒÙ…ÙŠØ© Ù…Ø¹ Ø§Ù„Ù‡Ø¯Ø± (5%): 157.50 Ù…Â³',
//     ]
// }
```

### Ù…Ø«Ø§Ù„ 2: Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¯ÙØ¹Ø© ÙƒØ§Ù…Ù„Ø©

```typescript
const items = [
    { id: "1", item: "Ø®Ø±Ø³Ø§Ù†Ø© Ù…Ø³Ù„Ø­Ø©", quantity: 150, unit: "Ù…Â³", ... },
    { id: "2", item: "Ø­Ø¯ÙŠØ¯ ØªØ³Ù„ÙŠØ­ 16Ù…Ù…", quantity: 12, unit: "Ø·Ù†", ... },
    { id: "3", item: "Ø¨Ù„Ø§Ø· Ø³ÙŠØ±Ø§Ù…ÙŠÙƒ", quantity: 450, unit: "Ù…Â²", ... },
];

const classifiedItems = classifier.classifyBatch(items);

// ÙƒÙ„ Ø¨Ù†Ø¯ Ø§Ù„Ø¢Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰:
// - Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
// - Ù†Ø³Ø¨Ø© Ø§Ù„Ù‡Ø¯Ø±
// - Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª
// - Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ù‚Ø©
```

### Ù…Ø«Ø§Ù„ 3: Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø©

```typescript
const stats = classifier.getStatistics(classifiedItems);

console.log(stats);
// {
//     total: 3,
//     byCategory: {
//         'Ø®Ø±Ø³Ø§Ù†Ø©': {
//             count: 1,
//             totalCost: 52500,
//             totalCostWithWastage: 55125,
//             color: '#808080'
//         },
//         'Ø­Ø¯ÙŠØ¯ ØªØ³Ù„ÙŠØ­': {
//             count: 1,
//             totalCost: 54000,
//             totalCostWithWastage: 57780,
//             color: '#8B0000'
//         },
//         // ...
//     },
//     totalCost: 126500,
//     totalCostWithWastage: 135405
// }
```

---

## 5ï¸âƒ£ Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Gemini AI (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)

```typescript
import { GoogleGenerativeAI } from '@google/genai';

export class AIEnhancedClassifier extends ItemClassifier {
    private genAI: GoogleGenerativeAI;

    constructor(apiKey: string) {
        super();
        this.genAI = new GoogleGenerativeAI(apiKey);
    }

    async classifyWithAI(item: FinancialItem): Promise<ClassificationResult> {
        // Ø£ÙˆÙ„Ø§Ù‹: Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠ
        const basicClassification = this.classify(item);

        // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø«Ù‚Ø© Ù…Ù†Ø®ÙØ¶Ø©ØŒ Ø§Ø³ØªØ®Ø¯Ù… AI
        if (basicClassification.confidence < 0.5) {
            const model = this.genAI.getGenerativeModel({ model: 'gemini-pro' });
            
            const prompt = `
                ØµÙ†Ù‘Ù Ù‡Ø°Ø§ Ø§Ù„Ø¨Ù†Ø¯ Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠ:
                Ø§Ù„ÙˆØµÙ: ${item.item}
                Ø§Ù„ÙˆØ­Ø¯Ø©: ${item.unit}
                Ø§Ù„ÙƒÙ…ÙŠØ©: ${item.quantity}
                
                Ø§Ù„ÙØ¦Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©: Ø®Ø±Ø³Ø§Ù†Ø©ØŒ Ø­Ø¯ÙŠØ¯ ØªØ³Ù„ÙŠØ­ØŒ Ø¨Ù„Ø§Ø·ØŒ Ø¯Ù‡Ø§Ù†Ø§ØªØŒ Ø£Ø¨ÙˆØ§Ø¨ØŒ Ø³Ø¨Ø§ÙƒØ©ØŒ ÙƒÙ‡Ø±Ø¨Ø§Ø¡
                
                Ø£Ø¬Ø¨ Ø¨Ù€ JSON ÙÙ‚Ø·:
                {
                    "category": "Ø§Ø³Ù… Ø§Ù„ÙØ¦Ø©",
                    "confidence": 0.95,
                    "reasoning": "Ø§Ù„Ø³Ø¨Ø¨"
                }
            `;

            const result = await model.generateContent(prompt);
            const aiResponse = JSON.parse(result.response.text());

            return {
                ...basicClassification,
                category: aiResponse.category,
                confidence: aiResponse.confidence,
                aiReasoning: aiResponse.reasoning
            };
        }

        return basicClassification;
    }
}
```

---

## ğŸ¯ Ø§Ù„ÙÙˆØ§Ø¦Ø¯

### âœ… Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
1. **ØªÙˆÙÙŠØ± Ø§Ù„ÙˆÙ‚Øª**: ØªØµÙ†ÙŠÙ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø¨Ù†ÙˆØ¯
2. **Ø¯Ù‚Ø© Ø£Ø¹Ù„Ù‰**: Ø­Ø³Ø§Ø¨ Ø§Ù„Ù‡Ø¯Ø± Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„ÙƒÙ„ ÙØ¦Ø©
3. **Ø±Ø¤Ù‰ Ø£ÙØ¶Ù„**: Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙˆØªÙ‚Ø§Ø±ÙŠØ± Ù…ÙØµÙ„Ø©
4. **ØªØ­Ø°ÙŠØ±Ø§Øª Ø°ÙƒÙŠØ©**: Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙˆØ§Ù„Ù…Ø´Ø§ÙƒÙ„

### âœ… Ù„Ù„Ù…Ø´Ø±ÙˆØ¹
1. **ØªØ­ÙƒÙ… Ø£ÙØ¶Ù„**: Ù…Ø¹Ø±ÙØ© ØªÙˆØ²ÙŠØ¹ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ
2. **ØªØ®Ø·ÙŠØ· Ø¯Ù‚ÙŠÙ‚**: Ø­Ø³Ø§Ø¨ Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ù…Ø¹ Ø§Ù„Ù‡Ø¯Ø±
3. **ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ø­ØªØ±Ø§ÙÙŠØ©**: Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø´ÙƒÙ„ Ù…Ø±Ø¦ÙŠ

---

## ğŸ“ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©

1. âœ… **ØªÙ†ÙÙŠØ° `ItemClassifier`**
2. âœ… **Ø¯Ù…Ø¬Ù‡ Ù…Ø¹ `parseExcel`**
3. âœ… **Ø¥Ø¶Ø§ÙØ© ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¹Ø±Ø¶**
4. âœ… **Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø¹ Ù…Ù„ÙØ§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ©**
5. âœ… **(Ø§Ø®ØªÙŠØ§Ø±ÙŠ) Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Gemini AI**

---

**Ø§Ù„Ø®Ù„Ø§ØµØ©:** Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ Ù…Ù…ØªØ§Ø² Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª âœ…  
Ù…Ø¹ Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„Ø°ÙƒÙŠØŒ Ø³ÙŠØµØ¨Ø­ Ø£Ø¯Ø§Ø© Ù‚ÙˆÙŠØ© Ø¬Ø¯Ø§Ù‹! ğŸš€
