<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AN.AI Ahmed Nageh - نظام إدارة المشاريع المتقدم</title>
    <!-- Tailwind CSS will be included in the build -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <script src="https://apis.google.com/js/api.js"></script>
    <script>
        // CRITICAL FIX: Must run BEFORE any React code loads
        // Fix for React Scheduler error in production builds
        (function() {
            // Ensure window.performance exists
            if (typeof window !== 'undefined') {
                // Create performance object if missing
                if (!window.performance) {
                    window.performance = {};
                }
                
                // Add performance.now() method
                if (!window.performance.now) {
                    var startTime = Date.now();
                    window.performance.now = function() { 
                        return Date.now() - startTime; 
                    };
                }
                
                // Add other required performance methods
                if (!window.performance.mark) {
                    window.performance.mark = function() {};
                }
                if (!window.performance.measure) {
                    window.performance.measure = function() {};
                }
                if (!window.performance.clearMarks) {
                    window.performance.clearMarks = function() {};
                }
                if (!window.performance.clearMeasures) {
                    window.performance.clearMeasures = function() {};
                }
            }
        })();
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap');
        
        :root {
            --font-family-sans: 'Tajawal', sans-serif;
        }

        * {
            font-family: var(--font-family-sans);
        }
        
        /* Custom scrollbar for a modern look */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        .dark ::-webkit-scrollbar-track {
            background: #1e293b;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 10px;
        }
        .dark ::-webkit-scrollbar-thumb {
            background: #475569;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
        .dark ::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-950">
    <div id="root">
        <div style="display: flex; justify-content: center; align-items: center; height: 100vh; font-family: 'Tajawal', sans-serif; direction: rtl;">
            <div style="text-align: center;">
                <div style="width: 50px; height: 50px; border: 5px solid #f3f3f3; border-top: 5px solid #3498db; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 20px;"></div>
                <h2 style="color: #333; font-size: 24px; margin-bottom: 10px;">جاري التحميل...</h2>
                <p style="color: #666; font-size: 14px;">نظام إدارة المشاريع NOUFAL</p>
            </div>
        </div>
        <style>
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
        </style>
    </div>
    <script type="module" src="/index.tsx"></script>
</body>
</html>