# ğŸš€ Ø¯Ù„ÙŠÙ„ Ø®Ø¯Ù…Ø© Ø§Ù„ØªÙƒØ§Ù…Ù„ Ø§Ù„Ù…Ø­Ø³Ù‘Ù†Ø©
# Enhanced Integration Service Guide

**Ø§Ù„ØªØ§Ø±ÙŠØ®:** 6 Ù†ÙˆÙÙ…Ø¨Ø± 2025  
**Ø§Ù„Ø¥ØµØ¯Ø§Ø±:** 2.0  
**Ø§Ù„Ø­Ø§Ù„Ø©:** âœ… Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¥Ù†ØªØ§Ø¬

---

## ğŸ“‹ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª

1. [Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©](#Ù†Ø¸Ø±Ø©-Ø¹Ø§Ù…Ø©)
2. [Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©](#Ø§Ù„Ù…ÙŠØ²Ø§Øª-Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©)
3. [Ø§Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø³Ø±ÙŠØ¹](#Ø§Ù„Ø¨Ø¯Ø¡-Ø§Ù„Ø³Ø±ÙŠØ¹)
4. [Ù†Ø¸Ø§Ù… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡](#Ù†Ø¸Ø§Ù…-Ù…Ø¹Ø§Ù„Ø¬Ø©-Ø§Ù„Ø£Ø®Ø·Ø§Ø¡)
5. [Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª](#Ù†Ø¸Ø§Ù…-Ø§Ù„ØªØ­Ù‚Ù‚-Ù…Ù†-Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª)
6. [Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙˆØ§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©](#Ù†Ø¸Ø§Ù…-Ø§Ù„ØªØ³Ø¬ÙŠÙ„-ÙˆØ§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©)
7. [Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©](#Ø§Ù„Ø£Ù…Ø«Ù„Ø©-Ø§Ù„Ø¹Ù…Ù„ÙŠØ©)
8. [Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª](#Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª)
9. [Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù„ØªØ­Ø³ÙŠÙ†](#Ø§Ù„Ø£Ø¯Ø§Ø¡-ÙˆØ§Ù„ØªØ­Ø³ÙŠÙ†)
10. [Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©](#Ø§Ù„Ø£Ø³Ø¦Ù„Ø©-Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©)

---

## ğŸ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Ø®Ø¯Ù…Ø© Ø§Ù„ØªÙƒØ§Ù…Ù„ Ø§Ù„Ù…Ø­Ø³Ù‘Ù†Ø© Ù‡ÙŠ Ù†Ø¸Ø§Ù… Ù…ØªÙƒØ§Ù…Ù„ ÙŠÙˆÙØ±:

- âœ… **Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø®Ø·Ø§Ø¡ Ø´Ø§Ù…Ù„Ø©** Ù…Ø¹ Ø£Ù†ÙˆØ§Ø¹ Ø£Ø®Ø·Ø§Ø¡ Ù…Ø®ØµØµØ©
- âœ… **ØªØ­Ù‚Ù‚ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª** Ù…Ø¹ Ø±Ø³Ø§Ø¦Ù„ Ø®Ø·Ø£ ÙˆØ§Ø¶Ø­Ø©
- âœ… **Ù†Ø¸Ø§Ù… ØªØ³Ø¬ÙŠÙ„ Ù…ØªÙ‚Ø¯Ù…** Ù…Ø¹ Ù…Ø³ØªÙˆÙŠØ§Øª Ù…Ø®ØªÙ„ÙØ©
- âœ… **Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡** Ù…Ø¹ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ØªÙØµÙŠÙ„ÙŠØ©
- âœ… **Ø¥Ø¹Ø§Ø¯Ø© Ù…Ø­Ø§ÙˆÙ„Ø© Ø°ÙƒÙŠØ©** Ù„Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ÙØ§Ø´Ù„Ø©
- âœ… **ÙƒÙˆØ¯ Ù†Ø¸ÙŠÙ ÙˆÙ…ÙˆØ«Ù‚** Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¥Ù†ØªØ§Ø¬

---

## âœ¨ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

### 1. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø°ÙƒÙŠØ©

```typescript
// Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©
enum ErrorType {
  VALIDATION_ERROR,      // Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  SYNC_ERROR,           // Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
  DATA_INTEGRITY_ERROR, // Ø£Ø®Ø·Ø§Ø¡ ØªÙƒØ§Ù…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  CALCULATION_ERROR,    // Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
  DATABASE_ERROR,       // Ø£Ø®Ø·Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  PERMISSION_ERROR,     // Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
  NOT_FOUND_ERROR,      // Ø£Ø®Ø·Ø§Ø¡ Ø¹Ø¯Ù… Ø§Ù„Ø¹Ø«ÙˆØ±
  UNKNOWN_ERROR         // Ø£Ø®Ø·Ø§Ø¡ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ©
}
```

### 2. Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

```typescript
// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¨Ù†Ø¯ Ù…Ù‚Ø§ÙŠØ³Ø§Øª
const validation = DataValidator.validateBOQItem(item);
if (!validation.valid) {
  console.log('Ø£Ø®Ø·Ø§Ø¡:', validation.errors);
}
```

### 3. Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…

```typescript
// Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„
logger.debug('Ø±Ø³Ø§Ù„Ø© ØªØµØ­ÙŠØ­');     // Ù„Ù„Ù…Ø·ÙˆØ±ÙŠÙ†
logger.info('Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø©');      // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ø¯ÙŠØ©
logger.warn('ØªØ­Ø°ÙŠØ±');             // ØªØ­Ø°ÙŠØ±Ø§Øª
logger.error('Ø®Ø·Ø£');              // Ø£Ø®Ø·Ø§Ø¡
logger.critical('Ø®Ø·Ø£ Ø­Ø±Ø¬');       // Ø£Ø®Ø·Ø§Ø¡ Ø­Ø±Ø¬Ø©
```

### 4. Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡

```typescript
// Ø¨Ø¯Ø¡ Ù‚ÙŠØ§Ø³ Ø§Ù„Ø£Ø¯Ø§Ø¡
const endTimer = performanceMonitor.startTimer('operationName');
// ... ØªÙ†ÙÙŠØ° Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ...
endTimer(); // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù‚ÙŠØ§Ø³

// Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
const metrics = performanceMonitor.getMetrics('operationName');
console.log('Ù…ØªÙˆØ³Ø· Ø§Ù„ÙˆÙ‚Øª:', metrics.average, 'ms');
```

---

## ğŸš€ Ø§Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø³Ø±ÙŠØ¹

### Ø§Ù„ØªØ«Ø¨ÙŠØª

```bash
# Ù†Ø³Ø® Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
cp IntegratedServiceEnhanced.ts src/services/integration/
```

### Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ

```typescript
import { 
  integrationService,
  logger,
  performanceMonitor 
} from './services/integration/IntegratedServiceEnhanced';

// 1. Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ù‚Ø§ÙŠØ³Ø§Øª Ù…Ø¹ Ø¬Ø¯ÙˆÙ„ Ø²Ù…Ù†ÙŠ
const result = await integrationService.syncCalculationToSchedule(
  boqItem,
  'project-001'
);

if (result.success) {
  console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©:', result.data);
} else {
  console.error('âŒ ÙØ´Ù„Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©:', result.error);
}

// 2. Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¬Ù„Ø§Øª
const logs = logger.getLogs();
console.log('Ø§Ù„Ø³Ø¬Ù„Ø§Øª:', logs);

// 3. Ø¹Ø±Ø¶ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡
const metrics = performanceMonitor.getAllMetrics();
console.log('Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:', metrics);
```

---

## ğŸ›¡ï¸ Ù†Ø¸Ø§Ù… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

### 1. ÙØ¦Ø© Ø§Ù„Ø®Ø·Ø£ Ø§Ù„Ù…Ø®ØµØµØ©

```typescript
// Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø·Ø£ Ù…Ø®ØµØµ
throw new IntegrationError(
  ErrorType.VALIDATION_ERROR,
  'ÙØ´Ù„ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
  { field: 'quantity', value: -100 },
  400 // status code
);
```

### 2. Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ

```typescript
try {
  // Ø¹Ù…Ù„ÙŠØ© Ù‚Ø¯ ØªÙØ´Ù„
  await riskyOperation();
} catch (error) {
  // Ù…Ø¹Ø§Ù„Ø¬Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„Ù„Ø®Ø·Ø£
  const response = errorHandler.handle(error, {
    operation: 'riskyOperation',
    timestamp: new Date()
  });
  
  console.log(response);
  // {
  //   success: false,
  //   error: {
  //     type: 'VALIDATION_ERROR',
  //     message: 'ÙØ´Ù„ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
  //     context: {...},
  //     statusCode: 400,
  //     timestamp: '2025-11-06T...'
  //   }
  // }
}
```

### 3. Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©

```typescript
// ØªÙ†ÙÙŠØ° Ø¹Ù…Ù„ÙŠØ© Ù…Ø¹ Ø¥Ø¹Ø§Ø¯Ø© Ù…Ø­Ø§ÙˆÙ„Ø©
await retryHandler.executeWithRetry(
  async () => {
    // Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªÙŠ Ù‚Ø¯ ØªÙØ´Ù„
    await database.save(data);
  },
  'Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
  { projectId: 'proj-001' }
);

// Ø³ÙŠØ¹ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3 Ù…Ø±Ø§Øª Ù…Ø¹ ØªØ£Ø®ÙŠØ± Ù…ØªØ²Ø§ÙŠØ¯
// Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: ÙÙˆØ±Ø§Ù‹
// Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ø¨Ø¹Ø¯ 1 Ø«Ø§Ù†ÙŠØ©
// Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: Ø¨Ø¹Ø¯ 2 Ø«Ø§Ù†ÙŠØ©
```

---

## âœ… Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¨Ù†Ø¯ Ø§Ù„Ù…Ù‚Ø§ÙŠØ³Ø§Øª

```typescript
const boqItem = {
  id: 'boq-001',
  description: 'Ø®Ø±Ø³Ø§Ù†Ø© Ø§Ù„Ø£Ø³Ø§Ø³Ø§Øª',
  quantity: 100,
  unit: 'mÂ³',
  unitPrice: 500,
  timePerUnit: 2,
  resourcesRequired: {
    laborers: 5,
    equipment: ['mixer', 'pump'],
    skillLevel: 'skilled'
  }
};

// Ø§Ù„ØªØ­Ù‚Ù‚
const validation = DataValidator.validateBOQItem(boqItem);

if (validation.valid) {
  console.log('âœ… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØµØ­ÙŠØ­Ø©');
} else {
  console.log('âŒ Ø£Ø®Ø·Ø§Ø¡:', validation.errors);
  // [
  //   'Ø§Ù„ÙƒÙ…ÙŠØ© Ù…Ø·Ù„ÙˆØ¨Ø© ÙˆÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø±Ù‚Ù…Ø§Ù‹ Ù…ÙˆØ¬Ø¨Ø§Ù‹',
  //   'Ø§Ù„ÙˆØ­Ø¯Ø© Ù…Ø·Ù„ÙˆØ¨Ø© ÙˆÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ù†ØµØ§Ù‹'
  // ]
}
```

### 2. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…Ù‡Ù…Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„

```typescript
const scheduleTask = {
  id: 'task-001',
  name: 'ØµØ¨ Ø§Ù„Ø®Ø±Ø³Ø§Ù†Ø©',
  duration: 10,
  startDate: new Date('2025-01-01'),
  endDate: new Date('2025-01-11'),
  budgetedCost: 50000,
  actualCost: 52000
};

const validation = DataValidator.validateScheduleTask(scheduleTask);
```

### 3. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨Ù†Ø¯ Ø§Ù„Ù…Ø§Ù„ÙŠ

```typescript
const financeItem = {
  id: 'fin-001',
  description: 'Ø®Ø±Ø³Ø§Ù†Ø©',
  quantity: 100,
  unit: 'mÂ³',
  unitPrice: 500,
  totalCost: 50000, // ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ³Ø§ÙˆÙŠ quantity Ã— unitPrice
  estimatedCost: 50000,
  actualCost: 52000,
  variance: 4 // Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©
};

const validation = DataValidator.validateFinanceItem(financeItem);
```

### 4. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªÙƒØ§Ù…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

```typescript
// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…ØªØ³Ù‚Ø© Ø¨ÙŠÙ† Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø«Ù„Ø§Ø«Ø©
const validation = DataValidator.validateDataIntegrity(
  boqItem,
  scheduleTask,
  financeItem
);

if (!validation.valid) {
  console.log('âŒ Ø¹Ø¯Ù… ØªØ·Ø§Ø¨Ù‚ ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', validation.errors);
  // [
  //   'Ø§Ù„ÙƒÙ…ÙŠØ© ÙÙŠ Ø§Ù„Ù…Ù‚Ø§ÙŠØ³Ø§Øª Ù„Ø§ ØªØ·Ø§Ø¨Ù‚ Ø§Ù„ÙƒÙ…ÙŠØ© ÙÙŠ Ø§Ù„Ù…Ø§Ù„ÙŠØ©',
  //   'Ø§Ù„Ù…Ø¯Ø© ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ Ù„Ø§ ØªØ·Ø§Ø¨Ù‚ Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø©'
  // ]
}
```

---

## ğŸ“ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙˆØ§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©

### 1. Ø§Ø³ØªØ®Ø¯Ø§Ù… Logger

```typescript
// ØªØ³Ø¬ÙŠÙ„ Ø±Ø³Ø§Ø¦Ù„ Ù…Ø®ØªÙ„ÙØ© Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª
logger.debug('ØªÙØ§ØµÙŠÙ„ ØªØµØ­ÙŠØ­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡', { variable: value });
logger.info('Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©', { operation: 'sync' });
logger.warn('ØªØ­Ø°ÙŠØ±: Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø¯ÙŠÙ…Ø©', { age: 30 });
logger.error('ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', error);
logger.critical('Ø®Ø·Ø£ Ø­Ø±Ø¬: Ø§Ù„Ù†Ø¸Ø§Ù… ØºÙŠØ± Ù…Ø³ØªÙ‚Ø±', { details });

// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø³Ø¬Ù„Ø§Øª
const allLogs = logger.getLogs();

// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø³Ø¬Ù„Ø§Øª Ù…Ø¹ÙŠÙ†Ø© ÙÙ‚Ø·
const errorLogs = logger.getLogs(LogLevel.ERROR);
const criticalLogs = logger.getLogs(LogLevel.CRITICAL);

// Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„Ø§Øª
logger.clearLogs();
```

### 2. Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡

```typescript
// Ø·Ø±ÙŠÙ‚Ø© 1: Ø§Ø³ØªØ®Ø¯Ø§Ù… Timer
const endTimer = performanceMonitor.startTimer('operationName');
try {
  // ØªÙ†ÙÙŠØ° Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
  await longRunningOperation();
} finally {
  endTimer(); // Ø³ÙŠØ³Ø¬Ù„ Ø§Ù„ÙˆÙ‚Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
}

// Ø·Ø±ÙŠÙ‚Ø© 2: Ø§Ø³ØªØ®Ø¯Ø§Ù… Wrapper
async function monitoredOperation() {
  const endTimer = performanceMonitor.startTimer('monitoredOperation');
  
  try {
    const result = await someOperation();
    return result;
  } finally {
    endTimer();
  }
}

// Ø¹Ø±Ø¶ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¹Ù…Ù„ÙŠØ© Ù…Ø­Ø¯Ø¯Ø©
const metrics = performanceMonitor.getMetrics('operationName');
console.log({
  count: metrics.count,        // Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø§Øª
  average: metrics.average,    // Ù…ØªÙˆØ³Ø· Ø§Ù„ÙˆÙ‚Øª
  min: metrics.min,            // Ø£Ù‚Ù„ ÙˆÙ‚Øª
  max: metrics.max,            // Ø£ÙƒØ¨Ø± ÙˆÙ‚Øª
  total: metrics.total         // Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙƒÙ„ÙŠ
});

// Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
const allMetrics = performanceMonitor.getAllMetrics();
console.log(allMetrics);
// {
//   syncCalculationToSchedule: { count: 5, average: '245.32', ... },
//   syncScheduleToFinance: { count: 3, average: '156.78', ... }
// }

// Ù…Ø³Ø­ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
performanceMonitor.clearMetrics();
```

---

## ğŸ’» Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©

### Ù…Ø«Ø§Ù„ 1: Ø³ÙŠØ± Ø¹Ù…Ù„ ÙƒØ§Ù…Ù„ Ù„Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¯ Ù…Ù‚Ø§ÙŠØ³Ø§Øª

```typescript
async function addBOQItemWorkflow() {
  // 1. ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø¨Ù†Ø¯
  const boqItem = {
    id: 'boq-001',
    description: 'Ø®Ø±Ø³Ø§Ù†Ø© Ø§Ù„Ø£Ø³Ø§Ø³Ø§Øª C30',
    quantity: 150,
    unit: 'mÂ³',
    unitPrice: 550,
    timePerUnit: 2.5,
    resourcesRequired: {
      laborers: 8,
      equipment: ['concrete-mixer', 'pump', 'vibrator'],
      skillLevel: 'skilled' as const
    },
    plannedStartDate: new Date('2025-01-15'),
    plannedEndDate: new Date('2025-02-15'),
    actualProgress: 0
  };

  try {
    // 2. Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ
    logger.info('ğŸš€ Ø¨Ø¯Ø¡ Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¯ Ù…Ù‚Ø§ÙŠØ³Ø§Øª Ø¬Ø¯ÙŠØ¯', { boqItem });
    
    const scheduleResult = await integrationService.syncCalculationToSchedule(
      boqItem,
      'project-001'
    );

    if (!scheduleResult.success) {
      throw new Error('ÙØ´Ù„Øª Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ');
    }

    logger.info('âœ… ØªÙ…Øª Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ', { scheduleTask: scheduleResult.data.scheduleTask });

    // 3. Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ Ø§Ù„Ù…Ø§Ù„ÙŠØ©
    const financeResult = await integrationService.syncCalculationToFinance(
      boqItem,
      'project-001'
    );

    if (!financeResult.success) {
      throw new Error('ÙØ´Ù„Øª Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©');
    }

    logger.info('âœ… ØªÙ…Øª Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©', { financeItem: financeResult.data.financeItem });

    // 4. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªÙƒØ§Ù…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    const integrityCheck = DataValidator.validateDataIntegrity(
      boqItem,
      scheduleResult.data.scheduleTask,
      financeResult.data.financeItem
    );

    if (!integrityCheck.valid) {
      logger.warn('âš ï¸ Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ ØªÙƒØ§Ù…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', { errors: integrityCheck.errors });
    }

    // 5. Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©
    return {
      success: true,
      boqItem,
      scheduleTask: scheduleResult.data.scheduleTask,
      financeItem: financeResult.data.financeItem,
      metrics: performanceMonitor.getAllMetrics()
    };

  } catch (error) {
    logger.error('âŒ ÙØ´Ù„ Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„', { error });
    return errorHandler.handle(error as Error, { boqItem });
  }
}
```

### Ù…Ø«Ø§Ù„ 2: ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚Ø¯Ù… Ù…Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹

```typescript
async function updateSiteProgress() {
  const progressUpdate = {
    taskId: 'task-001',
    completedQuantity: 50, // ØªÙ… Ø¥Ù†Ø¬Ø§Ø² 50 Ù…Â³
    date: new Date(),
    notes: 'ØªÙ‚Ø¯Ù… Ø¬ÙŠØ¯ØŒ Ø§Ù„Ø·Ù‚Ø³ Ù…Ù…ØªØ§Ø²',
    photos: ['photo1.jpg', 'photo2.jpg'],
    quality: 'excellent' as const
  };

  try {
    // 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ù‡Ù…Ø©
    const task = await getScheduleTask(progressUpdate.taskId);
    
    // 2. Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©
    const linkedBOQ = await getBOQItem(task.calculationItemIds[0]);
    const percentComplete = (progressUpdate.completedQuantity / linkedBOQ.quantity) * 100;

    logger.info('ğŸ“Š ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚Ø¯Ù…', { 
      completed: progressUpdate.completedQuantity,
      total: linkedBOQ.quantity,
      percent: percentComplete 
    });

    // 3. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ£Ø®ÙŠØ±
    if (percentComplete < task.expectedProgress) {
      const delay = task.expectedProgress - percentComplete;
      logger.warn('âš ï¸ ØªØ£Ø®ÙŠØ± Ù…Ø­ØªÙ…Ù„', { delay });
      
      // Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ù…Ø¯ÙŠØ±
      await notifyManager({
        type: 'delay-warning',
        task: task.name,
        delay: delay
      });
    }

    // 4. ØªØ­Ø¯ÙŠØ« Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†Ø¸Ù…Ø©
    await Promise.all([
      updateBOQProgress(linkedBOQ.id, progressUpdate.completedQuantity),
      updateScheduleProgress(task.id, percentComplete),
      updateFinancialProgress(task.financeItemIds[0], percentComplete)
    ]);

    logger.info('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚Ø¯Ù… ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†Ø¸Ù…Ø©');

    return { success: true, percentComplete };

  } catch (error) {
    logger.error('âŒ ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚Ø¯Ù…', { error });
    return errorHandler.handle(error as Error, { progressUpdate });
  }
}
```

### Ù…Ø«Ø§Ù„ 3: ØªÙ‚Ø±ÙŠØ± ÙŠÙˆÙ…ÙŠ Ø´Ø§Ù…Ù„

```typescript
async function generateDailyReport(projectId: string) {
  try {
    logger.info('ğŸ“‹ Ø¨Ø¯Ø¡ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ', { projectId });

    // 1. Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    const boqItems = await getAllBOQItems(projectId);
    const scheduleTasks = await getAllScheduleTasks(projectId);
    const financeItems = await getAllFinanceItems(projectId);

    // 2. Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
    const stats = {
      boq: {
        total: boqItems.length,
        completed: boqItems.filter(i => i.actualProgress === 100).length,
        inProgress: boqItems.filter(i => i.actualProgress > 0 && i.actualProgress < 100).length
      },
      schedule: {
        total: scheduleTasks.length,
        onTime: scheduleTasks.filter(t => t.delayDays === 0).length,
        delayed: scheduleTasks.filter(t => t.delayDays > 0).length
      },
      finance: {
        totalBudget: financeItems.reduce((sum, i) => sum + i.estimatedCost, 0),
        totalActual: financeItems.reduce((sum, i) => sum + i.actualCost, 0),
        variance: 0
      }
    };

    stats.finance.variance = 
      ((stats.finance.totalActual - stats.finance.totalBudget) / stats.finance.totalBudget) * 100;

    // 3. Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø¬Ù„Ø§Øª
    const todayLogs = logger.getLogs().filter(log => {
      const logDate = new Date(log.timestamp);
      const today = new Date();
      return logDate.toDateString() === today.toDateString();
    });

    const errors = todayLogs.filter(log => log.level === 'ERROR' || log.level === 'CRITICAL');

    // 4. Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡
    const performance = performanceMonitor.getAllMetrics();

    // 5. Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ±
    const report = {
      date: new Date().toISOString(),
      projectId,
      statistics: stats,
      errors: errors.length,
      performance,
      summary: {
        boqProgress: ((stats.boq.completed / stats.boq.total) * 100).toFixed(2) + '%',
        scheduleStatus: stats.schedule.delayed === 0 ? 'ÙÙŠ Ø§Ù„Ù…ÙˆØ¹Ø¯' : `Ù…ØªØ£Ø®Ø± (${stats.schedule.delayed} Ù…Ù‡Ù…Ø©)`,
        budgetStatus: stats.finance.variance > 0 ? `Ø²ÙŠØ§Ø¯Ø© ${stats.finance.variance.toFixed(2)}%` : `ÙÙŠ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©`,
        errorCount: errors.length
      }
    };

    logger.info('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ', { report });

    // 6. Ø­ÙØ¸ Ø§Ù„ØªÙ‚Ø±ÙŠØ±
    await saveReport(report);

    // 7. Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯
    await emailReport(report, ['manager@example.com']);

    return report;

  } catch (error) {
    logger.error('âŒ ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ', { error });
    return errorHandler.handle(error as Error, { projectId });
  }
}
```

---

## ğŸ§ª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª

### Ø¥Ø¹Ø¯Ø§Ø¯ Ø¨ÙŠØ¦Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±

```typescript
import { describe, it, expect, beforeEach } from '@jest/globals';
import {
  integrationService,
  DataValidator,
  logger,
  performanceMonitor
} from './IntegratedServiceEnhanced';

beforeEach(() => {
  // ØªÙ†Ø¸ÙŠÙ Ù‚Ø¨Ù„ ÙƒÙ„ Ø§Ø®ØªØ¨Ø§Ø±
  logger.clearLogs();
  performanceMonitor.clearMetrics();
});
```

### Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

```typescript
describe('DataValidator', () => {
  describe('validateBOQItem', () => {
    it('ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙ‚Ø¨Ù„ Ø¨Ù†Ø¯ ØµØ­ÙŠØ­', () => {
      const validItem = {
        id: 'boq-001',
        description: 'Ø®Ø±Ø³Ø§Ù†Ø©',
        quantity: 100,
        unit: 'mÂ³',
        unitPrice: 500,
        timePerUnit: 2,
        resourcesRequired: {
          laborers: 5,
          equipment: ['mixer'],
          skillLevel: 'skilled'
        }
      };

      const result = DataValidator.validateBOQItem(validItem);
      
      expect(result.valid).toBe(true);
      expect(result.errors).toHaveLength(0);
    });

    it('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ±ÙØ¶ ÙƒÙ…ÙŠØ© Ø³Ø§Ù„Ø¨Ø©', () => {
      const invalidItem = {
        id: 'boq-001',
        description: 'Ø®Ø±Ø³Ø§Ù†Ø©',
        quantity: -100, // âŒ Ø³Ø§Ù„Ø¨
        unit: 'mÂ³',
        unitPrice: 500,
        timePerUnit: 2,
        resourcesRequired: {
          laborers: 5,
          equipment: ['mixer'],
          skillLevel: 'skilled'
        }
      };

      const result = DataValidator.validateBOQItem(invalidItem);
      
      expect(result.valid).toBe(false);
      expect(result.errors).toContain('Ø§Ù„ÙƒÙ…ÙŠØ© Ù…Ø·Ù„ÙˆØ¨Ø© ÙˆÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø±Ù‚Ù…Ø§Ù‹ Ù…ÙˆØ¬Ø¨Ø§Ù‹');
    });

    it('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ±ÙØ¶ Ù…Ø¹Ø±Ù ÙØ§Ø±Øº', () => {
      const invalidItem = {
        id: '', // âŒ ÙØ§Ø±Øº
        description: 'Ø®Ø±Ø³Ø§Ù†Ø©',
        quantity: 100,
        unit: 'mÂ³',
        unitPrice: 500,
        timePerUnit: 2,
        resourcesRequired: {
          laborers: 5,
          equipment: ['mixer'],
          skillLevel: 'skilled'
        }
      };

      const result = DataValidator.validateBOQItem(invalidItem);
      
      expect(result.valid).toBe(false);
      expect(result.errors).toContain('Ø§Ù„Ù…Ø¹Ø±Ù Ù…Ø·Ù„ÙˆØ¨ ÙˆÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù†ØµØ§Ù‹');
    });
  });
});
```

### Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø®Ø¯Ù…Ø© Ø§Ù„ØªÙƒØ§Ù…Ù„

```typescript
describe('IntegrationService', () => {
  describe('syncCalculationToSchedule', () => {
    it('ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙ†Ø´Ø¦ Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙˆÙ„ Ù…Ù† Ø¨Ù†Ø¯ Ù…Ù‚Ø§ÙŠØ³Ø§Øª', async () => {
      const boqItem = {
        id: 'boq-001',
        description: 'Ø®Ø±Ø³Ø§Ù†Ø© Ø§Ù„Ø£Ø³Ø§Ø³Ø§Øª',
        quantity: 100,
        unit: 'mÂ³',
        unitPrice: 500,
        timePerUnit: 2,
        resourcesRequired: {
          laborers: 5,
          equipment: ['mixer'],
          skillLevel: 'skilled'
        }
      };

      const result = await integrationService.syncCalculationToSchedule(
        boqItem,
        'project-001'
      );

      expect(result.success).toBe(true);
      expect(result.data).toBeDefined();
      expect(result.data.scheduleTask).toBeDefined();
      expect(result.data.scheduleTask.duration).toBe(200); // 100 Ã— 2
      expect(result.data.scheduleTask.budgetedCost).toBe(50000); // 100 Ã— 500
    });

    it('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ±ÙØ¶ Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± ØµØ­ÙŠØ­Ø©', async () => {
      const invalidItem = {
        id: 'boq-001',
        description: 'Ø®Ø±Ø³Ø§Ù†Ø©',
        quantity: -100, // âŒ Ø³Ø§Ù„Ø¨
        unit: 'mÂ³',
        unitPrice: 500,
        timePerUnit: 2,
        resourcesRequired: {
          laborers: 5,
          equipment: ['mixer'],
          skillLevel: 'skilled'
        }
      };

      const result = await integrationService.syncCalculationToSchedule(
        invalidItem,
        'project-001'
      );

      expect(result.success).toBe(false);
      expect(result.error).toBeDefined();
      expect(result.error.type).toBe('VALIDATION_ERROR');
    });

    it('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ³Ø¬Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ÙÙŠ Logger', async () => {
      const boqItem = {
        id: 'boq-001',
        description: 'Ø®Ø±Ø³Ø§Ù†Ø©',
        quantity: 100,
        unit: 'mÂ³',
        unitPrice: 500,
        timePerUnit: 2,
        resourcesRequired: {
          laborers: 5,
          equipment: ['mixer'],
          skillLevel: 'skilled'
        }
      };

      await integrationService.syncCalculationToSchedule(boqItem, 'project-001');

      const logs = logger.getLogs();
      expect(logs.length).toBeGreaterThan(0);
      
      const infoLogs = logs.filter(log => log.level === 'INFO');
      expect(infoLogs.length).toBeGreaterThan(0);
    });

    it('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ³Ø¬Ù„ Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙÙŠ PerformanceMonitor', async () => {
      const boqItem = {
        id: 'boq-001',
        description: 'Ø®Ø±Ø³Ø§Ù†Ø©',
        quantity: 100,
        unit: 'mÂ³',
        unitPrice: 500,
        timePerUnit: 2,
        resourcesRequired: {
          laborers: 5,
          equipment: ['mixer'],
          skillLevel: 'skilled'
        }
      };

      await integrationService.syncCalculationToSchedule(boqItem, 'project-001');

      const metrics = performanceMonitor.getMetrics('syncCalculationToSchedule');
      expect(metrics).toBeDefined();
      expect(metrics.count).toBe(1);
      expect(parseFloat(metrics.average)).toBeGreaterThan(0);
    });
  });
});
```

### Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ØªÙƒØ§Ù…Ù„

```typescript
describe('Integration Tests', () => {
  it('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªØ²Ø§Ù…Ù† Ø¨Ù†Ø¯ Ù…Ù‚Ø§ÙŠØ³Ø§Øª Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†Ø¸Ù…Ø©', async () => {
    const boqItem = {
      id: 'boq-001',
      description: 'Ø®Ø±Ø³Ø§Ù†Ø© Ø§Ù„Ø£Ø³Ø§Ø³Ø§Øª',
      quantity: 100,
      unit: 'mÂ³',
      unitPrice: 500,
      timePerUnit: 2,
      resourcesRequired: {
        laborers: 5,
        equipment: ['mixer'],
        skillLevel: 'skilled'
      }
    };

    // 1. Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ Ø§Ù„Ø¬Ø¯ÙˆÙ„
    const scheduleResult = await integrationService.syncCalculationToSchedule(
      boqItem,
      'project-001'
    );

    expect(scheduleResult.success).toBe(true);

    // 2. Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ Ø§Ù„Ù…Ø§Ù„ÙŠØ©
    const financeResult = await integrationService.syncCalculationToFinance(
      boqItem,
      'project-001'
    );

    expect(financeResult.success).toBe(true);

    // 3. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªÙƒØ§Ù…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    const integrityCheck = DataValidator.validateDataIntegrity(
      boqItem,
      scheduleResult.data.scheduleTask,
      financeResult.data.financeItem
    );

    expect(integrityCheck.valid).toBe(true);
    expect(integrityCheck.errors).toHaveLength(0);
  });

  it('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­', async () => {
    const invalidItem = {
      id: '',
      description: '',
      quantity: -100,
      unit: '',
      unitPrice: -500,
      timePerUnit: 0,
      resourcesRequired: {
        laborers: -5,
        equipment: 'not-an-array',
        skillLevel: 'invalid'
      }
    };

    const result = await integrationService.syncCalculationToSchedule(
      invalidItem,
      'project-001'
    );

    expect(result.success).toBe(false);
    expect(result.error).toBeDefined();
    expect(result.error.type).toBe('VALIDATION_ERROR');
    expect(result.error.context.errors.length).toBeGreaterThan(0);
  });
});
```

---

## âš¡ Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù„ØªØ­Ø³ÙŠÙ†

### Ù†ØµØ§Ø¦Ø­ Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡

1. **Ø§Ø³ØªØ®Ø¯Ø§Ù… Batch Operations**
```typescript
// âŒ Ø³ÙŠØ¡: Ù…Ø²Ø§Ù…Ù†Ø© Ø¹Ù†ØµØ± ÙˆØ§Ø­Ø¯ ÙÙŠ ÙƒÙ„ Ù…Ø±Ø©
for (const item of items) {
  await integrationService.syncCalculationToSchedule(item, projectId);
}

// âœ… Ø¬ÙŠØ¯: Ù…Ø²Ø§Ù…Ù†Ø© Ø¬Ù…Ø§Ø¹ÙŠØ©
await Promise.all(
  items.map(item => 
    integrationService.syncCalculationToSchedule(item, projectId)
  )
);
```

2. **Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª (Caching)**
```typescript
const cache = new Map();

async function getCachedBOQItem(id: string) {
  if (cache.has(id)) {
    return cache.get(id);
  }
  
  const item = await getBOQItem(id);
  cache.set(id, item);
  return item;
}
```

3. **Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡**
```typescript
// ØªØªØ¨Ø¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¨Ø·ÙŠØ¦Ø©
const metrics = performanceMonitor.getAllMetrics();
for (const [operation, stats] of Object.entries(metrics)) {
  if (parseFloat(stats.average) > 1000) { // Ø£ÙƒØ«Ø± Ù…Ù† Ø«Ø§Ù†ÙŠØ©
    logger.warn(`âš ï¸ Ø¹Ù…Ù„ÙŠØ© Ø¨Ø·ÙŠØ¦Ø©: ${operation}`, stats);
  }
}
```

---

## â“ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©

### Ø³1: ÙƒÙŠÙ Ø£ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…Ø®ØµØµØ©ØŸ

```typescript
try {
  await integrationService.syncCalculationToSchedule(item, projectId);
} catch (error) {
  if (error instanceof IntegrationError) {
    // Ø®Ø·Ø£ Ù…Ø¹Ø±ÙˆÙ
    console.log('Ù†ÙˆØ¹ Ø§Ù„Ø®Ø·Ø£:', error.type);
    console.log('Ø§Ù„Ø±Ø³Ø§Ù„Ø©:', error.message);
    console.log('Ø§Ù„Ø³ÙŠØ§Ù‚:', error.context);
  } else {
    // Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹
    console.error('Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ:', error);
  }
}
```

### Ø³2: ÙƒÙŠÙ Ø£Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø³Ø¬Ù„Ø§Øª ÙØªØ±Ø© Ù…Ø¹ÙŠÙ†Ø©ØŸ

```typescript
const allLogs = logger.getLogs();
const todayLogs = allLogs.filter(log => {
  const logDate = new Date(log.timestamp);
  const today = new Date();
  return logDate.toDateString() === today.toDateString();
});
```

### Ø³3: ÙƒÙŠÙ Ø£Ù‚ÙŠØ³ Ø£Ø¯Ø§Ø¡ Ø¹Ù…Ù„ÙŠØ© Ù…Ø­Ø¯Ø¯Ø©ØŸ

```typescript
const endTimer = performanceMonitor.startTimer('myOperation');
try {
  await myOperation();
} finally {
  endTimer();
}

const metrics = performanceMonitor.getMetrics('myOperation');
console.log('Ù…ØªÙˆØ³Ø· Ø§Ù„ÙˆÙ‚Øª:', metrics.average, 'ms');
```

### Ø³4: ÙƒÙŠÙ Ø£ØªØ­Ù‚Ù‚ Ù…Ù† ØªÙƒØ§Ù…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ

```typescript
const integrity = DataValidator.validateDataIntegrity(
  boqItem,
  scheduleTask,
  financeItem
);

if (!integrity.valid) {
  console.log('Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø§Ù„ØªÙƒØ§Ù…Ù„:', integrity.errors);
  // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø´Ø§ÙƒÙ„...
}
```

---

## ğŸ“š Ù…ÙˆØ§Ø±Ø¯ Ø¥Ø¶Ø§ÙÙŠØ©

- [Ø¯Ù„ÙŠÙ„ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª](./types/integrated/)
- [Ø£Ù…Ø«Ù„Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚](./examples/)
- [Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ÙˆØ­Ø¯Ø©](./tests/)
- [Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø¡](./PERFORMANCE.md)

---

## ğŸ¤ Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©

Ù„Ø¯ÙŠÙƒ Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ù„Ù„ØªØ­Ø³ÙŠÙ†ØŸ ÙŠØ±Ø¬Ù‰:

1. Ø¥Ù†Ø´Ø§Ø¡ Issue Ù…Ø¹ Ø§Ù„ÙˆØµÙ
2. Ø¥Ø±Ø³Ø§Ù„ Pull Request Ù…Ø¹ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
3. Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø±ÙˆØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª

---

## ğŸ“„ Ø§Ù„ØªØ±Ø®ÙŠØµ

MIT License - Ø§Ø³ØªØ®Ø¯Ù… Ø¨Ø­Ø±ÙŠØ© ÙÙŠ Ù…Ø´Ø§Ø±ÙŠØ¹Ùƒ! âœ¨

---

**ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ«:** 6 Ù†ÙˆÙÙ…Ø¨Ø± 2025  
**Ø§Ù„Ø¥ØµØ¯Ø§Ø±:** 2.0  
**Ø§Ù„Ø­Ø§Ù„Ø©:** âœ… Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¥Ù†ØªØ§Ø¬
